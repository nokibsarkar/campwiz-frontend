try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8c9d87ae-701c-4b3a-83cd-31fb98855561",e._sentryDebugIdIdentifier="sentry-dbid-8c9d87ae-701c-4b3a-83cd-31fb98855561")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8870],{12296:(e,t,s)=>{"use strict";s.d(t,{A:()=>w});var l=s(95155),a=s(7433),i=s(4007),n=s(12115),r=s(66655),o=s(55857),d=s(29716),u=s(78679),c=s(42861),h=s(79608),x=s(15788),m=s(51013),f=s(66766),b=s(50412);let g=(0,n.lazy)(()=>Promise.all([s.e(5534),s.e(3987)]).then(s.bind(s,13987))),v=(0,n.lazy)(()=>Promise.all([s.e(401),s.e(8776)]).then(s.bind(s,38776))),j=(0,n.lazy)(()=>s.e(3614).then(s.bind(s,23614))),p=(0,n.lazy)(()=>s.e(7594).then(s.bind(s,77594))),y=e=>{let{submission:t}=e,[s,r]=(0,n.useState)(!1),c=()=>{r(!s)};return(0,l.jsxs)(n.Suspense,{fallback:(0,l.jsx)(a.default,{}),children:[(0,l.jsx)(o.default,{onClick:c,className:"",disabled:s,variant:"text",color:"primary",size:"small",startIcon:(0,l.jsx)(x.A,{}),sx:{overflow:"hidden",textOverflow:"ellipsis"},children:"File Information"}),(0,l.jsxs)(d.A,{open:s,onClose:c,fullWidth:!0,maxWidth:"lg",className:"overflow-hidden",children:[(0,l.jsx)(i.A,{submission:t}),(0,l.jsx)(u.A,{children:(0,l.jsx)(o.default,{variant:"outlined",color:"error",onClick:c,startIcon:(0,l.jsx)(h.A,{}),children:"Close"})})]})]})},w=e=>{let{submission:t,currentEvaluation:s,nextImageWrapper:o,evaluationCount:d,assignmentCount:u,isLoading:h,currentCursor:x,error:w,submit:A,saving:S,returnTo:I,hasNext:C=!0,showProgress:N=!0,noHeader:k=!1,setImageLoaded:P,imageLoaded:z,onSkip:L}=e,E=(0,c.A)(e=>e.breakpoints.down("sm"));return(0,l.jsxs)(l.Fragment,{children:[!k&&(0,l.jsx)(b.default,{returnTo:I}),(0,l.jsxs)("div",{className:"flex sm:h-full w-full sm:flex-row flex-col",style:{height:"calc(95% - 75px)"},children:[(0,l.jsxs)("div",{className:"relative w-full sm:w-2/3 h-3/4 flex flex-col",children:[E&&(0,l.jsxs)("div",{className:"relative max-h-1/12 flex flex-col items-center",children:[(0,l.jsxs)("h1",{className:"font-bold text-center text-ellipsis",children:[t.title.substring(0,40),t.title.length>40?"...":""]}),(0,l.jsx)(y,{submission:t})]}),t.mediatype===r.z.IMAGE&&(0,l.jsx)(f.default,{src:t.thumburl||"/red-hill.svg",alt:t.title,className:"m-auto block object-contain max-h-5/6 self-center sm:self-auto",loading:"lazy",placeholder:"blur",blurDataURL:m.A.src,onLoad:()=>P(!0),width:t.thumbwidth||640,height:t.thumbheight,unoptimized:!0,onError:e=>{console.log("Error loading image",e),P(!0)}}),t.mediatype===r.z.VIDEO&&(0,l.jsx)(n.Suspense,{fallback:(0,l.jsx)(a.default,{sx:{width:"100%"}}),children:(0,l.jsx)(g,{poster:t.thumburl,src:t.url,height:t.height,width:t.width,onPosterLoaded:()=>P(!0)})}),t.mediatype===r.z.AUDIO&&(0,l.jsx)(n.Suspense,{fallback:(0,l.jsx)(a.default,{sx:{width:"100%"}}),children:(0,l.jsx)(v,{src:t.url,title:t.title,author:t.author,onPosterLoaded:()=>P(!0)})})]}),(0,l.jsx)("div",{className:"relative h-1/6 sm:h-11/12 w-full sm:w-1/3 flex flex-col justify-center items-center my-auto",children:(0,l.jsxs)(n.Suspense,{fallback:(0,l.jsx)(a.default,{sx:{width:"100%"}}),children:[!E&&(0,l.jsx)(i.A,{submission:t}),w&&(0,l.jsx)("p",{className:"text-center text-lg text-red-600 font-bold",children:w}),s.type===r.F.BINARY&&(0,l.jsx)(j,{goNext:()=>o(1),goPrevious:()=>o(-1),submitScore:A,evaluation:s,saving:S||h||!z,noPrevious:0===x,noNext:!C,evaluationCount:d,assignmnetCount:u,showProgress:N,onSkip:L}),s.type===r.F.SCORE&&(0,l.jsx)(p,{evaluation:s,goNext:()=>o(1),goPrevious:()=>o(-1),submitScore:A,saving:S||h||!z,noPrevious:0===x,assignmnetCount:u,evaluationCount:d,noNext:!C,showProgress:N,onSkip:L})]})})]})]})}},15788:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var l=s(76856),a=s(95155);let i=(0,l.A)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info")},21378:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var l=s(95155),a=s(12296),i=s(12115),n=s(52018),r=s(26348),o=s(6874),d=s.n(o),u=s(55857),c=s(1384),h=s(29414),x=s(35695);let m=e=>{let{returnTo:t,close:s}=e;return(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen",children:[(0,l.jsx)(r.A,{className:"text-green-500",fontSize:"large"}),(0,l.jsx)("div",{className:"text-lg mt-4",children:"Your vote has been saved successfully."}),(0,l.jsx)(d(),{href:t,className:"mt-4 text-blue-500 hover:underline",children:(0,l.jsx)(u.default,{variant:"contained",color:"primary",startIcon:(0,l.jsx)(h.A,{}),sx:{borderRadius:3,m:1},children:"Go to the List"})}),(0,l.jsx)(u.default,{variant:"outlined",color:"secondary",startIcon:(0,l.jsx)(c.A,{}),sx:{borderRadius:3,m:1},onClick:s,children:"Modify Again"})]})},f=e=>{let{round:t,evaluation:s,submission:r}=e,o=(0,x.useSearchParams)().get("back")||"/round/".concat(t.roundId,"/submission/evaluated"),[d,u]=(0,i.useState)(!0),[c,h]=(0,i.useState)(null),[f,b]=(0,i.useState)(!1),[g,v]=(0,i.useState)(0),[j,p]=(0,i.useState)(0),[y,w]=(0,i.useState)(!1),[A,S]=(0,i.useState)(!1),[I,C]=(0,i.useState)(0),N=async e=>{try{if(f||!d)return;b(!0);let l=await (0,n.A)(t.roundId,!1,[{evaluationId:s.evaluationId,score:e,comment:null,submissionId:s.submissionId}]);if(!l)return void h("Something went wrong");if("detail"in l)return void h(l.detail);v(l.totalAssignmentCount),p(l.totalEvaluatedCount),w(!0),u(!0),S(!0)}catch(e){h(e.message);return}finally{b(!1)}};return!f&&A?(0,l.jsx)(m,{returnTo:o,close:()=>{S(!1),w(!1),u(!0)},skipCount:I}):(0,l.jsx)(a.A,{assignmentCount:g,campaignId:t.campaignId,currentCursor:0,imageLoaded:d,setImageLoaded:u,currentEvaluation:s,isPublicJury:t.isPublicJury,error:c,evaluationCount:j,isLoading:!1,nextImageWrapper:()=>{u(!0)},saving:f,setCurrentCursor:()=>{},submission:r,submit:N,returnTo:o,hasNext:!1,showProgress:y,noHeader:!0,onSkip:()=>C(e=>e+1)})}},26348:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var l=s(76856),a=s(95155);let i=(0,l.A)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},29414:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var l=s(76856),a=s(95155);let i=(0,l.A)((0,a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},51013:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l={src:"/_next/static/media/logo-animated.6114123d.svg",height:768,width:1366,blurWidth:0,blurHeight:0}},52018:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var l=s(68788);let a=async(e,t,s)=>{let a="/evaluation/";return t&&(a="/evaluation/public/".concat(e)),await (0,l.A)(a,{method:"POST",body:JSON.stringify(s)})}},64791:(e,t,s)=>{Promise.resolve().then(s.bind(s,21378)),Promise.resolve().then(s.bind(s,50412))}},e=>{var t=t=>e(e.s=t);e.O(0,[6454,6766,9978,225,7638,6318,9958,9566,7433,6813,2454,4850,8441,4133,7358],()=>t(64791)),_N_E=e.O()}]);