try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ee416de6-0b41-4ad7-bc7e-4a11e87e3242",e._sentryDebugIdIdentifier="sentry-dbid-ee416de6-0b41-4ad7-bc7e-4a11e87e3242")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1705],{11087:(e,t,l)=>{"use strict";l.d(t,{default:()=>i});var a=l(95155),r=l(89175);let i=e=>{let{src:t,loop:l=!0,marginTop:i}=e;return(0,a.jsx)("div",{style:{maxWidth:"500px",margin:"auto",width:"99%",marginTop:i},children:(0,a.jsx)(r.GL,{src:t,loop:l,autoplay:!0})})}},13719:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});let a={src:"/_next/static/media/logo.0626e2b9.svg",height:768,width:1366,blurWidth:0,blurHeight:0}},15843:(e,t,l)=>{"use strict";l.d(t,{default:()=>i});var a=l(76856),r=l(95155);let i=(0,a.A)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},33465:(e,t,l)=>{"use strict";l.d(t,{default:()=>v});var a=l(95155),r=l(81063),i=l(9670),s=l(55857),o=l(89915),n=l(68788);let d=async e=>{if(""===e.name)throw Error("Project name cannot be empty");if(""===e.logoUrl)throw Error("Project logo cannot be empty");if(""===e.url)throw Error("Project website cannot be empty");if(""===e.projectId)throw Error("Project code cannot be empty");if(0===e.projectLeads.length)throw Error("At least one coordinator is required");let t=await (0,n.A)("/project/?includeProjectLeads=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if("detail"in t)throw Error(t.detail);return t.data};var u=l(12115),c=l(97069),h=l(39565),b=l(6522),p=l(41397),g=l(15843),x=l(73718),f=l(34222);let m=(0,u.lazy)(()=>l.e(6416).then(l.bind(l,26416))),v=()=>{let[e,t]=(0,u.useState)(null),[l,n]=(0,u.useReducer)(x.U2,x.yM),{data:v=null,trigger:j,isMutating:w,reset:y}=(0,b.A)("/api/project",d.bind(null,l),{onError:t});return v?(0,a.jsx)(m,{...v,reset:()=>{n(x.yM),y()}}):(0,a.jsxs)(r.default,{sx:{padding:2,px:3,width:"100%",maxWidth:800,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",borderRadius:6},children:[(0,a.jsx)(f.A,{}),(0,a.jsx)(i.default,{variant:"h3",sx:{mb:4,textAlign:"center",fontSize:{xs:24,sm:48}},children:"Create Project"}),w&&(0,a.jsx)(p.A,{src:"/lottie/creating.lottie"}),(0,a.jsx)(c.A,{...l,loading:w,dispatch:n,disbaleId:!1,autoSuggestId:!0}),e&&(0,a.jsx)(i.default,{variant:"body1",color:"error",sx:{mb:1},children:e.message}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10},children:[(0,a.jsx)(h.A,{disabled:w,sx:{m:0,borderRadius:10,px:2}}),(0,a.jsxs)(s.default,{onClick:()=>j().catch(t),variant:"contained",color:"success",disabled:w,sx:{borderRadius:10},startIcon:(0,a.jsx)(g.default,{}),children:[(0,a.jsx)(o.A,{size:24,color:"inherit",sx:{display:w?"inline-block":"none",mr:1}}),"Create Project"]})]})]})}},34222:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var a=l(95155),r=l(66766),i=l(13719),s=l(6874),o=l.n(s);let n=()=>(0,a.jsx)(o(),{href:"/",className:"cursor-pointer",children:(0,a.jsx)(r.default,{src:i.A,alt:"Logo of CampWiz",height:80,style:{margin:"auto"}})})},35508:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var a=l(95155),r=l(93669),i=l(75396),s=l(12115),o=l(19169);let n=e=>{let[t,l]=(0,s.useState)(""),n=async t=>{var l;if(e.allowList&&e.allowList.length>0)return e.allowList;let a=await fetch(t),r=await a.json();return null!=(l=null==r?void 0:r.query.allusers.map(e=>e.name))?l:[]},{isLoading:d,data:u}=(0,o.Ay)(""===t?null:"https://commons.wikimedia.org/w/api.php?action=query&list=allusers&aulimit=10&format=json&origin=*&auprefix="+t,n,{onLoadingSlow(e,t){console.log("loading slow",e,t)},revalidateOnFocus:!1,revalidateOnReconnect:!1});return(0,a.jsx)(r.A,{multiple:!0,id:e.label,options:u||e.allowList||[],getOptionLabel:e=>e,filterSelectedOptions:!0,value:e.value,onError:e=>console.error(e),disabled:e.disabled,loading:d,onChange:(t,l)=>e.onChange(l),sx:{mb:1,...e.sx||{}},renderInput:r=>(0,a.jsx)(i.A,{...r,variant:"outlined",label:e.label,placeholder:e.label,value:t,onChange:e=>l(e.target.value)})})}},39565:(e,t,l)=>{"use strict";l.d(t,{A:()=>h});var a=l(95155),r=l(55857),i=l(84635),s=l(44146),o=l(35695),n=l(42861),d=l(6874),u=l.n(d);let c=e=>{let{onClick:t,isSmall:l,alwaysBig:o,sx:n,disabled:d}=e;return!l||o?(0,a.jsx)(r.default,{onClick:t,variant:"text",color:"primary",startIcon:(0,a.jsx)(i.A,{}),sx:n,disabled:d,children:!l&&"Return"}):(0,a.jsx)(s.A,{disabled:d,sx:{m:.5,cursor:"pointer",display:"inline-block",...n||{},zIndex:20},onClick:t,color:"primary",className:"absolute left-4 z-20 m-1",children:(0,a.jsx)(i.A,{})})},h=e=>{let{disabled:t,sx:l,hiddenIn:r,alwaysBig:i=!1,to:s}=e,d=(0,o.usePathname)(),h=(0,n.A)(e=>e.breakpoints.down("sm"));if(r){for(let e of r)if(new RegExp(e).test(d))return null}return s?(0,a.jsx)(u(),{href:s,children:(0,a.jsx)(c,{isSmall:h,alwaysBig:i,sx:l,disabled:t})}):(0,a.jsx)(c,{onClick:()=>{s?window.location.replace(s):window.history.back()},isSmall:h,alwaysBig:i,sx:l,disabled:t})}},41397:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var a=l(95155),r=l(11087);let i=e=>{let{src:t="/lottie/loading.lottie"}=e;return(0,a.jsx)("div",{className:"loading-popup fixed top-0 left-0 w-full h-full bg-transparent z-50 flex items-center justify-center flex-col backdrop-blur-[2px]",children:(0,a.jsx)(r.default,{src:t})})}},61315:(e,t,l)=>{Promise.resolve().then(l.bind(l,33465)),Promise.resolve().then(l.bind(l,64617))},64617:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>a});let a={src:"/_next/static/media/red-hill.aeaf1ca6.svg",height:768,width:1296,blurWidth:0,blurHeight:0}},66655:(e,t,l)=>{"use strict";l.d(t,{F:()=>r,z:()=>a});var a=function(e){return e.AUDIO="AUDIO",e.VIDEO="VIDEO",e.IMAGE="BITMAP",e.ARTICLE="ARTICLE",e.DRAWING="DRAWING",e}({}),r=function(e){return e.BINARY="binary",e.RANKING="ranking",e.SCORE="score",e}({})},68788:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var a=l(34477);let r=(0,a.createServerReference)("7fdadbeee5140d04dc8643d8360b13e3285fc0fc6d",a.callServer,void 0,a.findSourceMapURL,"default")},73718:(e,t,l)=>{"use strict";l.d(t,{U2:()=>r,x6:()=>i,yM:()=>a});let a={logoUrl:"",name:"",projectId:"",projectLeads:[],url:""},r=(e,t)=>({...e,...t}),i=(e,t)=>({...e,...t})},97069:(e,t,l)=>{"use strict";l.d(t,{A:()=>h});var a=l(95155),r=l(75396),i=l(12115),s=l(35508),o=l(66655),n=l(93669),d=l(66766),u=l(19169);let c=e=>{let[t,l]=(0,i.useState)(""),s=async e=>{var t;let l=await fetch(e,{cache:"force-cache"}),a=await l.json();return(null!=(t=null==a?void 0:a.query.allimages)?t:[]).filter(e=>e.mediatype===o.z.IMAGE||e.mediatype===o.z.DRAWING)},{isLoading:c,data:h}=(0,u.Ay)(""===t?null:"https://commons.wikimedia.org/w/api.php?action=query&format=json&list=allimages&formatversion=2&aiprop=url|mediatype&origin=*&aiprefix="+t,s,{onLoadingSlow(e,t){console.log("loading slow",e,t)},revalidateOnFocus:!1,revalidateOnReconnect:!1});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{id:e.label,options:h||[],getOptionLabel:e=>e.title,filterSelectedOptions:!0,value:(null==h?void 0:h.find(t=>t.url===e.value))||null,isOptionEqualToValue:(e,t)=>e.url===t.url,onError:e=>console.error(e),disabled:e.disabled,loading:c,onChange:(t,l)=>e.onChange((null==l?void 0:l.url)||""),sx:{mb:1,...e.sx||{}},renderInput:i=>(0,a.jsx)(r.A,{...i,variant:"outlined",label:e.label,placeholder:e.label,value:t,onChange:e=>l(e.target.value)})}),(0,a.jsx)(d.default,{src:e.value||"/logo.svg",alt:"Logo",width:e.width||100,height:e.height||100,style:{margin:"auto"},unoptimized:!0})]})},h=e=>{let{dispatch:t,loading:l,disabled:o=!1,autoSuggestId:n=!0,disbaleId:d,...u}=e,[h,b]=(0,i.useState)(!1);return(0,a.jsxs)("div",{children:[(0,a.jsx)(r.A,{label:"Name",variant:"outlined",sx:{mb:2,width:"100%"},onChange:e=>{t({name:e.target.value}),!h&&n&&t({projectId:e.target.value.toLowerCase().replace(/[^a-z0-9অ-ঔ০-৯]/g,"-").substring(0,50)})},value:u.name,disabled:l||o}),(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:10,flexFlow:"wrap"},children:[(0,a.jsx)(r.A,{label:"Project Code",variant:"outlined",sx:{mb:1,width:{xs:"100%",sm:"49%"}},onChange:e=>{b(!0),t({projectId:e.target.value})},value:u.projectId,disabled:l||o||d}),(0,a.jsx)(r.A,{label:"Website",variant:"outlined",sx:{mb:1,width:{xs:"100%",sm:"49%"}},onChange:e=>t({url:e.target.value}),value:u.url||"",disabled:l||o})]}),(0,a.jsx)(s.A,{value:u.projectLeads,onChange:e=>t({projectLeads:e}),label:"Project Leads",disabled:l||o,sx:{mb:2}}),(0,a.jsx)(c,{value:u.logoUrl,onChange:e=>t({logoUrl:e}),label:"Logo",disabled:l||o,sx:{mb:2},height:100,width:100})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8429,6454,6766,9978,225,6318,71,5396,9169,3669,5009,4850,8441,4133,7358],()=>t(61315)),_N_E=e.O()}]);