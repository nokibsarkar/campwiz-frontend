try{let t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},e=(new t.Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="d8f5ced9-2a67-440b-b156-37c8511cd4f6",t._sentryDebugIdIdentifier="sentry-dbid-d8f5ced9-2a67-440b-b156-37c8511cd4f6")}catch(t){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{72:(t,e,n)=>{"use strict";n.d(e,{l:()=>i});var r=n(1947);function i(t){let e=r.O[Symbol.for("@vercel/request-context")],n=e?.get&&e.get()?e.get():{};n?.waitUntil&&n.waitUntil(t)}},225:(t,e,n)=>{"use strict";n.d(e,{Xr:()=>s,gt:()=>o,xv:()=>i});var r=n(3710);function i(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function o(t,e){if(!Array.isArray(t))return"";let n=[];for(let e=0;e<t.length;e++){let i=t[e];try{(0,r.L2)(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function s(t,e=[],n=!1){return e.some(e=>(function(t,e,n=!1){return!!(0,r.Kg)(t)&&((0,r.gd)(e)?e.test(t):!!(0,r.Kg)(e)&&(n?t===e:t.includes(e)))})(t,e,n))}},649:(t,e,n)=>{"use strict";n.d(e,{RV:()=>p,gd:()=>s,qQ:()=>l,vk:()=>a,yF:()=>r});let r="?",i=/\(error: (.*)\)/,o=/captureMessage|captureException/;function s(...t){let e=t.sort((t,e)=>t[0]-e[0]).map(t=>t[1]);return(t,n=0,s=0)=>{let a=[],c=t.split("\n");for(let t=n;t<c.length;t++){let n=c[t];if(n.length>1024)continue;let r=i.test(n)?n.replace(i,"$1"):n;if(!r.match(/\S*Error: /)){for(let t of e){let e=t(r);if(e){a.push(e);break}}if(a.length>=50+s)break}}var l=a.slice(s);if(!l.length)return[];let p=Array.from(l);return/sentryWrapped/.test(u(p).function||"")&&p.pop(),p.reverse(),o.test(u(p).function||"")&&(p.pop(),o.test(u(p).function||"")&&p.pop()),p.slice(0,50).map(t=>({...t,filename:t.filename||u(p).filename,function:t.function||r}))}}function a(t){return Array.isArray(t)?s(...t):t}function u(t){return t[t.length-1]||{}}let c="<anonymous>";function l(t){try{if(!t||"function"!=typeof t)return c;return t.name||c}catch(t){return c}}function p(t){let e=t.exception;if(e){let t=[];try{return e.values.forEach(e=>{e.stacktrace.frames&&t.push(...e.stacktrace.frames)}),t}catch(t){}}}},1303:t=>{"use strict";t.exports=["chrome 64","edge 79","firefox 67","opera 51","safari 12"]},1374:(t,e,n)=>{"use strict";n.d(e,{h:()=>d,n:()=>f});var r=n(9910),i=n(4322),o=n(8790),s=n(3710);class a{constructor(t,e){let n,r;n=t||new o.H,r=e||new o.H,this._stack=[{scope:n}],this._isolationScope=r}withScope(t){let e,n=this._pushScope();try{e=t(n)}catch(t){throw this._popScope(),t}return(0,s.Qg)(e)?e.then(t=>(this._popScope(),t),t=>{throw this._popScope(),t}):(this._popScope(),e)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function u(){let t=(0,r.EU)(),e=(0,r.Se)(t);return e.stack=e.stack||new a((0,i.r)(),(0,i.q)())}function c(t){return u().withScope(t)}function l(t,e){let n=u();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function p(t){return u().withScope(()=>t(u().getIsolationScope()))}function f(t){let e=(0,r.EU)();(0,r.Se)(e).acs=t}function d(t){let e=(0,r.Se)(t);return e.acs?e.acs:{withIsolationScope:p,withScope:c,withSetScope:l,withSetIsolationScope:(t,e)=>p(e),getCurrentScope:()=>u().getScope(),getIsolationScope:()=>u().getIsolationScope()}}},1614:(t,e,n)=>{"use strict";n.d(e,{T2:()=>a,XW:()=>o,xg:()=>s});var r,i=n(3710);function o(t){return new a(e=>{e(t)})}function s(t){return new a((e,n)=>{n(t)})}!function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(r||(r={}));class a{constructor(t){this._state=r.PENDING,this._handlers=[],this._runExecutor(t)}then(t,e){return new a((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()})}catch(t){return this.then(t=>t,t)}finally(t){return new a((e,n)=>{let r,i;return this.then(e=>{i=!1,r=e,t&&t()},e=>{i=!0,r=e,t&&t()}).then(()=>{if(i)return void n(r);e(r)})})}_executeHandlers(){if(this._state===r.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(t=>{t[0]||(this._state===r.RESOLVED&&t[1](this._value),this._state===r.REJECTED&&t[2](this._value),t[0]=!0)})}_runExecutor(t){let e=(t,e)=>{if(this._state===r.PENDING){if((0,i.Qg)(e))return void e.then(n,o);this._state=t,this._value=e,this._executeHandlers()}},n=t=>{e(r.RESOLVED,t)},o=t=>{e(r.REJECTED,t)};try{t(n,o)}catch(t){o(t)}}}},1947:(t,e,n)=>{"use strict";n.d(e,{O:()=>r});let r=globalThis},2238:(t,e,n)=>{"use strict";n.d(e,{f:()=>i});var r=n(7114);function i(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let e=t||(0,r.KU)()?.getOptions();return!!e&&(null!=e.tracesSampleRate||!!e.tracesSampler)}},2385:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o,e:()=>i});var r=n(3966);function i(){return(0,r.eJ)()}function o(){return(0,r.eJ)().substring(16)}},2787:(t,e,n)=>{"use strict";n.d(e,{Cp:()=>a,Ol:()=>l,bX:()=>c,r:()=>u});var r=n(7114),i=n(8048),o=n(9756),s=n(5434);function a(t,e){return(0,r.o5)().captureException(t,(0,o.li)(e))}function u(t,e){return(0,r.o5)().captureEvent(t,e)}async function c(t){let e=(0,r.KU)();return e?e.flush(t):(i.T&&s.vF.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}function l(){let t=(0,r.KU)();return t?.getOptions().enabled!==!1&&!!t?.getTransport()}},2937:(t,e,n)=>{"use strict";n.d(e,{E1:()=>p,Ef:()=>o,JD:()=>a,Le:()=>l,Sn:()=>u,i_:()=>r,jG:()=>f,sy:()=>i,uT:()=>s,xc:()=>c});let r="sentry.source",i="sentry.sample_rate",o="sentry.previous_trace_sample_rate",s="sentry.op",a="sentry.origin",u="sentry.measurement_unit",c="sentry.measurement_value",l="sentry.custom_span_name",p="sentry.profile_id",f="sentry.exclusive_time"},3710:(t,e,n)=>{"use strict";n.d(e,{Kg:()=>a,L2:()=>m,NF:()=>u,Qd:()=>l,Qg:()=>h,T2:()=>s,bJ:()=>i,gd:()=>d,ks:()=>v,mE:()=>_,sO:()=>c,tH:()=>g,vq:()=>f,xH:()=>p});let r=Object.prototype.toString;function i(t){switch(r.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return g(t,Error)}}function o(t,e){return r.call(t)===`[object ${e}]`}function s(t){return o(t,"ErrorEvent")}function a(t){return o(t,"String")}function u(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function c(t){return null===t||u(t)||"object"!=typeof t&&"function"!=typeof t}function l(t){return o(t,"Object")}function p(t){return"undefined"!=typeof Event&&g(t,Event)}function f(t){return"undefined"!=typeof Element&&g(t,Element)}function d(t){return o(t,"RegExp")}function h(t){return!!(t?.then&&"function"==typeof t.then)}function _(t){return l(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function g(t,e){try{return t instanceof e}catch(t){return!1}}function m(t){return!!("object"==typeof t&&null!==t&&(t.__isVue||t._isVue))}function v(t){return"undefined"!=typeof Request&&g(t,Request)}},3966:(t,e,n)=>{"use strict";n.d(e,{$X:()=>a,GR:()=>l,M6:()=>c,eJ:()=>o,gO:()=>u});var r=n(7583),i=n(1947);function o(t=function(){let t=i.O;return t.crypto||t.msCrypto}()){let e=()=>16*Math.random();try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"");t?.getRandomValues&&(e=()=>{let e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(t){}return"10000000100040008000100000000000".replace(/[018]/g,t=>(t^(15&e())>>t/4).toString(16))}function s(t){return t.exception?.values?.[0]}function a(t){let{message:e,event_id:n}=t;if(e)return e;let r=s(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function u(t,e,n){let r=t.exception=t.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")}function c(t,e){let n=s(t);if(!n)return;let r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){let t={...r?.data,...e.data};n.mechanism.data=t}}function l(t){if(function(t){try{return t.__sentry_captured__}catch{}}(t))return!0;try{(0,r.my)(t,"__sentry_captured__",!0)}catch(t){}return!1}},4182:(t,e,n)=>{"use strict";n.d(e,{qO:()=>o});var r=n(3966),i=n(7745);function o(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||(0,i.zf)(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:(0,r.eJ)()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{let e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}},4322:(t,e,n)=>{"use strict";n.d(e,{q:()=>s,r:()=>o});var r=n(9910),i=n(8790);function o(){return(0,r.BY)("defaultCurrentScope",()=>new i.H)}function s(){return(0,r.BY)("defaultIsolationScope",()=>new i.H)}},4443:(t,e,n)=>{"use strict";n.d(e,{S8:()=>s,cd:()=>function t(e,n=3,r=102400){let i=s(e,n);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>r?t(e,n-1,r):i}});var r=n(3710),i=n(7583),o=n(649);function s(t,e=100,n=Infinity){try{return function t(e,n,s=Infinity,a=Infinity,u=function(){let t=new WeakSet;return[function(e){return!!t.has(e)||(t.add(e),!1)},function(e){t.delete(e)}]}()){let[c,l]=u;if(null==n||["boolean","string"].includes(typeof n)||"number"==typeof n&&Number.isFinite(n))return n;let p=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if((0,r.L2)(e))return"[VueViewModel]";if((0,r.mE)(e))return"[SyntheticEvent]";if("number"==typeof e&&!Number.isFinite(e))return`[${e}]`;if("function"==typeof e)return`[Function: ${(0,o.qQ)(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;let n=function(t){let e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}(e);if(/^HTML(\w*)Element$/.test(n))return`[HTMLElement: ${n}]`;return`[object ${n}]`}catch(t){return`**non-serializable** (${t})`}}(e,n);if(!p.startsWith("[object "))return p;if(n.__sentry_skip_normalization__)return n;let f="number"==typeof n.__sentry_override_normalization_depth__?n.__sentry_override_normalization_depth__:s;if(0===f)return p.replace("object ","");if(c(n))return"[Circular ~]";if(n&&"function"==typeof n.toJSON)try{let e=n.toJSON();return t("",e,f-1,a,u)}catch(t){}let d=Array.isArray(n)?[]:{},h=0,_=(0,i.W4)(n);for(let e in _){if(!Object.prototype.hasOwnProperty.call(_,e))continue;if(h>=a){d[e]="[MaxProperties ~]";break}let n=_[e];d[e]=t(e,n,f-1,a,u),h++}return l(n),d}("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}},5066:(t,e,n)=>{"use strict";n.d(e,{LZ:()=>f,ao:()=>h,k1:()=>_});var r=n(5153),i=n(7114),o=n(2937),s=n(2238),a=n(5159),u=n(9984),c=n(7583),l=n(8786);let p="_frozenDsc";function f(t,e){(0,c.my)(t,p,e)}function d(t,e){let n=e.getOptions(),{publicKey:i}=e.getDsn()||{},o={environment:n.environment||r.U,release:n.release,public_key:i,trace_id:t};return e.emit("createDsc",o),o}function h(t,e){let n=e.getPropagationContext();return n.dsc||d(n.traceId,t)}function _(t){let e=(0,i.KU)();if(!e)return{};let n=(0,a.zU)(t),r=(0,a.et)(n),c=r.data,f=n.spanContext().traceState,h=f?.get("sentry.sample_rate")??c[o.sy]??c[o.Ef];function _(t){return("number"==typeof h||"string"==typeof h)&&(t.sample_rate=`${h}`),t}let g=n[p];if(g)return _(g);let m=f?.get("sentry.dsc"),v=m&&(0,u.yD)(m);if(v)return _(v);let y=d(t.spanContext().traceId,e),E=c[o.i_],T=r.description;return"url"!==E&&T&&(y.transaction=T),(0,s.f)()&&(y.sampled=String((0,a.pK)(n)),y.sample_rand=f?.get("sentry.sample_rand")??(0,l.L)(n).scope?.getPropagationContext().sampleRand.toString()),_(y),e.emit("createDsc",y,n),y}},5153:(t,e,n)=>{"use strict";n.d(e,{U:()=>r});let r="production"},5159:(t,e,n)=>{"use strict";n.d(e,{Bk:()=>C,CC:()=>_,Ck:()=>v,Hu:()=>A,Qh:()=>E,aO:()=>g,cI:()=>S,et:()=>O,kX:()=>y,pK:()=>R,uU:()=>T,xO:()=>w,xl:()=>N,yW:()=>L,zU:()=>x});var r=n(1374),i=n(9910),o=n(7114),s=n(2937),a=n(6089),u=n(8786),c=n(5434),l=n(7583),p=n(2385),f=n(7745),d=n(8232),h=n(8417);let _=0,g=1,m=!1;function v(t){let{spanId:e,traceId:n}=t.spanContext(),{data:r,op:i,parent_span_id:o,status:s,origin:a,links:u}=O(t);return{parent_span_id:o,span_id:e,trace_id:n,data:r,op:i,status:s,origin:a,links:u}}function y(t){let{spanId:e,traceId:n,isRemote:r}=t.spanContext(),i=r?e:O(t).parent_span_id,o=(0,u.L)(t).scope;return{parent_span_id:i,span_id:r?o?.getPropagationContext().propagationSpanId||(0,p.Z)():e,trace_id:n}}function E(t){let{traceId:e,spanId:n}=t.spanContext(),r=R(t);return(0,d.TC)(e,n,r)}function T(t){return t&&t.length>0?t.map(({context:{spanId:t,traceId:e,traceFlags:n,...r},attributes:i})=>({span_id:t,trace_id:e,sampled:n===g,attributes:i,...r})):void 0}function S(t){return"number"==typeof t?b(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?b(t.getTime()):(0,f.zf)()}function b(t){return t>0x2540be3ff?t/1e3:t}function O(t){var e;if("function"==typeof t.getSpanJSON)return t.getSpanJSON();let{spanId:n,traceId:r}=t.spanContext();if((e=t).attributes&&e.startTime&&e.name&&e.endTime&&e.status){let{attributes:e,startTime:i,name:o,endTime:a,status:u,links:c}=t;return{span_id:n,trace_id:r,data:e,description:o,parent_span_id:"parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0,start_timestamp:S(i),timestamp:S(a)||void 0,status:L(u),op:e[s.uT],origin:e[s.JD],links:T(c)}}return{span_id:n,trace_id:r,start_timestamp:0,data:{}}}function R(t){let{traceFlags:e}=t.spanContext();return e===g}function L(t){if(t&&t.code!==a.a3)return t.code===a.F3?"ok":t.message||"unknown_error"}let I="_sentryChildSpans",P="_sentryRootSpan";function A(t,e){let n=t[P]||t;(0,l.my)(e,P,n),t[I]?t[I].add(e):(0,l.my)(t,I,new Set([e]))}function w(t){let e=new Set;return!function t(n){if(!e.has(n)&&R(n))for(let r of(e.add(n),n[I]?Array.from(n[I]):[]))t(r)}(t),Array.from(e)}function x(t){return t[P]||t}function C(){let t=(0,i.EU)(),e=(0,r.h)(t);return e.getActiveSpan?e.getActiveSpan():(0,h.f)((0,o.o5)())}function N(){m||((0,c.pq)(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),m=!0)}},5356:t=>{"use strict";t.exports=require("node:buffer")},5434:(t,e,n)=>{"use strict";n.d(e,{Ow:()=>s,Z9:()=>a,pq:()=>u,vF:()=>c});var r=n(9910),i=n(8048),o=n(1947);let s=["debug","info","warn","error","log","assert","trace"],a={};function u(t){if(!("console"in o.O))return t();let e=o.O.console,n={},r=Object.keys(a);r.forEach(t=>{let r=a[t];n[t]=e[t],e[t]=r});try{return t()}finally{r.forEach(t=>{e[t]=n[t]})}}let c=(0,r.BY)("logger",function(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return i.T?s.forEach(n=>{e[n]=(...e)=>{t&&u(()=>{o.O.console[n](`Sentry Logger [${n}]:`,...e)})}}):s.forEach(t=>{e[t]=()=>void 0}),e})},5888:(t,e,n)=>{"use strict";n.d(e,{h:()=>function t(e,n,r=2){if(!n||"object"!=typeof n||r<=0)return n;if(e&&0===Object.keys(n).length)return e;let i={...e};for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=t(i[e],n[e],r-1));return i}})},6089:(t,e,n)=>{"use strict";n.d(e,{AJ:()=>s,F3:()=>i,N8:()=>a,TJ:()=>o,a3:()=>r});let r=0,i=1,o=2;function s(t){if(t<400&&t>=100)return{code:i};if(t>=400&&t<500)switch(t){case 401:return{code:o,message:"unauthenticated"};case 403:return{code:o,message:"permission_denied"};case 404:return{code:o,message:"not_found"};case 409:return{code:o,message:"already_exists"};case 413:return{code:o,message:"failed_precondition"};case 429:return{code:o,message:"resource_exhausted"};case 499:return{code:o,message:"cancelled"};default:return{code:o,message:"invalid_argument"}}if(t>=500&&t<600)switch(t){case 501:return{code:o,message:"unimplemented"};case 503:return{code:o,message:"unavailable"};case 504:return{code:o,message:"deadline_exceeded"};default:return{code:o,message:"internal_error"}}return{code:o,message:"unknown_error"}}function a(t,e){t.setAttribute("http.response.status_code",e);let n=s(e);"unknown_error"!==n.message&&t.setStatus(n)}},6301:(t,e,n)=>{"use strict";function r(t){if("boolean"==typeof t)return Number(t);let e="string"==typeof t?parseFloat(t):t;if(!("number"!=typeof e||isNaN(e))&&!(e<0)&&!(e>1))return e}n.d(e,{i:()=>r})},6978:(t,e,n)=>{"use strict";n.d(e,{M:()=>r});let r="9.19.0"},7114:(t,e,n)=>{"use strict";n.d(e,{KU:()=>p,m6:()=>c,o5:()=>a,rm:()=>u,v4:()=>l,vn:()=>f});var r=n(1374),i=n(9910),o=n(8790),s=n(2385);function a(){let t=(0,i.EU)();return(0,r.h)(t).getCurrentScope()}function u(){let t=(0,i.EU)();return(0,r.h)(t).getIsolationScope()}function c(){return(0,i.BY)("globalScope",()=>new o.H)}function l(...t){let e=(0,i.EU)(),n=(0,r.h)(e);if(2===t.length){let[e,r]=t;return e?n.withSetScope(e,r):n.withScope(r)}return n.withScope(t[0])}function p(){return a().getClient()}function f(t){let{traceId:e,parentSpanId:n,propagationSpanId:r}=t.getPropagationContext(),i={trace_id:e,span_id:r||(0,s.Z)()};return n&&(i.parent_span_id=n),i}},7156:(t,e,n)=>{"use strict";n.r(e),n.d(e,{onRequestError:()=>u,register:()=>a});var r=n(7114),i=n(2787),o=n(72),s=n(7557);async function a(){await Promise.resolve().then(n.bind(n,8297))}globalThis._sentryRewritesTunnelPath="/monitoring",globalThis.SENTRY_RELEASE={id:"988140cb43f8c16a9f0c6b0b7cb6657910434a55"},globalThis._sentryBasePath=void 0,globalThis._sentryRewriteFramesDistDir=".next";let u=function(t,e,n){(0,r.v4)(r=>{r.setSDKProcessingMetadata({normalizedRequest:{headers:function(t){let e=Object.create(null);try{Object.entries(t).forEach(([t,n])=>{"string"==typeof n&&(e[t]=n)})}catch{}return e}(e.headers),method:e.method}}),r.setContext("nextjs",{request_path:e.path,router_kind:n.routerKind,router_path:n.routePath,route_type:n.routeType}),r.setTransactionName(n.routePath),(0,i.Cp)(t,{mechanism:{handled:!1}}),(0,o.l)((0,s.a)())})}},7557:(t,e,n)=>{"use strict";n.d(e,{a:()=>i}),n(5434);var r=n(2787);async function i(){try{await (0,r.bX)(2e3)}catch(t){}}},7583:(t,e,n)=>{"use strict";n.d(e,{my:()=>c,W4:()=>p,HF:()=>h,GS:()=>u,sp:()=>l});var r=n(8048),i=n(3710);let o=n(1947).O;var s=n(5434),a=n(225);function u(t,e,n){if(!(e in t))return;let i=t[e];if("function"!=typeof i)return;let o=n(i);"function"==typeof o&&function(t,e){try{let n=e.prototype||{};t.prototype=e.prototype=n,c(t,"__sentry_original__",e)}catch(t){}}(o,i);try{t[e]=o}catch{r.T&&s.vF.log(`Failed to replace method "${e}" in object`,t)}}function c(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(n){r.T&&s.vF.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function l(t){return t.__sentry_original__}function p(t){if((0,i.bJ)(t))return{message:t.message,name:t.name,stack:t.stack,...d(t)};if(!(0,i.xH)(t))return t;{let e={type:t.type,target:f(t.target),currentTarget:f(t.currentTarget),...d(t)};return"undefined"!=typeof CustomEvent&&(0,i.tH)(t,CustomEvent)&&(e.detail=t.detail),e}}function f(t){try{return(0,i.vq)(t)?function(t,e={}){if(!t)return"<unknown>";try{let n,r=t,s=[],a=0,u=0,c=Array.isArray(e)?e:e.keyAttrs,l=!Array.isArray(e)&&e.maxStringLength||80;for(;r&&a++<5&&(n=function(t,e){let n=[];if(!t?.tagName)return"";if(o.HTMLElement&&t instanceof HTMLElement&&t.dataset){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}n.push(t.tagName.toLowerCase());let r=e?.length?e.filter(e=>t.getAttribute(e)).map(e=>[e,t.getAttribute(e)]):null;if(r?.length)r.forEach(t=>{n.push(`[${t[0]}="${t[1]}"]`)});else{t.id&&n.push(`#${t.id}`);let e=t.className;if(e&&(0,i.Kg)(e))for(let t of e.split(/\s+/))n.push(`.${t}`)}for(let e of["aria-label","type","name","title","alt"]){let r=t.getAttribute(e);r&&n.push(`[${e}="${r}"]`)}return n.join("")}(r,c),"html"!==n&&(!(a>1)||!(u+3*s.length+n.length>=l)));)s.push(n),u+=n.length,r=r.parentNode;return s.reverse().join(" > ")}catch(t){return"<unknown>"}}(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function d(t){if("object"!=typeof t||null===t)return{};{let e={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}}function h(t,e=40){let n=Object.keys(p(t));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return(0,a.xv)(r,e);for(let t=n.length;t>0;t--){let r=n.slice(0,t).join(", ");if(!(r.length>e)){if(t===n.length)return r;return(0,a.xv)(r,e)}}return""}},7745:(t,e,n)=>{"use strict";n.d(e,{lu:()=>i,zf:()=>o});var r=n(1947);function i(){return Date.now()/1e3}let o=function(){let{performance:t}=r.O;if(!t?.now)return i;let e=Date.now()-t.now(),n=void 0==t.timeOrigin?e:t.timeOrigin;return()=>(n+t.now())/1e3}()},8048:(t,e,n)=>{"use strict";n.d(e,{T:()=>r});let r=!1},8232:(t,e,n)=>{"use strict";n.d(e,{MI:()=>s,TC:()=>u,kM:()=>a});var r=n(6301),i=n(9984),o=n(2385);let s=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function a(t,e){let n=function(t){let e;if(!t)return;let n=t.match(s);if(n)return"1"===n[3]?e=!0:"0"===n[3]&&(e=!1),{traceId:n[1],parentSampled:e,parentSpanId:n[2]}}(t),a=(0,i.yD)(e);if(!n?.traceId)return{traceId:(0,o.e)(),sampleRand:Math.random()};let u=function(t,e){let n=(0,r.i)(e?.sample_rand);if(void 0!==n)return n;let i=(0,r.i)(e?.sample_rate);return i&&t?.parentSampled!==void 0?t.parentSampled?Math.random()*i:i+Math.random()*(1-i):Math.random()}(n,a);a&&(a.sample_rand=u.toString());let{traceId:c,parentSpanId:l,parentSampled:p}=n;return{traceId:c,parentSpanId:l,sampled:p,dsc:a||{},sampleRand:u}}function u(t=(0,o.e)(),e=(0,o.Z)(),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${t}-${e}${r}`}},8297:(t,e,n)=>{"use strict";let r;var i,o,s,a,u,c,l,p,f,d,h,_,g=n(8048),m=n(5159),v=n(1947),y=n(5434),E=n(649);let T={},S={};function b(t,e){T[t]=T[t]||[],T[t].push(e)}function O(t,e){if(!S[t]){S[t]=!0;try{e()}catch(e){g.T&&y.vF.error(`Error while instrumenting ${t}`,e)}}}function R(t,e){let n=t&&T[t];if(n)for(let r of n)try{r(e)}catch(e){g.T&&y.vF.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${(0,E.qQ)(r)}
Error:`,e)}}let L=null;function I(){L=v.O.onerror,v.O.onerror=function(t,e,n,r,i){return R("error",{column:r,error:i,line:n,msg:t,url:e}),!!L&&L.apply(this,arguments)},v.O.onerror.__SENTRY_INSTRUMENTED__=!0}let P=null;function A(){P=v.O.onunhandledrejection,v.O.onunhandledrejection=function(t){return R("unhandledrejection",t),!P||P.apply(this,arguments)},v.O.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var w=n(6089);let x=!1;function C(){if(!x){x=!0;let t="error";b(t,N),O(t,I);let e="unhandledrejection";b(e,N),O(e,A)}}function N(){let t=(0,m.Bk)(),e=t&&(0,m.zU)(t);if(e){let t="internal_error";g.T&&y.vF.log(`[Tracing] Root span: ${t} -> Global error occurred`),e.setStatus({code:w.TJ,message:t})}}N.tag="sentry_tracingErrorCallback";var k=n(6978);function M(t,e,n=[e],r="npm"){let i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:n.map(t=>({name:`${r}:@sentry/${t}`,version:k.M})),version:k.M}),t._metadata=i}var D=n(2937);function U(t){return"isRelative"in t}function j(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}function F(t){return t.split(/[?#]/,1)[0]}function $(t){let{protocol:e,host:n,path:r}=t,i=n?.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${e?`${e}://`:""}${i}${r}`}var B=n(72);let G=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function X(t,e=!1){let{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:u}=t;return`${a}://${u}${e&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`}function V(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}var H=n(9910),z=n(4443);function K(t,e=[]){return[t,e]}function J(t,e){for(let n of t[1]){let t=n[0].type;if(e(n,t))return!0}return!1}function q(t){let e=(0,H.Se)(v.O);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}let W={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Y(t){if(!t?.sdk)return;let{name:e,version:n}=t.sdk;return{name:e,version:n}}var Z=n(5153),Q=n(7114),tt=n(5066);let te=[];function tn(t,e){for(let n of e)n?.afterAllSetup&&n.afterAllSetup(t)}function tr(t,e,n){if(n[e.name]){g.T&&y.vF.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,-1===te.indexOf(e.name)&&"function"==typeof e.setupOnce&&(e.setupOnce(),te.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),"function"==typeof e.preprocessEvent){let n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(e,r)=>n(e,r,t))}if("function"==typeof e.processEvent){let n=e.processEvent.bind(e),r=Object.assign((e,r)=>n(e,r,t),{id:e.name});t.addEventProcessor(r)}g.T&&y.vF.log(`Integration installed: ${e.name}`)}var ti=n(4182);function to(t){let e=[];t.message&&e.push(t.message);try{let n=t.exception.values[t.exception.values.length-1];n?.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`))}catch(t){}return e}var ts=n(5888),ta=n(6301),tu=n(9756),tc=n(8417),tl=n(7745),tp=n(3710),tf=n(3966),td=n(1614);let th="Not capturing exception because it's already been captured.",t_="Discarded session because of missing or non-string release",tg=Symbol.for("SentryInternalError"),tm=Symbol.for("SentryDoNotSendEventError");function tv(t){return{message:t,[tg]:!0}}function ty(t){return{message:t,[tm]:!0}}function tE(t){return!!t&&"object"==typeof t&&tg in t}function tT(t){return!!t&&"object"==typeof t&&tm in t}class tS{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=function(t){let e="string"==typeof t?function(t){let e=G.exec(t);if(!e)return void(0,y.pq)(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});let[n,r,i="",o="",s="",a=""]=e.slice(1),u="",c=a,l=c.split("/");if(l.length>1&&(u=l.slice(0,-1).join("/"),c=l.pop()),c){let t=c.match(/^\d+/);t&&(c=t[0])}return V({host:o,pass:i,path:u,projectId:c,port:s,protocol:n,publicKey:r})}(t):V(t);if(e&&function(t){if(!g.T)return!0;let{port:e,projectId:n,protocol:r}=t;return!["protocol","publicKey","host","projectId"].find(e=>!t[e]&&(y.vF.error(`Invalid Sentry Dsn: ${e} missing`),!0))&&(n.match(/^\d+$/)?"http"!==r&&"https"!==r?(y.vF.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):!(e&&isNaN(parseInt(e,10)))||(y.vF.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):(y.vF.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(e))return e}(t.dsn):g.T&&y.vF.warn("No DSN provided, client will not send events."),this._dsn){let e=function(t,e,n){return e||`${function(t){let e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}(t)}${t.projectId}/envelope/?${function(t,e){let n={sentry_version:"7"};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}(t,n)}`}(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}}captureException(t,e,n){let r=(0,tf.eJ)();if((0,tf.GR)(t))return g.T&&y.vF.log(th),r;let i={event_id:r,...e};return this._process(this.eventFromException(t,i).then(t=>this._captureEvent(t,i,n))),i.event_id}captureMessage(t,e,n,r){let i={event_id:(0,tf.eJ)(),...n},o=(0,tp.NF)(t)?t:String(t),s=(0,tp.sO)(t)?this.eventFromMessage(o,e,i):this.eventFromException(t,i);return this._process(s.then(t=>this._captureEvent(t,i,r))),i.event_id}captureEvent(t,e,n){let r=(0,tf.eJ)();if(e?.originalException&&(0,tf.GR)(e.originalException))return g.T&&y.vF.log(th),r;let i={event_id:r,...e},o=t.sdkProcessingMetadata||{},s=o.capturedSpanScope,a=o.capturedSpanIsolationScope;return this._process(this._captureEvent(t,i,s||n,a)),i.event_id}captureSession(t){this.sendSession(t),(0,ti.qO)(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>e.flush(t).then(t=>n&&t))):(0,td.XW)(!0)}close(t){return this.flush(t).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let e=this._integrations[t.name];tr(this,t,this._integrations),e||tn(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=function(t,e,n,r){var i;let o=Y(n),s=t.type&&"replay_event"!==t.type?t.type:"event";(i=n?.sdk)&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||i.name,t.sdk.version=t.sdk.version||i.version,t.sdk.integrations=[...t.sdk.integrations||[],...i.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...i.packages||[]]);let a=function(t,e,n,r){let i=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:X(r)},...i&&{trace:i}}}(t,o,r,e);return delete t.sdkProcessingMetadata,K(a,[[{type:s},t]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(let t of e.attachments||[])n=function(t,e){let[n,r]=t;return[n,[...r,e]]}(n,function(t){let e="string"==typeof t.data?q(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}(t));let r=this.sendEnvelope(n);r&&r.then(e=>this.emit("afterSendEvent",t,e),null)}sendSession(t){let{release:e,environment:n=Z.U}=this._options;if("aggregates"in t){let r=t.attrs||{};if(!r.release&&!e){g.T&&y.vF.warn(t_);return}r.release=r.release||e,r.environment=r.environment||n,t.attrs=r}else{if(!t.release&&!e){g.T&&y.vF.warn(t_);return}t.release=t.release||e,t.environment=t.environment||n}this.emit("beforeSendSession",t);let r=function(t,e,n,r){let i=Y(n);return K({sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&e&&{dsn:X(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,e,n=1){if(this._options.sendClientReports){let r=`${t}:${e}`;g.T&&y.vF.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(t,e){let n=this._hooks[t]=this._hooks[t]||[];return n.push(e),()=>{let t=n.indexOf(e);t>-1&&n.splice(t,1)}}emit(t,...e){let n=this._hooks[t];n&&n.forEach(t=>t(...e))}sendEnvelope(t){return(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)?this._transport.send(t).then(null,t=>(g.T&&y.vF.error("Error while sending envelope:",t),t)):(g.T&&y.vF.error("Transport disabled"),(0,td.XW)({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=function(t,e){let n={};return e.forEach(e=>{e&&tr(t,e,n)}),n}(this,t),tn(this,t)}_updateSessionFromEvent(t,e){let n="fatal"===e.level,r=!1,i=e.exception?.values;if(i)for(let t of(r=!0,i)){let e=t.mechanism;if(e?.handled===!1){n=!0;break}}let o="ok"===t.status;(o&&0===t.errors||o&&n)&&((0,ti.qO)(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new td.T2(e=>{let n=0,r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n,r){let i=this.getOptions(),o=Object.keys(this._integrations);return!e.integrations&&o?.length&&(e.integrations=o),this.emit("preprocessEvent",t,e),t.type||r.setLastEventId(t.event_id||e.event_id),(0,tu.mG)(i,t,e,n,this,r).then(t=>(null===t||(this.emit("postprocessEvent",t,e),t.contexts={trace:(0,Q.vn)(n),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:(0,tt.ao)(this,n),...t.sdkProcessingMetadata}),t))}_captureEvent(t,e={},n=(0,Q.o5)(),r=(0,Q.rm)()){return g.T&&tb(t)&&y.vF.log(`Captured error event \`${to(t)[0]||"<unknown>"}\``),this._processEvent(t,e,n,r).then(t=>t.event_id,t=>{g.T&&(tT(t)?y.vF.log(t.message):tE(t)?y.vF.warn(t.message):y.vF.warn(t))})}_processEvent(t,e,n,r){let i=this.getOptions(),{sampleRate:o}=i,s=tO(t),a=tb(t),u=t.type||"error",c=`before send for type \`${u}\``,l=void 0===o?void 0:(0,ta.i)(o);if(a&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),(0,td.xg)(ty(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));let p="replay_event"===u?"replay":u;return this._prepareEvent(t,e,n,r).then(t=>{if(null===t)throw this.recordDroppedEvent("event_processor",p),ty("An event processor returned `null`, will not send event.");return e.data&&!0===e.data.__sentry__?t:function(t,e){let n=`${e} must return \`null\` or a valid event.`;if((0,tp.Qg)(t))return t.then(t=>{if(!(0,tp.Qd)(t)&&null!==t)throw tv(n);return t},t=>{throw tv(`${e} rejected with ${t}`)});if(!(0,tp.Qd)(t)&&null!==t)throw tv(n);return t}(function(t,e,n,r){let{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:s}=e,a=n;if(tb(a)&&i)return i(a,r);if(tO(a)){if(s){let t=s(function(t){let{trace_id:e,parent_span_id:n,span_id:r,status:i,origin:o,data:s,op:a}=t.contexts?.trace??{};return{data:s??{},description:t.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:t.start_timestamp??0,status:i,timestamp:t.timestamp,trace_id:e??"",origin:o,profile_id:s?.[D.E1],exclusive_time:s?.[D.jG],measurements:t.measurements,is_segment:!0}}(a));if(t)a=(0,ts.h)(n,{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[D.E1]:t.profile_id},...t.exclusive_time&&{[D.jG]:t.exclusive_time}}}},measurements:t.measurements});else(0,m.xl)();if(a.spans){let t=[];for(let e of a.spans){let n=s(e);n?t.push(n):((0,m.xl)(),t.push(e))}a.spans=t}}if(o){if(a.spans){let t=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:t}}return o(a,r)}}return a}(0,i,t,e),c)}).then(i=>{if(null===i){if(this.recordDroppedEvent("before_send",p),s){let e=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",e)}throw ty(`${c} returned \`null\`, will not send event.`)}let o=n.getSession()||r.getSession();if(a&&o&&this._updateSessionFromEvent(o,i),s){let t=(i.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(i.spans?i.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}let u=i.transaction_info;return s&&u&&i.transaction!==t.transaction&&(i.transaction_info={...u,source:"custom"}),this.sendEvent(i,e),i}).then(null,t=>{if(tT(t)||tE(t))throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),tv(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${t}`)})}_process(t){this._numProcessing++,t.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([t,e])=>{let[n,r]=t.split(":");return{reason:n,category:r,quantity:e}})}_flushOutcomes(){var t;g.T&&y.vF.log("Flushing outcomes...");let e=this._clearOutcomes();if(0===e.length){g.T&&y.vF.log("No outcomes to send");return}if(!this._dsn){g.T&&y.vF.log("No dsn provided, will not send outcomes");return}g.T&&y.vF.log("Sending outcomes:",e);let n=K((t=this._options.tunnel&&X(this._dsn))?{dsn:t}:{},[[{type:"client_report"},{timestamp:(0,tl.lu)(),discarded_events:e}]]);this.sendEnvelope(n)}}function tb(t){return void 0===t.type}function tO(t){return"transaction"===t.type}function tR(t,e){if(!e)return[void 0,void 0];let n=(0,tc.f)(e),r=n?(0,m.kX)(n):(0,Q.vn)(e);return[n?(0,tt.k1)(n):(0,tt.ao)(t,e),r]}let tL={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function tI(t,e){let n=e??tP(t)??[];if(0===n.length)return;let r=t.getOptions(),i=function(t,e,n,r){let i={};return e?.sdk&&(i.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(i.dsn=X(r)),K(i,[[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]])}(n,r._metadata,r.tunnel,t.getDsn());v.O._sentryClientToLogBufferMap?.set(t,[]),t.emit("flushLogs"),t.sendEnvelope(i)}function tP(t){return v.O._sentryClientToLogBufferMap?.get(t)}v.O._sentryClientToLogBufferMap=new WeakMap;var tA=n(7583);function tw(t,e){return t(e.stack||"",1)}function tx(t,e){let n={type:e.name||e.constructor.name,value:e.message},r=tw(t,e);return r.length&&(n.stacktrace={frames:r}),n}class tC extends tS{constructor(t){if(C(),super(t),this._logWeight=0,this._options._experiments?.enableLogs){let t=this;t.on("flushLogs",()=>{t._logWeight=0,clearTimeout(t._logFlushIdleTimeout)}),t.on("afterCaptureLog",e=>{t._logWeight+=function(t){let e=0;return t.message&&(e+=2*t.message.length),t.attributes&&Object.values(t.attributes).forEach(t=>{Array.isArray(t)?e+=t.length*tk(t[0]):(0,tp.sO)(t)?e+=tk(t):e+=100}),e}(e),t._logWeight>=8e5?tI(t):t._logFlushIdleTimeout=setTimeout(()=>{tI(t)},5e3)}),t.on("flush",()=>{tI(t)})}}eventFromException(t,e){let n=function(t,e,n,r){let i=r?.data&&r.data.mechanism||{handled:!0,type:"generic"},[o,s]=function(t,e,n,r){if((0,tp.bJ)(n))return[n,void 0];if(e.synthetic=!0,(0,tp.Qd)(n)){let e=t?.getOptions().normalizeDepth,i={__serialized__:(0,z.cd)(n,e)},o=function(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){let n=t[e];if(n instanceof Error)return n}}(n);if(o)return[o,i];let s=function(t){if("name"in t&&"string"==typeof t.name){let e=`'${t.name}' captured as exception`;return"message"in t&&"string"==typeof t.message&&(e+=` with message '${t.message}'`),e}if("message"in t&&"string"==typeof t.message)return t.message;let e=(0,tA.HF)(t);if((0,tp.T2)(t))return`Event \`ErrorEvent\` captured as exception with message \`${t.message}\``;let n=function(t){try{let e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(t){}}(t);return`${n&&"Object"!==n?`'${n}'`:"Object"} captured as exception with keys: ${e}`}(n),a=r?.syntheticException||Error(s);return a.message=s,[a,i]}let i=r?.syntheticException||Error(n);return i.message=`${n}`,[i,void 0]}(t,i,n,r),a={exception:{values:[tx(e,o)]}};return s&&(a.extra=s),(0,tf.gO)(a,void 0,void 0),(0,tf.M6)(a,i),{...a,event_id:r?.event_id}}(this,this._options.stackParser,t,e);return n.level="error",(0,td.XW)(n)}eventFromMessage(t,e="info",n){return(0,td.XW)(function(t,e,n="info",r,i){let o={event_id:r?.event_id,level:n};if(i&&r?.syntheticException){let n=tw(t,r.syntheticException);n.length&&(o.exception={values:[{value:e,stacktrace:{frames:n}}]},(0,tf.M6)(o,{synthetic:!0}))}if((0,tp.NF)(e)){let{__sentry_template_string__:t,__sentry_template_values__:n}=e;return o.logentry={message:t,params:n},o}return o.message=e,o}(this._options.stackParser,t,e,n,this._options.attachStacktrace))}captureException(t,e,n){return tN(e),super.captureException(t,e,n)}captureEvent(t,e,n){return!t.type&&t.exception?.values&&t.exception.values.length>0&&tN(e),super.captureEvent(t,e,n)}captureCheckIn(t,e,n){let r="checkInId"in t&&t.checkInId?t.checkInId:(0,tf.eJ)();if(!this._isEnabled())return g.T&&y.vF.warn("SDK not enabled, will not capture check-in."),r;let{release:i,environment:o,tunnel:s}=this.getOptions(),a={check_in_id:r,monitor_slug:t.monitorSlug,status:t.status,release:i,environment:o};"duration"in t&&(a.duration=t.duration),e&&(a.monitor_config={schedule:e.schedule,checkin_margin:e.checkinMargin,max_runtime:e.maxRuntime,timezone:e.timezone,failure_issue_threshold:e.failureIssueThreshold,recovery_threshold:e.recoveryThreshold});let[u,c]=tR(this,n);c&&(a.contexts={trace:c});let l=function(t,e,n,r,i){let o={sent_at:new Date().toISOString()};return n?.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&i&&(o.dsn=X(i)),e&&(o.trace=e),K(o,[[{type:"check_in"},t]])}(a,u,this.getSdkMetadata(),s,this.getDsn());return g.T&&y.vF.info("Sending checkin:",t.monitorSlug,t.status),this.sendEnvelope(l),r}_prepareEvent(t,e,n,r){return this._options.platform&&(t.platform=t.platform||this._options.platform),this._options.runtime&&(t.contexts={...t.contexts,runtime:t.contexts?.runtime||this._options.runtime}),this._options.serverName&&(t.server_name=t.server_name||this._options.serverName),super._prepareEvent(t,e,n,r)}}function tN(t){let e=(0,Q.rm)().getScopeData().sdkProcessingMetadata.requestSession;if(e){let n=t?.mechanism?.handled??!0;n&&"crashed"!==e.status?e.status="errored":n||(e.status="crashed")}}function tk(t){return"string"==typeof t?2*t.length:"number"==typeof t?8:4*("boolean"==typeof t)}var tM=n(9984),tD=n(2238);class tU{constructor(t){this._maxSize=t,this._cache=new Map}get size(){return this._cache.size}get(t){let e=this._cache.get(t);if(void 0!==e)return this._cache.delete(t),this._cache.set(t,e),e}set(t,e){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(t,e)}remove(t){let e=this._cache.get(t);return e&&this._cache.delete(t),e}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){let t=[];return this._cache.forEach(e=>t.push(e)),t}}var tj=n(8232),tF=n(225);function t$(t,e,n=()=>{}){var r,i,o;let s;try{s=t()}catch(t){throw e(t),n(),t}return r=s,i=e,o=n,(0,tp.Qg)(r)?r.then(t=>(o(),t),t=>{throw i(t),o(),t}):(o(),r)}var tB=n(8786),tG=n(4322),tX=n(1374);function tV(t){if(!t||0===t.length)return;let e={};return t.forEach(t=>{let n=t.attributes||{},r=n[D.Sn],i=n[D.xc];"string"==typeof r&&"number"==typeof i&&(e[t.name]={value:i,unit:r})}),e}var tH=n(2787);function tz(t){if(!g.T)return;let{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=(0,m.et)(t),{spanId:i}=t.spanContext(),o=(0,m.pK)(t),s=(0,m.zU)(t),a=s===t,u=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${e}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){let{op:t,description:e}=(0,m.et)(s);c.push(`root ID: ${s.spanContext().spanId}`),t&&c.push(`root op: ${t}`),e&&c.push(`root description: ${e}`)}y.vF.log(`${u}
  ${c.join("\n  ")}`)}function tK(t){if(!g.T)return;let{description:e="< unknown name >",op:n="< unknown op >"}=(0,m.et)(t),{spanId:r}=t.spanContext(),i=(0,m.zU)(t)===t,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${e}" with ID ${r}`;y.vF.log(o)}function tJ(t,e,n){let r,i;if(!(0,tD.f)(t))return[!1];"function"==typeof t.tracesSampler?(r=t.tracesSampler({...e,inheritOrSampleWith:t=>"number"==typeof e.parentSampleRate?e.parentSampleRate:"boolean"==typeof e.parentSampled?Number(e.parentSampled):t}),i=!0):void 0!==e.parentSampled?r=e.parentSampled:void 0!==t.tracesSampleRate&&(r=t.tracesSampleRate,i=!0);let o=(0,ta.i)(r);if(void 0===o)return g.T&&y.vF.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`),[!1];if(!o)return g.T&&y.vF.log(`[Tracing] Discarding transaction because ${"function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,i];let s=n<o;return!s&&g.T&&y.vF.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),[s,o,i]}v.O;async function tq(t,e){if(t?.body){let n=t.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},9e4),o=!0;for(;o;){let t;try{t=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:i}=await r.read();clearTimeout(t),i&&(e(),o=!1)}catch(t){o=!1}finally{clearTimeout(t)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function tW(t,e){return!!t&&"object"==typeof t&&!!t[e]}function tY(t){return"string"==typeof t?t:t?tW(t,"url")?t.url:t.toString?t.toString():"":""}function tZ(t){return"/"===t[t.length-1]?t.slice(0,-1):t}var tQ=n(2385);class t0{constructor(t={}){this._traceId=t.traceId||(0,tQ.e)(),this._spanId=t.spanId||(0,tQ.Z)()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:m.CC}}end(t){}setAttribute(t,e){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,e,n){return this}addLink(t){return this}addLinks(t){return this}recordException(t,e){}}class t1{constructor(t={}){this._traceId=t.traceId||(0,tQ.e)(),this._spanId=t.spanId||(0,tQ.Z)(),this._startTime=t.startTimestamp||(0,tl.zf)(),this._links=t.links,this._attributes={},this.setAttributes({[D.JD]:"manual",[D.uT]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,e){}spanContext(){let{_spanId:t,_traceId:e,_sampled:n}=this;return{spanId:t,traceId:e,traceFlags:n?m.aO:m.CC}}setAttribute(t,e){return void 0===e?delete this._attributes[t]:this._attributes[t]=e,this}setAttributes(t){return Object.keys(t).forEach(e=>this.setAttribute(e,t[e])),this}updateStartTime(t){this._startTime=(0,m.cI)(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(D.i_,"custom"),this}end(t){this._endTime||(this._endTime=(0,m.cI)(t),tK(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[D.uT],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,m.yW)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[D.JD],profile_id:this._attributes[D.E1],exclusive_time:this._attributes[D.jG],measurements:tV(this._events),is_segment:this._isStandaloneSpan&&(0,m.zU)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,m.zU)(this).spanContext().spanId:void 0,links:(0,m.uU)(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,e,n){g.T&&y.vF.log("[Tracing] Adding an event to span:",t);let r=t4(e)?e:n||(0,tl.zf)(),i=t4(e)?{}:e||{},o={name:t,time:(0,m.cI)(r),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=(0,Q.KU)();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===(0,m.zU)(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(t){let e=(0,Q.KU)();if(!e)return;let n=t[1];if(!n||0===n.length)return e.recordDroppedEvent("before_send","span");e.sendEnvelope(t)}(function(t,e){let n=(0,tt.k1)(t[0]),r=e?.getDsn(),i=e?.getOptions().tunnel,o={sent_at:new Date().toISOString(),...!!n.trace_id&&!!n.public_key&&{trace:n},...!!i&&r&&{dsn:X(r)}},s=e?.getOptions().beforeSendSpan,a=s?t=>{let e=(0,m.et)(t),n=s(e);return n||((0,m.xl)(),e)}:m.et,u=[];for(let e of t){let t=a(e);t&&u.push([{type:"span"},t])}return K(o,u)}([this],t)):(g.T&&y.vF.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span")));let e=this._convertSpanToTransaction();e&&((0,tB.L)(this).scope||(0,Q.o5)()).captureEvent(e)}_convertSpanToTransaction(){if(!t2((0,m.et)(this)))return;this._name||(g.T&&y.vF.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:e}=(0,tB.L)(this);if(!0!==this._sampled)return;let n=(0,m.xO)(this).filter(t=>{var e;return t!==this&&!((e=t)instanceof t1&&e.isStandaloneSpan())}).map(t=>(0,m.et)(t)).filter(t2),r=this._attributes[D.i_];delete this._attributes[D.Le],n.forEach(t=>{delete t.data[D.Le]});let i={contexts:{trace:(0,m.Ck)(this)},spans:n.length>1e3?n.sort((t,e)=>t.start_timestamp-e.start_timestamp).slice(0,1e3):n,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:e,dynamicSamplingContext:(0,tt.k1)(this)},...r&&{transaction_info:{source:r}}},o=tV(this._events);return o&&Object.keys(o).length&&(g.T&&y.vF.log("[Measurements] Adding measurements to transaction event",JSON.stringify(o,void 0,2)),i.measurements=o),i}}function t4(t){return t&&"number"==typeof t||t instanceof Date||Array.isArray(t)}function t2(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}let t5="__SENTRY_SUPPRESS_TRACING__";function t3(t,e){let n=t8();return n.withActiveSpan?n.withActiveSpan(t,e):(0,Q.v4)(n=>((0,tc.r)(n,t||void 0),e(n)))}function t8(){let t=(0,H.EU)();return(0,tX.h)(t)}function t9(t,e,n){let r=(0,Q.KU)(),i=r?.getOptions()||{},{name:o=""}=t,s={spanAttributes:{...t.attributes},spanName:o,parentSampled:n};r?.emit("beforeSampling",s,{decision:!1});let a=s.parentSampled??n,u=s.spanAttributes,c=e.getPropagationContext(),[l,p,f]=e.getScopeData().sdkProcessingMetadata[t5]?[!1]:tJ(i,{name:o,parentSampled:a,attributes:u,parentSampleRate:(0,ta.i)(c.dsc?.sample_rate)},c.sampleRand),d=new t1({...t,attributes:{[D.i_]:"custom",[D.sy]:void 0!==p&&f?p:void 0,...u},sampled:l});return!l&&r&&(g.T&&y.vF.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",d),d}function t7(t){return t.split(",").some(t=>t.trim().startsWith(tM.sv))}function t6(t,e){let n=(0,Q.KU)(),r=(0,Q.rm)();if(!n)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:o=100}=n.getOptions();if(o<=0)return;let s={timestamp:(0,tl.lu)(),...t},a=i?(0,y.pq)(()=>i(s,e)):s;null!==a&&(n.emit&&n.emit("beforeAddBreadcrumb",a,e),r.addBreadcrumb(a,o))}let et=Symbol.for("SentryBufferFullError");function ee(t){return parseInt(t||"",10)||void 0}let en=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{var n,r;if(n=e,(r=t)&&(function(t,e){let n=t.message,r=e.message;return(!!n||!!r)&&(!n||!!r)&&(!!n||!r)&&n===r&&!!ei(t,e)&&!!er(t,e)&&!0}(n,r)||function(t,e){let n=eo(e),r=eo(t);return!!n&&!!r&&n.type===r.type&&n.value===r.value&&!!ei(t,e)&&!!er(t,e)}(n,r)))return g.T&&y.vF.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return t=e}}};function er(t,e){let n=(0,E.RV)(t),r=(0,E.RV)(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let t=0;t<r.length;t++){let e=r[t],i=n[t];if(e.filename!==i.filename||e.lineno!==i.lineno||e.colno!==i.colno||e.function!==i.function)return!1}return!0}function ei(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch(t){return!1}}function eo(t){return t.exception?.values&&t.exception.values[0]}let es=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],ea=(t={})=>{let e;return{name:"EventFilters",setup(n){e=ec(t,n.getOptions())},processEvent:(n,r,i)=>(e||(e=ec(t,i.getOptions())),!function(t,e){if(t.type){if("transaction"===t.type&&function(t,e){if(!e?.length)return!1;let n=t.transaction;return!!n&&(0,tF.Xr)(n,e)}(t,e.ignoreTransactions))return g.T&&y.vF.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,tf.$X)(t)}`),!0}else{var n,r,i;if(n=t,r=e.ignoreErrors,r?.length&&to(n).some(t=>(0,tF.Xr)(t,r)))return g.T&&y.vF.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,tf.$X)(t)}`),!0;if(i=t,i.exception?.values?.length&&!i.message&&!i.exception.values.some(t=>t.stacktrace||t.type&&"Error"!==t.type||t.value))return g.T&&y.vF.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${(0,tf.$X)(t)}`),!0;if(function(t,e){if(!e?.length)return!1;let n=el(t);return!!n&&(0,tF.Xr)(n,e)}(t,e.denyUrls))return g.T&&y.vF.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,tf.$X)(t)}.
Url: ${el(t)}`),!0;if(!function(t,e){if(!e?.length)return!0;let n=el(t);return!n||(0,tF.Xr)(n,e)}(t,e.allowUrls))return g.T&&y.vF.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,tf.$X)(t)}.
Url: ${el(t)}`),!0}return!1}(n,e)?n:null)}},eu=(t={})=>({...ea(t),name:"InboundFilters"});function ec(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:es],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function el(t){try{let e=[...t.exception?.values??[]].reverse().find(t=>t.mechanism?.parent_id===void 0&&t.stacktrace?.frames?.length),n=e?.stacktrace?.frames;return n?function(t=[]){for(let e=t.length-1;e>=0;e--){let n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch(e){return g.T&&y.vF.error(`Cannot extract url for event ${(0,tf.$X)(t)}`),null}}let ep=new WeakMap,ef=()=>({name:"FunctionToString",setupOnce(){r=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=(0,tA.sp)(this),n=ep.has((0,Q.KU)())&&void 0!==e?e:this;return r.apply(n,t)}}catch{}},setup(t){ep.set(t,!0)}});function ed(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:!0},exception_id:e}}function eh(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}let e_=(t={})=>{let e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(t,r,i){!function(t,e,n,r,i,o){if(!i.exception?.values||!o||!(0,tp.tH)(o.originalException,Error))return;let s=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;s&&(i.exception.values=function t(e,n,r,i,o,s,a,u){if(s.length>=r+1)return s;let c=[...s];if((0,tp.tH)(i[o],Error)){ed(a,u);let s=e(n,i[o]),l=c.length;eh(s,o,l,u),c=t(e,n,r,i[o],o,[s,...c],s,l)}return Array.isArray(i.errors)&&i.errors.forEach((i,s)=>{if((0,tp.tH)(i,Error)){ed(a,u);let l=e(n,i),p=c.length;eh(l,`errors[${s}]`,p,u),c=t(e,n,r,i,o,[l,...c],l,p)}}),c}(t,e,r,o.originalException,n,i.exception.values,s,0))}(tx,i.getOptions().stackParser,n,e,t,r)}}};function eg(){"console"in v.O&&y.Ow.forEach(function(t){t in v.O.console&&(0,tA.GS)(v.O.console,t,function(e){return y.Z9[t]=e,function(...e){R("console",{args:e,level:t});let n=y.Z9[t];n?.apply(v.O.console,e)}})})}let em=(t={})=>{let e=new Set(t.levels||y.Ow);return{name:"Console",setup(t){let n="console";b(n,({args:n,level:r})=>{(0,Q.KU)()===t&&e.has(r)&&function(t,e){let n={category:"console",data:{arguments:e,logger:"console"},level:"warn"===t?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log",message:ev(e)};if("assert"===t)if(!1!==e[0])return;else{let t=e.slice(1);n.message=t.length>0?`Assertion failed: ${ev(t)}`:"Assertion failed",n.data.arguments=t}t6(n,{input:e,level:t})}(r,n)}),O(n,eg)}}};function ev(t){return"util"in v.O&&"function"==typeof v.O.util.format?v.O.util.format(...t):(0,tF.gt)(t," ")}let ey=["X-Client-IP","X-Forwarded-For","Fly-Client-IP","CF-Connecting-IP","Fastly-Client-Ip","True-Client-Ip","X-Real-IP","X-Cluster-Client-IP","X-Forwarded","Forwarded-For","Forwarded","X-Vercel-Forwarded-For"],eE={cookies:!0,data:!0,headers:!0,query_string:!0,url:!0},eT=(t={})=>{let e={...eE,...t.include};return{name:"RequestData",processEvent(t,n,r){let{sdkProcessingMetadata:i={}}=t,{normalizedRequest:o,ipAddress:s}=i,a={...e,ip:e.ip??r.getOptions().sendDefaultPii};return o&&function(t,e,n,r){if(t.request={...t.request,...function(t,e){let n={},r={...t.headers};return e.headers&&(n.headers=r,e.cookies||delete r.cookie,e.ip||ey.forEach(t=>{delete r[t]})),n.method=t.method,e.url&&(n.url=t.url),e.cookies&&(n.cookies=t.cookies||(r?.cookie?function(t){let e={},n=0;for(;n<t.length;){let r=t.indexOf("=",n);if(-1===r)break;let i=t.indexOf(";",n);if(-1===i)i=t.length;else if(i<r){n=t.lastIndexOf(";",r-1)+1;continue}let o=t.slice(n,r).trim();if(void 0===e[o]){let n=t.slice(r+1,i).trim();34===n.charCodeAt(0)&&(n=n.slice(1,-1));try{e[o]=-1!==n.indexOf("%")?decodeURIComponent(n):n}catch(t){e[o]=n}}n=i+1}return e}(r.cookie):void 0)||{}),e.query_string&&(n.query_string=t.query_string),e.data&&(n.data=t.data),n}(e,r)},r.ip){var i;let r=e.headers&&(i=e.headers,ey.map(t=>{let e=i[t],n=Array.isArray(e)?e.join(";"):e;return"Forwarded"===t?function(t){if(!t)return null;for(let e of t.split(";"))if(e.startsWith("for="))return e.slice(4);return null}(n):n?.split(",").map(t=>t.trim())}).reduce((t,e)=>e?t.concat(e):t,[]).find(t=>{var e;return null!==t&&(e=t,/(?:^(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}$)|(?:^(?:(?:[a-fA-F\d]{1,4}:){7}(?:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){6}(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|:[a-fA-F\d]{1,4}|:)|(?:[a-fA-F\d]{1,4}:){5}(?::(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,2}|:)|(?:[a-fA-F\d]{1,4}:){4}(?:(?::[a-fA-F\d]{1,4}){0,1}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,3}|:)|(?:[a-fA-F\d]{1,4}:){3}(?:(?::[a-fA-F\d]{1,4}){0,2}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,4}|:)|(?:[a-fA-F\d]{1,4}:){2}(?:(?::[a-fA-F\d]{1,4}){0,3}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,5}|:)|(?:[a-fA-F\d]{1,4}:){1}(?:(?::[a-fA-F\d]{1,4}){0,4}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,6}|:)|(?::(?:(?::[a-fA-F\d]{1,4}){0,5}:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)(?:\\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)){3}|(?::[a-fA-F\d]{1,4}){1,7}|:)))(?:%[0-9a-zA-Z]{1,})?$)/.test(e))})||null)||n.ipAddress;r&&(t.user={...t.user,ip_address:r})}}(t,o,{ipAddress:s},a),t}}};function eS(t){return Symbol.for(t)}var eb=new function t(e){var n=this;n._currentContext=e?new Map(e):new Map,n.getValue=function(t){return n._currentContext.get(t)},n.setValue=function(e,r){var i=new t(n._currentContext);return i._currentContext.set(e,r),i},n.deleteValue=function(e){var r=new t(n._currentContext);return r._currentContext.delete(e),r}},eO=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},eR=function(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},eL=function(){function t(){}return t.prototype.active=function(){return eb},t.prototype.with=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return e.call.apply(e,eR([n],eO(r),!1))},t.prototype.bind=function(t,e){return e},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}(),eI="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof n.g?n.g:{},eP="1.9.0",eA=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,ew=function(t){var e=new Set([t]),n=new Set,r=t.match(eA);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=i.prerelease)return function(e){return e===t};function o(t){return n.add(t),!1}return function(t){if(e.has(t))return!0;if(n.has(t))return!1;var r=t.match(eA);if(!r)return o(t);var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(null!=s.prerelease||i.major!==s.major)return o(t);if(0===i.major)return i.minor===s.minor&&i.patch<=s.patch?(e.add(t),!0):o(t);return i.minor<=s.minor?(e.add(t),!0):o(t)}}(eP),ex=Symbol.for("opentelemetry.js.api."+eP.split(".")[0]);function eC(t,e,n,r){void 0===r&&(r=!1);var i,o=eI[ex]=null!=(i=eI[ex])?i:{version:eP};if(!r&&o[t]){var s=Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return n.error(s.stack||s.message),!1}if(o.version!==eP){var s=Error("@opentelemetry/api: Registration of version v"+o.version+" for "+t+" does not match previously registered API v"+eP);return n.error(s.stack||s.message),!1}return o[t]=e,n.debug("@opentelemetry/api: Registered a global for "+t+" v"+eP+"."),!0}function eN(t){var e,n,r=null==(e=eI[ex])?void 0:e.version;if(r&&ew(r))return null==(n=eI[ex])?void 0:n[t]}function ek(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+eP+".");var n=eI[ex];n&&delete n[t]}var eM=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},eD=function(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},eU=function(){function t(t){this._namespace=t.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ej("debug",this._namespace,t)},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ej("error",this._namespace,t)},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ej("info",this._namespace,t)},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ej("warn",this._namespace,t)},t.prototype.verbose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ej("verbose",this._namespace,t)},t}();function ej(t,e,n){var r=eN("diag");if(r)return n.unshift(e),r[t].apply(r,eD([],eM(n),!1))}!function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"}(s||(s={}));var eF=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},e$=function(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},eB=function(){function t(){function t(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=eN("diag");if(r)return r[t].apply(r,e$([],eF(e),!1))}}var e=this;e.setLogger=function(t,n){if(void 0===n&&(n={logLevel:s.INFO}),t===e){var r,i,o,a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return e.error(null!=(r=a.stack)?r:a.message),!1}"number"==typeof n&&(n={logLevel:n});var u=eN("diag"),c=function(t,e){function n(n,r){var i=e[n];return"function"==typeof i&&t>=r?i.bind(e):function(){}}return t<s.NONE?t=s.NONE:t>s.ALL&&(t=s.ALL),e=e||{},{error:n("error",s.ERROR),warn:n("warn",s.WARN),info:n("info",s.INFO),debug:n("debug",s.DEBUG),verbose:n("verbose",s.VERBOSE)}}(null!=(i=n.logLevel)?i:s.INFO,t);if(u&&!n.suppressOverrideMessage){var l=null!=(o=Error().stack)?o:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+l),c.warn("Current logger will overwrite one already registered from "+l)}return eC("diag",c,e,!0)},e.disable=function(){ek("diag",e)},e.createComponentLogger=function(t){return new eU(t)},e.verbose=t("verbose"),e.debug=t("debug"),e.info=t("info"),e.warn=t("warn"),e.error=t("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}(),eG=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},eX=function(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},eV="context",eH=new eL,ez=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(t){return eC(eV,t,eB.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return(r=this._getContextManager()).with.apply(r,eX([t,e,n],eG(i),!1))},t.prototype.bind=function(t,e){return this._getContextManager().bind(t,e)},t.prototype._getContextManager=function(){return eN(eV)||eH},t.prototype.disable=function(){this._getContextManager().disable(),ek(eV,eB.instance())},t}(),eK=ez.getInstance();!function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"}(a||(a={}));var eJ="0000000000000000",eq="00000000000000000000000000000000",eW={traceId:eq,spanId:eJ,traceFlags:a.NONE},eY=function(){function t(t){void 0===t&&(t=eW),this._spanContext=t}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(t,e){return this},t.prototype.setAttributes=function(t){return this},t.prototype.addEvent=function(t,e){return this},t.prototype.addLink=function(t){return this},t.prototype.addLinks=function(t){return this},t.prototype.setStatus=function(t){return this},t.prototype.updateName=function(t){return this},t.prototype.end=function(t){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(t,e){},t}(),eZ=eS("OpenTelemetry Context Key SPAN");function eQ(t){return t.getValue(eZ)||void 0}function e0(){return eQ(ez.getInstance().active())}function e1(t,e){return t.setValue(eZ,e)}function e4(t){return t.deleteValue(eZ)}function e2(t,e){return e1(t,new eY(e))}function e5(t){var e;return null==(e=eQ(t))?void 0:e.spanContext()}var e3=/^([0-9a-f]{32})$/i,e8=/^[0-9a-f]{16}$/i;function e9(t){return e3.test(t)&&t!==eq}function e7(t){var e;return e9(t.traceId)&&(e=t.spanId,e8.test(e)&&e!==eJ)}function e6(t){return new eY(t)}var nt=ez.getInstance(),ne=function(){function t(){}return t.prototype.startSpan=function(t,e,n){if(void 0===n&&(n=nt.active()),null==e?void 0:e.root)return new eY;var r,i=n&&e5(n);return"object"==typeof(r=i)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&e7(i)?new eY(i):new eY},t.prototype.startActiveSpan=function(t,e,n,r){if(!(arguments.length<2)){2==arguments.length?s=e:3==arguments.length?(i=e,s=n):(i=e,o=n,s=r);var i,o,s,a=null!=o?o:nt.active(),u=this.startSpan(t,i,a),c=e1(a,u);return nt.with(c,s,void 0,u)}},t}(),nn=new ne,nr=function(){function t(t,e,n,r){this._provider=t,this.name=e,this.version=n,this.options=r}return t.prototype.startSpan=function(t,e,n){return this._getTracer().startSpan(t,e,n)},t.prototype.startActiveSpan=function(t,e,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):nn},t}(),ni=new(function(){function t(){}return t.prototype.getTracer=function(t,e,n){return new ne},t}()),no=function(){function t(){}return t.prototype.getTracer=function(t,e,n){var r;return null!=(r=this.getDelegateTracer(t,e,n))?r:new nr(this,t,e,n)},t.prototype.getDelegate=function(){var t;return null!=(t=this._delegate)?t:ni},t.prototype.setDelegate=function(t){this._delegate=t},t.prototype.getDelegateTracer=function(t,e,n){var r;return null==(r=this._delegate)?void 0:r.getTracer(t,e,n)},t}(),ns="trace",na=(function(){function t(){this._proxyTracerProvider=new no,this.wrapSpanContext=e6,this.isSpanContextValid=e7,this.deleteSpan=e4,this.getSpan=eQ,this.getActiveSpan=e0,this.getSpanContext=e5,this.setSpan=e1,this.setSpanContext=e2}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(t){var e=eC(ns,this._proxyTracerProvider,eB.instance());return e&&this._proxyTracerProvider.setDelegate(t),e},t.prototype.getTracerProvider=function(){return eN(ns)||this._proxyTracerProvider},t.prototype.getTracer=function(t,e){return this.getTracerProvider().getTracer(t,e)},t.prototype.disable=function(){ek(ns,eB.instance()),this._proxyTracerProvider=new no},t})().getInstance(),nu=eB.instance();!function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"}(u||(u={})),function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(c||(c={}));var nc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},nl=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},np=function(){function t(t){this._entries=t?new Map(t):new Map}return t.prototype.getEntry=function(t){var e=this._entries.get(t);if(e)return Object.assign({},e)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var e=nc(t,2);return[e[0],e[1]]})},t.prototype.setEntry=function(e,n){var r=new t(this._entries);return r._entries.set(e,n),r},t.prototype.removeEntry=function(e){var n=new t(this._entries);return n._entries.delete(e),n},t.prototype.removeEntries=function(){for(var e,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=new t(this._entries);try{for(var s=nl(r),a=s.next();!a.done;a=s.next()){var u=a.value;o._entries.delete(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o},t.prototype.clear=function(){return new t},t}(),nf=Symbol("BaggageEntryMetadata"),nd=eB.instance();function nh(t){return void 0===t&&(t={}),new np(new Map(Object.entries(t)))}var n_=function(){function t(){}return t.prototype.inject=function(t,e){},t.prototype.extract=function(t,e){return t},t.prototype.fields=function(){return[]},t}(),ng={get:function(t,e){if(null!=t)return t[e]},keys:function(t){return null==t?[]:Object.keys(t)}},nm={set:function(t,e,n){null!=t&&(t[e]=n)}},nv=eS("OpenTelemetry Baggage Key");function ny(t){return t.getValue(nv)||void 0}function nE(){return ny(ez.getInstance().active())}function nT(t,e){return t.setValue(nv,e)}function nS(t){return t.deleteValue(nv)}var nb="propagation",nO=new n_,nR=(function(){function t(){this.createBaggage=nh,this.getBaggage=ny,this.getActiveBaggage=nE,this.setBaggage=nT,this.deleteBaggage=nS}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(t){return eC(nb,t,eB.instance())},t.prototype.inject=function(t,e,n){return void 0===n&&(n=nm),this._getGlobalPropagator().inject(t,e,n)},t.prototype.extract=function(t,e,n){return void 0===n&&(n=ng),this._getGlobalPropagator().extract(t,e,n)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){ek(nb,eB.instance())},t.prototype._getGlobalPropagator=function(){return eN(nb)||nO},t})().getInstance();!function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"}(l||(l={}));var nL=n(5356).Buffer;void 0===globalThis.performance&&(globalThis.performance={timeOrigin:0,now:()=>Date.now()});class nI extends tC{constructor(t){M(t,"vercel-edge"),t._metadata=t._metadata||{},super({...t,platform:"javascript",runtime:{name:"vercel-edge"},serverName:t.serverName||process.env.SENTRY_NAME})}async flush(t){let e=this.traceProvider,n=e?.activeSpanProcessor;return n&&await n.forceFlush(),this.getOptions().sendClientReports&&this._flushOutcomes(),super.flush(t)}}var nP="telemetry.sdk.name",nA="telemetry.sdk.language",nw="telemetry.sdk.version",nx=eS("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function nC(t){return t.setValue(nx,!0)}function nN(t){return!0===t.getValue(nx)}var nk="baggage",nM=globalThis&&globalThis.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},nD=function(){function t(){}return t.prototype.inject=function(t,e,n){var r=nR.getBaggage(t);if(!(!r||nN(t))){var i=r.getAllEntries().map(function(t){var e=nM(t,2),n=e[0],r=e[1],i=encodeURIComponent(n)+"="+encodeURIComponent(r.value);return void 0!==r.metadata&&(i+=";"+r.metadata.toString()),i}).filter(function(t){return t.length<=4096}).slice(0,180).reduce(function(t,e){var n=""+t+(""!==t?",":"")+e;return n.length>8192?t:n},"");i.length>0&&n.set(e,nk,i)}},t.prototype.extract=function(t,e,n){var r=n.get(e,nk),i=Array.isArray(r)?r.join(","):r;if(!i)return t;var o={};return 0===i.length||(i.split(",").forEach(function(t){var e=function(t){var e,n=t.split(";");if(!(n.length<=0)){var r=n.shift();if(r){var i=r.indexOf("=");if(!(i<=0)){var o,s=decodeURIComponent(r.substring(0,i).trim()),a=decodeURIComponent(r.substring(i+1).trim());return n.length>0&&("string"!=typeof(o=n.join(";"))&&(nd.error("Cannot create baggage metadata from unknown type: "+typeof o),o=""),e={__TYPE__:nf,toString:function(){return o}}),{key:s,value:a,metadata:e}}}}}(t);if(e){var n={value:e.value};e.metadata&&(n.metadata=e.metadata),o[e.key]=n}}),0===Object.entries(o).length)?t:nR.setBaggage(t,nR.createBaggage(o))},t.prototype.fields=function(){return[nk]},t}(),nU=globalThis&&globalThis.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},nj=globalThis&&globalThis.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s};function nF(t){var e,n,r={};if("object"!=typeof t||null==t)return r;try{for(var i=nU(Object.entries(t)),o=i.next();!o.done;o=i.next()){var s,a=nj(o.value,2),u=a[0],c=a[1];if(s=u,"string"!=typeof s||!(s.length>0)){nu.warn("Invalid attribute key: "+u);continue}if(!n$(c)){nu.warn("Invalid attribute value set for key: "+u);continue}Array.isArray(c)?r[u]=c.slice():r[u]=c}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function n$(t){return null==t||(Array.isArray(t)?function(t){try{for(var e,n,r,i=nU(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(null!=s){if(!r){if(nB(s)){r=typeof s;continue}return!1}if(typeof s!==r)return!1}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!0}(t):nB(t))}function nB(t){switch(typeof t){case"number":case"boolean":case"string":return!0}return!1}var nG=function(t){var e;nu.error("string"==typeof(e=t)?e:JSON.stringify(function(t){for(var e={},n=t;null!==n;)Object.getOwnPropertyNames(n).forEach(function(t){if(!e[t]){var r=n[t];r&&(e[t]=String(r))}}),n=Object.getPrototypeOf(n);return e}(e)))};function nX(t){try{nG(t)}catch(t){}}!function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"}(p||(p={}));var nV=["OTEL_SDK_DISABLED"],nH=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"],nz=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS","OTEL_SEMCONV_STABILITY_OPT_IN"],nK=1/0,nJ={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:s.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:nK,OTEL_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:nK,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:nK,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:p.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative",OTEL_SEMCONV_STABILITY_OPT_IN:[]},nq={ALL:s.ALL,VERBOSE:s.VERBOSE,DEBUG:s.DEBUG,INFO:s.INFO,WARN:s.WARN,ERROR:s.ERROR,NONE:s.NONE};function nW(t){var e={};for(var n in nJ)if("OTEL_LOG_LEVEL"===n)!function(t,e,n){var r=n[t];if("string"==typeof r){var i=nq[r.toUpperCase()];null!=i&&(e[t]=i)}}(n,e,t);else if(nV.indexOf(n)>-1){if(void 0!==t[n]){var r=String(t[n]);e[n]="true"===r.toLowerCase()}}else if(nH.indexOf(n)>-1)!function(t,e,n,r,i){if(void 0===r&&(r=-1/0),void 0===i&&(i=1/0),void 0!==n[t]){var o=Number(n[t]);isNaN(o)||(o<r?e[t]=r:o>i?e[t]=i:e[t]=o)}}(n,e,t);else if(nz.indexOf(n)>-1)!function(t,e,n,r){void 0===r&&(r=",");var i=n[t];"string"==typeof i&&(e[t]=i.split(r).map(function(t){return t.trim()}))}(n,e,t);else{var i=t[n];null!=i&&(e[n]=String(i))}return e}function nY(){return Object.assign({},nJ,nW(process.env))}var nZ={timeOrigin:0,now:()=>Date.now()},nQ=((f={})["telemetry.sdk.name"]="opentelemetry",f["process.runtime.name"]="node",f["telemetry.sdk.language"]="nodejs",f["telemetry.sdk.version"]="1.30.1",f);function n0(t){return[Math.trunc(t/1e3),Math.round(t%1e3*1e6)]}function n1(){return nZ.timeOrigin}function n4(t){return Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}function n2(t){return n4(t)||"number"==typeof t||t instanceof Date}function n5(t,e){var n=[t[0]+e[0],t[1]+e[1]];return n[1]>=1e9&&(n[1]-=1e9,n[0]+=1),n}!function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(d||(d={}));var n3=globalThis&&globalThis.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n8=function(){function t(t){var e;void 0===t&&(t={}),this._propagators=null!=(e=t.propagators)?e:[],this._fields=Array.from(new Set(this._propagators.map(function(t){return"function"==typeof t.fields?t.fields():[]}).reduce(function(t,e){return t.concat(e)},[])))}return t.prototype.inject=function(t,e,n){var r,i;try{for(var o=n3(this._propagators),s=o.next();!s.done;s=o.next()){var a=s.value;try{a.inject(t,e,n)}catch(t){nu.warn("Failed to inject with "+a.constructor.name+". Err: "+t.message)}}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.extract=function(t,e,n){return this._propagators.reduce(function(t,r){try{return r.extract(t,e,n)}catch(t){nu.warn("Failed to extract with "+r.constructor.name+". Err: "+t.message)}return t},t)},t.prototype.fields=function(){return this._fields.slice()},t}(),n9="[_0-9a-z-*/]",n7=RegExp("^(?:[a-z]"+n9+"{0,255}|"+("[a-z0-9]"+n9+"{0,240}@[a-z]")+n9+"{0,13})$"),n6=/^[ -~]{0,255}[!-~]$/,rt=/,|=/,re=function(){function t(t){this._internalState=new Map,t&&this._parse(t)}return t.prototype.set=function(t,e){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,e),n},t.prototype.unset=function(t){var e=this._clone();return e._internalState.delete(t),e},t.prototype.get=function(t){return this._internalState.get(t)},t.prototype.serialize=function(){var t=this;return this._keys().reduce(function(e,n){return e.push(n+"="+t.get(n)),e},[]).join(",")},t.prototype._parse=function(t){!(t.length>512)&&(this._internalState=t.split(",").reverse().reduce(function(t,e){var n=e.trim(),r=n.indexOf("=");if(-1!==r){var i=n.slice(0,r),o=n.slice(r+1,e.length);n7.test(i)&&n6.test(o)&&!rt.test(o)&&t.set(i,o)}return t},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}(),rn="traceparent",rr="tracestate",ri=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$"),ro=function(){function t(){}return t.prototype.inject=function(t,e,n){var r=na.getSpanContext(t);if(!(!r||nN(t))&&e7(r)){var i="00-"+r.traceId+"-"+r.spanId+"-0"+Number(r.traceFlags||a.NONE).toString(16);n.set(e,rn,i),r.traceState&&n.set(e,rr,r.traceState.serialize())}},t.prototype.extract=function(t,e,n){var r,i=n.get(e,rn);if(!i)return t;var o=Array.isArray(i)?i[0]:i;if("string"!=typeof o)return t;var s=(r=ri.exec(o))&&("00"!==r[1]||!r[5])?{traceId:r[2],spanId:r[3],traceFlags:parseInt(r[4],16)}:null;if(!s)return t;s.isRemote=!0;var a=n.get(e,rr);if(a){var u=Array.isArray(a)?a.join(","):a;s.traceState=new re("string"==typeof u?u:void 0)}return na.setSpanContext(t,s)},t.prototype.fields=function(){return[rn,rr]},t}(),rs=Function.prototype.toString,ra=rs.call(Object),ru=(i=Object.getPrototypeOf,o=Object,function(t){return i(o(t))}),rc=Object.prototype,rl=rc.hasOwnProperty,rp=Symbol?Symbol.toStringTag:void 0,rf=rc.toString;function rd(t){if(null==(e=t)||"object"!=typeof e||"[object Object]"!==(null==(n=t)?void 0===n?"[object Undefined]":"[object Null]":rp&&rp in Object(n)?function(t){var e=rl.call(t,rp),n=t[rp],r=!1;try{t[rp]=void 0,r=!0}catch(t){}var i=rf.call(t);return r&&(e?t[rp]=n:delete t[rp]),i}(n):(r=n,rf.call(r))))return!1;var e,n,r,i=ru(t);if(null===i)return!0;var o=rl.call(i,"constructor")&&i.constructor;return"function"==typeof o&&o instanceof o&&rs.call(o)===ra}function rh(t){return rg(t)?t.slice():t}function r_(t,e,n){for(var r=n.get(t[e])||[],i=0,o=r.length;i<o;i++){var s=r[i];if(s.key===e&&s.obj===t)return!0}return!1}function rg(t){return Array.isArray(t)}function rm(t){return"function"==typeof t}function rv(t){return!ry(t)&&!rg(t)&&!rm(t)&&"object"==typeof t}function ry(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||void 0===t||t instanceof Date||t instanceof RegExp||null===t}var rE=function(){function t(){var t=this;this._promise=new Promise(function(e,n){t._resolve=e,t._reject=n})}return Object.defineProperty(t.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),t.prototype.resolve=function(t){this._resolve(t)},t.prototype.reject=function(t){this._reject(t)},t}(),rT=globalThis&&globalThis.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},rS=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},rb=function(){function t(t,e){this._callback=t,this._that=e,this._isCalled=!1,this._deferred=new rE}return Object.defineProperty(t.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),t.prototype.call=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,rS([this._that],rT(n),!1))).then(function(t){return e._deferred.resolve(t)},function(t){return e._deferred.reject(t)})}catch(t){this._deferred.reject(t)}}return this._deferred.promise},t}(),rO=globalThis&&globalThis.__assign||function(){return(rO=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},rR=globalThis&&globalThis.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})},rL=globalThis&&globalThis.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){var u=[o,a];if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,r=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(t){u=[6,t],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},rI=globalThis&&globalThis.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},rP=function(){function t(t,e){var n,r=this;this._attributes=t,this.asyncAttributesPending=null!=e,this._syncAttributes=null!=(n=this._attributes)?n:{},this._asyncAttributesPromise=null==e?void 0:e.then(function(t){return r._attributes=Object.assign({},r._attributes,t),r.asyncAttributesPending=!1,t},function(t){return nu.debug("a resource's async attributes promise rejected: %s",t),r.asyncAttributesPending=!1,{}})}return t.empty=function(){return t.EMPTY},t.default=function(){var e;return new t(((e={})["service.name"]="unknown_service:",e[nA]=nQ[nA],e[nP]=nQ[nP],e[nw]=nQ[nw],e))},Object.defineProperty(t.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&nu.error("Accessing resource attributes before async attributes settled"),null!=(t=this._attributes)?t:{}},enumerable:!1,configurable:!0}),t.prototype.waitForAsyncAttributes=function(){return rR(this,void 0,void 0,function(){return rL(this,function(t){switch(t.label){case 0:if(!this.asyncAttributesPending)return[3,2];return[4,this._asyncAttributesPromise];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.merge=function(e){var n,r=this;if(!e)return this;var i=rO(rO({},this._syncAttributes),null!=(n=e._syncAttributes)?n:e.attributes);return this._asyncAttributesPromise||e._asyncAttributesPromise?new t(i,Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(function(t){var n,i=rI(t,2),o=i[0],s=i[1];return rO(rO(rO(rO({},r._syncAttributes),o),null!=(n=e._syncAttributes)?n:e.attributes),s)})):new t(i)},t.EMPTY=new t({}),t}(),rA="exception.type",rw="exception.message",rx=globalThis&&globalThis.__assign||function(){return(rx=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},rC=globalThis&&globalThis.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rN=globalThis&&globalThis.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},rk=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},rM=function(){function t(t,e,n,r,i,o,s,a,u,c){void 0===s&&(s=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:l.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=r,this.parentSpanId=o,this.kind=i,this.links=s;var p=Date.now();this._performanceStartTime=nZ.now(),this._performanceOffset=p-(this._performanceStartTime+n1()),this._startTimeProvided=null!=a,this.startTime=this._getTime(null!=a?a:p),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,null!=c&&this.setAttributes(c),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,e)}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(t,e){return null==e||this._isSpanEnded()||(0===t.length?nu.warn("Invalid attribute key: "+t):n$(e)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this._droppedAttributesCount++:this.attributes[t]=this._truncateToSize(e):nu.warn("Invalid attribute value set for key: "+t)),this},t.prototype.setAttributes=function(t){var e,n;try{for(var r=rC(Object.entries(t)),i=r.next();!i.done;i=r.next()){var o=rN(i.value,2),s=o[0],a=o[1];this.setAttribute(s,a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return this},t.prototype.addEvent=function(t,e,n){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return nu.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(0===this._droppedEventsCount&&nu.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),n2(e)&&(n2(n)||(n=e),e=void 0);var r=nF(e);return this.events.push({name:t,attributes:r,time:this._getTime(n),droppedAttributesCount:0}),this},t.prototype.addLink=function(t){return this.links.push(t),this},t.prototype.addLinks=function(t){var e;return(e=this.links).push.apply(e,rk([],rN(t),!1)),this},t.prototype.setStatus=function(t){return this._isSpanEnded()||(this.status=rx({},t),null!=this.status.message&&"string"!=typeof t.message&&(nu.warn("Dropping invalid status.message of type '"+typeof t.message+"', expected 'string'"),delete this.status.message)),this},t.prototype.updateName=function(t){return this._isSpanEnded()||(this.name=t),this},t.prototype.end=function(t){var e,n,r,i;if(this._isSpanEnded())return void nu.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");this._ended=!0,this.endTime=this._getTime(t),this._duration=(e=this.startTime,r=(n=this.endTime)[0]-e[0],(i=n[1]-e[1])<0&&(r-=1,i+=1e9),[r,i]),this._duration[0]<0&&(nu.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&nu.warn("Dropped "+this._droppedEventsCount+" events because eventCountLimit reached"),this._spanProcessor.onEnd(this)},t.prototype._getTime=function(t){if("number"==typeof t&&t<=nZ.now()){var e;return e=t+this._performanceOffset,n5(n0(n1()),n0("number"==typeof e?e:nZ.now()))}if("number"==typeof t)return n0(t);if(t instanceof Date)return n0(t.getTime());if(n4(t))return t;if(this._startTimeProvided)return n0(Date.now());var n=nZ.now()-this._performanceStartTime;return n5(this.startTime,n0(n))},t.prototype.isRecording=function(){return!1===this._ended},t.prototype.recordException=function(t,e){var n={};"string"==typeof t?n[rw]=t:t&&(t.code?n[rA]=t.code.toString():t.name&&(n[rA]=t.name),t.message&&(n[rw]=t.message),t.stack&&(n["exception.stacktrace"]=t.stack)),n[rA]||n[rw]?this.addEvent("exception",n,e):nu.warn("Failed to record an exception "+t)},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),t.prototype._isSpanEnded=function(){return this._ended&&nu.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},t.prototype._truncateToLimitUtil=function(t,e){return t.length<=e?t:t.substring(0,e)},t.prototype._truncateToSize=function(t){var e=this,n=this._attributeValueLengthLimit;return n<=0?(nu.warn("Attribute value limit must be positive, got "+n),t):"string"==typeof t?this._truncateToLimitUtil(t,n):Array.isArray(t)?t.map(function(t){return"string"==typeof t?e._truncateToLimitUtil(t,n):t}):t},t}();!function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(h||(h={}));var rD=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:h.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}(),rU=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:h.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}(),rj=function(){function t(t){var e,n,r,i;this._root=t.root,this._root||(nX(Error("ParentBasedSampler must have a root sampler configured")),this._root=new rU),this._remoteParentSampled=null!=(e=t.remoteParentSampled)?e:new rU,this._remoteParentNotSampled=null!=(n=t.remoteParentNotSampled)?n:new rD,this._localParentSampled=null!=(r=t.localParentSampled)?r:new rU,this._localParentNotSampled=null!=(i=t.localParentNotSampled)?i:new rD}return t.prototype.shouldSample=function(t,e,n,r,i,o){var s=na.getSpanContext(t);return s&&e7(s)?s.isRemote?s.traceFlags&a.SAMPLED?this._remoteParentSampled.shouldSample(t,e,n,r,i,o):this._remoteParentNotSampled.shouldSample(t,e,n,r,i,o):s.traceFlags&a.SAMPLED?this._localParentSampled.shouldSample(t,e,n,r,i,o):this._localParentNotSampled.shouldSample(t,e,n,r,i,o):this._root.shouldSample(t,e,n,r,i,o)},t.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},t}(),rF=function(){function t(t){void 0===t&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(0xffffffff*this._ratio)}return t.prototype.shouldSample=function(t,e){return{decision:e9(e)&&this._accumulate(e)<this._upperBound?h.RECORD_AND_SAMPLED:h.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(t){return"number"!=typeof t||isNaN(t)?0:t>=1?1:t<=0?0:t},t.prototype._accumulate=function(t){for(var e=0,n=0;n<t.length/8;n++){var r=8*n;e=(e^parseInt(t.slice(r,r+8),16))>>>0}return e},t}(),r$=p.AlwaysOn;function rB(){var t=nY();return{sampler:rG(t),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:t.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:t.OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:t.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:t.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:t.OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:t.OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:t.OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:t.OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT},mergeResourceWithDefaults:!0}}function rG(t){switch(void 0===t&&(t=nY()),t.OTEL_TRACES_SAMPLER){case p.AlwaysOn:return new rU;case p.AlwaysOff:return new rD;case p.ParentBasedAlwaysOn:return new rj({root:new rU});case p.ParentBasedAlwaysOff:return new rj({root:new rD});case p.TraceIdRatio:return new rF(rX(t));case p.ParentBasedTraceIdRatio:return new rj({root:new rF(rX(t))});default:return nu.error('OTEL_TRACES_SAMPLER value "'+t.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+r$+'".'),new rU}}function rX(t){if(void 0===t.OTEL_TRACES_SAMPLER_ARG||""===t.OTEL_TRACES_SAMPLER_ARG)return nu.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;var e=Number(t.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(nu.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to 1."),1):e<0||e>1?(nu.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to 1."),1):e}var rV=function(){function t(t,e){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var n=nY();this._maxExportBatchSize="number"==typeof(null==e?void 0:e.maxExportBatchSize)?e.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==e?void 0:e.maxQueueSize)?e.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==e?void 0:e.scheduledDelayMillis)?e.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==e?void 0:e.exportTimeoutMillis)?e.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new rb(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(nu.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return t.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},t.prototype.onStart=function(t,e){},t.prototype.onEnd=function(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&a.SAMPLED)!=0&&this._addToBuffer(t)},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype._shutdown=function(){var t=this;return Promise.resolve().then(function(){return t.onShutdown()}).then(function(){return t._flushAll()}).then(function(){return t._exporter.shutdown()})},t.prototype._addToBuffer=function(t){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&nu.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(nu.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()},t.prototype._flushAll=function(){var t=this;return new Promise(function(e,n){for(var r=[],i=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize),o=0;o<i;o++)r.push(t._flushOneBatch());Promise.all(r).then(function(){e()}).catch(n)})},t.prototype._flushOneBatch=function(){var t=this;return(this._clearTimer(),0===this._finishedSpans.length)?Promise.resolve():new Promise(function(e,n){var r=setTimeout(function(){n(Error("Timeout"))},t._exportTimeoutMillis);eK.with(nC(eK.active()),function(){t._finishedSpans.length<=t._maxExportBatchSize?(i=t._finishedSpans,t._finishedSpans=[]):i=t._finishedSpans.splice(0,t._maxExportBatchSize);for(var i,o=function(){return t._exporter.export(i,function(t){var i;clearTimeout(r),t.code===d.SUCCESS?e():n(null!=(i=t.error)?i:Error("BatchSpanProcessor: span export failed"))})},s=null,a=0,u=i.length;a<u;a++){var c=i[a];c.resource.asyncAttributesPending&&c.resource.waitForAsyncAttributes&&(null!=s||(s=[]),s.push(c.resource.waitForAsyncAttributes()))}null===s?o():Promise.all(s).then(o,function(t){nX(t),n(t)})})})},t.prototype._maybeStartTimer=function(){var t=this;if(!this._isExporting){var e=function(){t._isExporting=!0,t._flushOneBatch().finally(function(){t._isExporting=!1,t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())}).catch(function(e){t._isExporting=!1,nX(e)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();void 0===this._timer&&(this._timer=setTimeout(function(){return e()},this._scheduledDelayMillis),this._timer.unref())}},t.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},t}(),rH=globalThis&&globalThis.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rH(e,t),e.prototype.onShutdown=function(){},e}(rV),rK=function(){this.generateTraceId=rq(16),this.generateSpanId=rq(8)},rJ=nL.allocUnsafe(16);function rq(t){return function(){for(var e=0;e<t/4;e++)rJ.writeUInt32BE(0x100000000*Math.random()>>>0,4*e);for(var e=0;e<t;e++)if(rJ[e]>0)break;else e===t-1&&(rJ[t-1]=1);return rJ.toString("hex",0,t)}}var rW=function(){function t(t,e,n){this._tracerProvider=n;var r,i,o,s=(r={sampler:rG()},(o=Object.assign({},i=rB(),r,e)).generalLimits=Object.assign({},i.generalLimits,e.generalLimits||{}),o.spanLimits=Object.assign({},i.spanLimits,e.spanLimits||{}),o);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=e.idGenerator||new rK,this.resource=n.resource,this.instrumentationLibrary=t}return t.prototype.startSpan=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=eK.active()),e.root&&(n=na.deleteSpan(n));var r,i,o,s,l,p,f=na.getSpan(n);if(nN(n)){nu.debug("Instrumentation suppressed, returning Noop Span");var d=na.wrapSpanContext(eW);return d}var h=null==f?void 0:f.spanContext(),_=this._idGenerator.generateSpanId();h&&na.isSpanContextValid(h)?(s=h.traceId,l=h.traceState,p=h.spanId):s=this._idGenerator.generateTraceId();var g=null!=(r=e.kind)?r:u.INTERNAL,m=(null!=(i=e.links)?i:[]).map(function(t){return{context:t.context,attributes:nF(t.attributes)}}),v=nF(e.attributes),y=this._sampler.shouldSample(n,s,t,g,v,m);l=null!=(o=y.traceState)?o:l;var E={traceId:s,spanId:_,traceFlags:y.decision===c.RECORD_AND_SAMPLED?a.SAMPLED:a.NONE,traceState:l};if(y.decision===c.NOT_RECORD){nu.debug("Recording is off, propagating context in a non-recording span");var d=na.wrapSpanContext(E);return d}var T=nF(Object.assign(v,y.attributes));return new rM(this,n,t,E,g,p,m,e.startTime,void 0,T)},t.prototype.startActiveSpan=function(t,e,n,r){if(!(arguments.length<2)){2==arguments.length?s=e:3==arguments.length?(i=e,s=n):(i=e,o=n,s=r);var i,o,s,a=null!=o?o:eK.active(),u=this.startSpan(t,i,a),c=na.setSpan(a,u);return eK.with(c,s,void 0,u)}},t.prototype.getGeneralLimits=function(){return this._generalLimits},t.prototype.getSpanLimits=function(){return this._spanLimits},t.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},t}(),rY=globalThis&&globalThis.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rZ=function(){function t(t){this._spanProcessors=t}return t.prototype.forceFlush=function(){var t,e,n=[];try{for(var r=rY(this._spanProcessors),i=r.next();!i.done;i=r.next()){var o=i.value;n.push(o.forceFlush())}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return new Promise(function(t){Promise.all(n).then(function(){t()}).catch(function(e){nX(e||Error("MultiSpanProcessor: forceFlush failed")),t()})})},t.prototype.onStart=function(t,e){var n,r;try{for(var i=rY(this._spanProcessors),o=i.next();!o.done;o=i.next())o.value.onStart(t,e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.onEnd=function(t){var e,n;try{for(var r=rY(this._spanProcessors),i=r.next();!i.done;i=r.next())i.value.onEnd(t)}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.shutdown=function(){var t,e,n=[];try{for(var r=rY(this._spanProcessors),i=r.next();!i.done;i=r.next()){var o=i.value;n.push(o.shutdown())}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return new Promise(function(t,e){Promise.all(n).then(function(){t()},e)})},t}(),rQ=function(){function t(){}return t.prototype.onStart=function(t,e){},t.prototype.onEnd=function(t){},t.prototype.shutdown=function(){return Promise.resolve()},t.prototype.forceFlush=function(){return Promise.resolve()},t}(),r0=globalThis&&globalThis.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},r1=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};!function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"}(_||(_={}));var r4=function(){function t(t){void 0===t&&(t={}),this._registeredSpanProcessors=[],this._tracers=new Map;var e,n,r,i,o,s,a,u,c,l,p,f,d,h,_,g,m,v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.shift(),r=new WeakMap;t.length>0;)n=function t(e,n,r,i){if(void 0===r&&(r=0),!(r>20)){if(r++,ry(e)||ry(n)||rm(n))a=rh(n);else if(rg(e)){if(a=e.slice(),rg(n))for(var o,s,a,u=0,c=n.length;u<c;u++)a.push(rh(n[u]));else if(rv(n))for(var l=Object.keys(n),u=0,c=l.length;u<c;u++){var p=l[u];a[p]=rh(n[p])}}else if(rv(e))if(rv(n)){if(o=e,s=n,!(rd(o)&&rd(s)))return n;a=Object.assign({},e);for(var l=Object.keys(n),u=0,c=l.length;u<c;u++){var p=l[u],f=n[p];if(ry(f))void 0===f?delete a[p]:a[p]=f;else{var d=a[p];if(r_(e,p,i)||r_(n,p,i))delete a[p];else{if(rv(d)&&rv(f)){var h=i.get(d)||[],_=i.get(f)||[];h.push({obj:e,key:p}),_.push({obj:n,key:p}),i.set(d,h),i.set(f,_)}a[p]=t(a[p],f,r,i)}}}}else a=n;return a}}(n,t.shift(),0,r);return n}({},rB(),(h=Object.assign({},(e=t).spanLimits),_=nW(process.env),h.attributeCountLimit=null!=(a=null!=(s=null!=(o=null!=(r=null==(n=e.spanLimits)?void 0:n.attributeCountLimit)?r:null==(i=e.generalLimits)?void 0:i.attributeCountLimit)?o:_.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)?s:_.OTEL_ATTRIBUTE_COUNT_LIMIT)?a:128,h.attributeValueLengthLimit=null!=(d=null!=(f=null!=(p=null!=(c=null==(u=e.spanLimits)?void 0:u.attributeValueLengthLimit)?c:null==(l=e.generalLimits)?void 0:l.attributeValueLengthLimit)?p:_.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)?f:_.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)?d:nK,Object.assign({},e,{spanLimits:h})));if(this.resource=null!=(g=v.resource)?g:rP.empty(),v.mergeResourceWithDefaults&&(this.resource=rP.default().merge(this.resource)),this._config=Object.assign({},v,{resource:this.resource}),null==(m=t.spanProcessors)?void 0:m.length)this._registeredSpanProcessors=r1([],r0(t.spanProcessors),!1),this.activeSpanProcessor=new rZ(this._registeredSpanProcessors);else{var y=this._buildExporterFromEnv();if(void 0!==y){var E=new rz(y);this.activeSpanProcessor=E}else this.activeSpanProcessor=new rQ}}return t.prototype.getTracer=function(t,e,n){var r=t+"@"+(e||"")+":"+((null==n?void 0:n.schemaUrl)||"");return this._tracers.has(r)||this._tracers.set(r,new rW({name:t,version:e,schemaUrl:null==n?void 0:n.schemaUrl},this._config,this)),this._tracers.get(r)},t.prototype.addSpanProcessor=function(t){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch(function(t){return nu.error("Error while trying to shutdown current span processor",t)}),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new rZ(this._registeredSpanProcessors)},t.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},t.prototype.register=function(t){void 0===t&&(t={}),na.setGlobalTracerProvider(this),void 0===t.propagator&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&eK.setGlobalContextManager(t.contextManager),t.propagator&&nR.setGlobalPropagator(t.propagator)},t.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,e=this._registeredSpanProcessors.map(function(e){return new Promise(function(n){var r,i=setTimeout(function(){n(Error("Span processor did not completed within timeout period of "+t+" ms")),r=_.timeout},t);e.forceFlush().then(function(){clearTimeout(i),r!==_.timeout&&n(r=_.resolved)}).catch(function(t){clearTimeout(i),r=_.error,n(t)})})});return new Promise(function(t,n){Promise.all(e).then(function(e){var r=e.filter(function(t){return t!==_.resolved});r.length>0?n(r):t()}).catch(function(t){return n([t])})})},t.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},t.prototype._getPropagator=function(t){var e;return null==(e=this.constructor._registeredPropagators.get(t))?void 0:e()},t.prototype._getSpanExporter=function(t){var e;return null==(e=this.constructor._registeredExporters.get(t))?void 0:e()},t.prototype._buildPropagatorFromEnv=function(){var t=this,e=Array.from(new Set(nY().OTEL_PROPAGATORS)),n=e.map(function(e){var n=t._getPropagator(e);return n||nu.warn('Propagator "'+e+'" requested through environment variable is unavailable.'),n}).reduce(function(t,e){return e&&t.push(e),t},[]);return 0===n.length?void 0:1===e.length?n[0]:new n8({propagators:n})},t.prototype._buildExporterFromEnv=function(){var t=nY().OTEL_TRACES_EXPORTER;if("none"!==t&&""!==t){var e=this._getSpanExporter(t);return e||nu.error('Exporter "'+t+'" requested through environment variable is unavailable.'),e}},t._registeredPropagators=new Map([["tracecontext",function(){return new ro}],["baggage",function(){return new nD}]]),t._registeredExporters=new Map,t}();let r2="http.method",r5="http.url",r3="http.status_code",r8="http.request.method",r9="http.response.status_code",r7="url.full",r6="sentry.parentIsRemote";function it(t){return"parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0}function ie(t){return!!t.attributes&&"object"==typeof t.attributes}let ir="sentry-trace",ii="baggage",io="sentry.dsc",is="sentry.sampled_not_recording",ia="sentry.url",iu=eS("sentry_scopes"),ic=eS("sentry_fork_isolation_scope"),il=eS("sentry_fork_set_scope"),ip=eS("sentry_fork_set_isolation_scope"),id="_scopeContext";function ih(t){return t.getValue(iu)}function i_(t,e){return t.setValue(iu,e)}function ig(t){let{traceFlags:e,traceState:n}=t,r=!!n&&"1"===n.get(is);if(e===a.SAMPLED)return!0;if(r)return!1;let i=n?n.get(io):void 0,o=i?(0,tM.yD)(i):void 0;return o?.sampled==="true"||o?.sampled!=="false"&&void 0}function im(t,e,n){let r=e[r8]||e[r2];if(r)return function({name:t,kind:e,attributes:n},r){let i=["http"];switch(e){case u.CLIENT:i.push("client");break;case u.SERVER:i.push("server")}n["sentry.http.prefetch"]&&i.push("prefetch");let{urlPath:o,url:s,query:a,fragment:c,hasRoute:l}=function(t,e){let n=t["http.target"],r=t[r5]||t[r7],i=t["http.route"],o="string"==typeof r?j(r):void 0,s=o?$(o):void 0,a=o?.search||void 0,c=o?.hash||void 0;return"string"==typeof i?{urlPath:i,url:s,query:a,fragment:c,hasRoute:!0}:e===u.SERVER&&"string"==typeof n?{urlPath:F(n),url:s,query:a,fragment:c,hasRoute:!1}:o?{urlPath:s,url:s,query:a,fragment:c,hasRoute:!1}:"string"==typeof n?{urlPath:F(n),url:s,query:a,fragment:c,hasRoute:!1}:{urlPath:void 0,url:s,query:a,fragment:c,hasRoute:!1}}(n,e);if(!o)return{...iy(t,n),op:i.join(".")};let p=n["sentry.graphql.operation"],f=`${r} ${o}`,d=p?`${f} (${function(t){if(Array.isArray(t)){let e=t.slice().sort();return e.length<=5?e.join(", "):`${e.slice(0,5).join(", ")}, +${e.length-5}`}return`${t}`}(p)})`:f,h={};s&&(h.url=s),a&&(h["http.query"]=a),c&&(h["http.fragment"]=c);let _=e===u.CLIENT||e===u.SERVER,g=n[D.JD]||"manual",m=!`${g}`.startsWith("auto"),v="custom"===n[D.i_],y=n[D.Le],{description:E,source:T}=v||null!=y||!_&&m?iy(t,n):{description:d,source:l||"/"===o?"route":"url"};return{op:i.join("."),description:E,source:T,data:h}}({attributes:e,name:t,kind:n},r);let i=e["db.system"],o="string"==typeof e[D.uT]&&e[D.uT].startsWith("cache.");if(i&&!o)return function({attributes:t,name:e}){let n=t[D.Le];if("string"==typeof n)return{op:"db",description:n,source:t[D.i_]||"custom"};if("custom"===t[D.i_])return{op:"db",description:e,source:"custom"};let r=t["db.statement"];return{op:"db",description:r?r.toString():e,source:"task"}}({attributes:e,name:t});let s="custom"===e[D.i_]?"custom":"route";if(e["rpc.service"])return{...iy(t,e,"route"),op:"rpc"};if(e["messaging.system"])return{...iy(t,e,s),op:"message"};let a=e["faas.trigger"];return a?{...iy(t,e,s),op:a.toString()}:{op:void 0,description:t,source:"custom"}}function iv(t){let e=ie(t)?t.attributes:{};return im(t.name?t.name:"<unknown>",e,"number"==typeof t.kind?t.kind:u.INTERNAL)}function iy(t,e,n="custom"){let r=e[D.i_]||n,i=e[D.Le];return i&&"string"==typeof i?{description:i,source:r}:{description:t,source:r}}function iE(){return na.getActiveSpan()}function iT({dsc:t,sampled:e}){let n=t?(0,tM.De)(t):void 0,r=new re,i=n?r.set(io,n):r;return!1===e?i.set(is,"1"):i}let iS=new Set;function ib(t){iS.add(t)}class iO extends nD{constructor(){super(),ib("SentryPropagator"),this._urlMatchesTargetsMap=new tU(100)}inject(t,e,n){if(nN(t))return;let r=na.getSpan(t);if(!function(t,e,n){if("string"!=typeof t||!e)return!0;let r=n?.get(t);if(void 0!==r)return r;let i=(0,tF.Xr)(t,e);return n?.set(t,i),i}(r&&function(t){let e=(0,m.et)(t).data,n=e[r5]||e[r7];if("string"==typeof n)return n;let r=t.spanContext().traceState?.get(ia);if(r)return r}(r),(0,Q.KU)()?.getOptions()?.tracePropagationTargets,this._urlMatchesTargetsMap))return;let i=function(t){try{let e=t[ii];return Array.isArray(e)?e.join(","):e}catch{return}}(e),o=nR.getBaggage(t)||nR.createBaggage({}),{dynamicSamplingContext:s,traceId:a,spanId:u,sampled:c}=iR(t);if(i){let t=(0,tM.D0)(i);t&&Object.entries(t).forEach(([t,e])=>{o=o.setEntry(t,{value:e})})}s&&(o=Object.entries(s).reduce((t,[e,n])=>n?t.setEntry(`${tM.sv}${e}`,{value:n}):t,o)),a&&a!==eq&&n.set(e,ir,(0,tj.TC)(a,u,c)),super.inject(nR.setBaggage(t,o),e,n)}extract(t,e,n){let r=n.get(e,ir),i=n.get(e,ii);return iI(iL(t,{sentryTrace:r?Array.isArray(r)?r[0]:r:void 0,baggage:i}))}fields(){return[ir,ii]}}function iR(t){let e=na.getSpan(t);if(e?.spanContext().isRemote){let t=e.spanContext();return{dynamicSamplingContext:(0,tt.k1)(e),traceId:t.traceId,spanId:void 0,sampled:ig(t)}}if(e){let t=e.spanContext();return{dynamicSamplingContext:(0,tt.k1)(e),traceId:t.traceId,spanId:t.spanId,sampled:ig(t)}}let n=ih(t)?.scope||(0,Q.o5)(),r=(0,Q.KU)(),i=n.getPropagationContext();return{dynamicSamplingContext:r?(0,tt.ao)(r,n):void 0,traceId:i.traceId,spanId:i.propagationSpanId,sampled:i.sampled}}function iL(t,{sentryTrace:e,baggage:n}){let{traceId:r,parentSpanId:i,sampled:o,dsc:s}=(0,tj.kM)(e,n);if(!i)return t;let u=function({spanId:t,traceId:e,sampled:n,dsc:r}){let i=iT({dsc:r,sampled:n});return{traceId:e,spanId:t,isRemote:!0,traceFlags:n?a.SAMPLED:a.NONE,traceState:i}}({traceId:r,spanId:i,sampled:o,dsc:s});return na.setSpanContext(t,u)}function iI(t){let e=ih(t);return i_(t,{scope:e?e.scope:(0,Q.o5)().clone(),isolationScope:e?e.isolationScope:(0,Q.rm)()})}function iP(t,e){let n=iC(),{name:r,parentSpan:i}=t;return iD(i)(()=>{let i=ik(t.scope,t.forceTransaction),o=t.onlyIfParent&&!na.getSpan(i)?nC(i):i,s=iN(t);return n.startActiveSpan(r,s,o,t=>t$(()=>e(t),()=>{void 0===(0,m.et)(t).status&&t.setStatus({code:l.ERROR})},()=>t.end()))})}function iA(t,e){let n=iC(),{name:r,parentSpan:i}=t;return iD(i)(()=>{let i=ik(t.scope,t.forceTransaction),o=t.onlyIfParent&&!na.getSpan(i)?nC(i):i,s=iN(t);return n.startActiveSpan(r,s,o,t=>t$(()=>e(t,()=>t.end()),()=>{void 0===(0,m.et)(t).status&&t.setStatus({code:l.ERROR})}))})}function iw(t){let e=iC(),{name:n,parentSpan:r}=t;return iD(r)(()=>{let r=ik(t.scope,t.forceTransaction),i=t.onlyIfParent&&!na.getSpan(r)?nC(r):r,o=iN(t);return e.startSpan(n,o,i)})}function ix(t,e){let n=t?na.setSpan(eK.active(),t):na.deleteSpan(eK.active());return eK.with(n,()=>e((0,Q.o5)()))}function iC(){let t=(0,Q.KU)();return t?.tracer||na.getTracer("@sentry/opentelemetry",k.M)}function iN(t){var e;let{startTime:n,attributes:r,kind:i,op:o,links:s}=t,a="number"==typeof n?(e=n)<0x2540be3ff?1e3*e:e:n;return{attributes:o?{[D.uT]:o,...r}:r,kind:i,links:s,startTime:a}}function ik(t,e){let n=function(t){if(t){let e=t[id];if(e)return e}return eK.active()}(t),r=na.getSpan(n);if(!r||!e)return n;let i=na.deleteSpan(n),{spanId:o,traceId:s}=r.spanContext(),u=ig(r.spanContext()),c=(0,m.zU)(r),l=iT({dsc:(0,tt.k1)(c),sampled:u}),p={traceId:s,spanId:o,isRemote:!0,traceFlags:u?a.SAMPLED:a.NONE,traceState:l};return na.setSpanContext(i,p)}function iM(t,e){let n=iI(iL(eK.active(),t));return eK.with(n,e)}function iD(t){return void 0!==t?e=>ix(t,e):t=>t()}function iU(t){let e=nC(eK.active());return eK.with(e,t)}function ij({span:t}={}){let e=eK.active();if(t){let{scope:n}=(0,tB.L)(t);e=n&&n[id]||na.setSpan(eK.active(),t)}let{traceId:n,spanId:r,sampled:i,dynamicSamplingContext:o}=iR(e);return{"sentry-trace":(0,tj.TC)(n,r,i),baggage:(0,tM.De)(o)}}function iF(t){return!0===t.attributes[r6]?void 0:it(t)}function i$(t,e){let n=t.get(e.id);return n?.span?n:n&&!n.span?(n.span=e.span,n.parentNode=e.parentNode,n):(t.set(e.id,e),e)}let iB={1:"cancelled",2:"unknown_error",3:"invalid_argument",4:"deadline_exceeded",5:"not_found",6:"already_exists",7:"permission_denied",8:"resource_exhausted",9:"failed_precondition",10:"aborted",11:"out_of_range",12:"unimplemented",13:"internal_error",14:"unavailable",15:"data_loss",16:"unauthenticated"},iG=t=>Object.values(iB).includes(t);function iX(t){let e=ie(t)?t.attributes:{},n=t.status?t.status:void 0;if(n){if(n.code===l.OK)return{code:w.F3};else if(n.code===l.ERROR){if(void 0===n.message){let t=iV(e);if(t)return t}return n.message&&iG(n.message)?{code:w.TJ,message:n.message}:{code:w.TJ,message:"unknown_error"}}}let r=iV(e);return r||(n?.code===l.UNSET?{code:w.F3}:{code:w.TJ,message:"unknown_error"})}function iV(t){let e=t[r9]||t[r3],n=t["rpc.grpc.status_code"],r="number"==typeof e?e:"string"==typeof e?parseInt(e):void 0;return"number"==typeof r?(0,w.AJ)(r):"string"==typeof n?{code:w.TJ,message:iB[n]||"unknown_error"}:void 0}class iH{constructor(t){this._finishedSpanBucketSize=t?.timeout||300,this._finishedSpanBuckets=Array(this._finishedSpanBucketSize).fill(void 0),this._lastCleanupTimestampInS=Math.floor(Date.now()/1e3),this._spansToBucketEntry=new WeakMap}export(t){let e=Math.floor(Date.now()/1e3);if(this._lastCleanupTimestampInS!==e){let t=0;this._finishedSpanBuckets.forEach((n,r)=>{n&&n.timestampInS<=e-this._finishedSpanBucketSize&&(t+=n.spans.size,this._finishedSpanBuckets[r]=void 0)}),this._lastCleanupTimestampInS=e}let n=e%this._finishedSpanBucketSize,r=this._finishedSpanBuckets[n]||{timestampInS:e,spans:new Set};this._finishedSpanBuckets[n]=r,r.spans.add(t),this._spansToBucketEntry.set(t,r),iF(t)||(this._clearTimeout(),this._flushTimeout=setTimeout(()=>{this.flush()},1))}flush(){this._clearTimeout();let t=[];this._finishedSpanBuckets.forEach(e=>{e&&t.push(...e.spans)});let e=function(t){let e=function(t){let e=new Map;for(let n of t)!function(t,e){let n=e.spanContext().spanId,r=iF(e);if(!r)return i$(t,{id:n,span:e,children:[]});let i=function(t,e){let n=t.get(e);return n||i$(t,{id:e,children:[]})}(t,r),o=i$(t,{id:n,span:e,parentNode:i,children:[]});i.children.push(o)}(e,n);return Array.from(e,function([t,e]){return e})}(t),n=new Set;return e.filter(iz).forEach(t=>{let e=t.span;n.add(e);let r=function(t){let{op:e,description:n,data:r,origin:i="manual",source:o}=iK(t),s=(0,tB.L)(t),a=t.attributes[D.sy],u={[D.i_]:o,[D.sy]:a,[D.uT]:e,[D.JD]:i,...r,...iJ(t.attributes)},{links:c}=t,{traceId:l,spanId:p}=t.spanContext(),f=it(t),d=iX(t),h={parent_span_id:f,span_id:p,trace_id:l,data:u,origin:i,op:e,status:(0,m.yW)(d),links:(0,m.uU)(c)},_=u[r9];return{contexts:{trace:h,otel:{resource:t.resource.attributes},..."number"==typeof _?{response:{status_code:_}}:void 0},spans:[],start_timestamp:(0,m.cI)(t.startTime),timestamp:(0,m.cI)(t.endTime),transaction:n,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:s.scope,capturedSpanIsolationScope:s.isolationScope,sampleRate:a,dynamicSamplingContext:(0,tt.k1)(t)},...o&&{transaction_info:{source:o}}}}(e),i=r.spans||[];t.children.forEach(t=>{!function t(e,n,r){let i=e.span;if(i&&r.add(i),!i)return void e.children.forEach(e=>{t(e,n,r)});let o=i.spanContext().spanId,s=i.spanContext().traceId,a=it(i),{attributes:u,startTime:c,endTime:l,links:p}=i,{op:f,description:d,data:h,origin:_="manual"}=iK(i),g={[D.JD]:_,[D.uT]:f,...iJ(u),...h},v=iX(i),y={span_id:o,trace_id:s,data:g,description:d,parent_span_id:a,start_timestamp:(0,m.cI)(c),timestamp:(0,m.cI)(l)||void 0,status:(0,m.yW)(v),op:f,origin:_,measurements:tV(i.events),links:(0,m.uU)(p)};n.push(y),e.children.forEach(e=>{t(e,n,r)})}(t,i,n)}),r.spans=i.length>1e3?i.sort((t,e)=>t.start_timestamp-e.start_timestamp).slice(0,1e3):i;let o=tV(e.events);o&&(r.measurements=o),(0,tH.r)(r)}),n}(t),n=e.size;t.length,e.forEach(t=>{let e=this._spansToBucketEntry.get(t);e&&e.spans.delete(t)})}clear(){this._finishedSpanBuckets=this._finishedSpanBuckets.fill(void 0),this._clearTimeout()}_clearTimeout(){this._flushTimeout&&(clearTimeout(this._flushTimeout),this._flushTimeout=void 0)}}function iz(t){return!!t.span&&!t.parentNode}function iK(t){let{op:e,source:n,origin:r}=function(t){let e=t.attributes,n=e[D.JD];return{origin:n,op:e[D.uT],source:e[D.i_]}}(t),{op:i,description:o,source:s,data:a}=iv(t);return{op:e||i,description:o,source:n||s,origin:r,data:{...a,...function(t){let e=t.attributes,n={};t.kind!==u.INTERNAL&&(n["otel.kind"]=u[t.kind]);let r=e[r3];r&&(n[r9]=r);let i=function(t){if(!ie(t))return{};let e=t.attributes[r7]||t.attributes[r5],n={url:e,"http.method":t.attributes[r8]||t.attributes[r2]};!n["http.method"]&&n.url&&(n["http.method"]="GET");try{if("string"==typeof e){let t=j(e);n.url=$(t),t.search&&(n["http.query"]=t.search),t.hash&&(n["http.fragment"]=t.hash)}}catch{}return n}(t);return i.url&&(n.url=i.url),i["http.query"]&&(n["http.query"]=i["http.query"].slice(1)),i["http.fragment"]&&(n["http.fragment"]=i["http.fragment"].slice(1)),n}(t)}}}function iJ(t){let e={...t};return delete e[D.sy],delete e[r6],delete e[D.Le],e}class iq{constructor(t){ib("SentrySpanProcessor"),this._exporter=new iH(t)}async forceFlush(){this._exporter.flush()}async shutdown(){this._exporter.clear()}onStart(t,e){let n=na.getSpan(e),r=ih(e);n&&!n.spanContext().isRemote&&(0,m.Hu)(n,t),n?.spanContext().isRemote&&t.setAttribute(r6,!0),e===eb&&(r={scope:(0,tG.r)(),isolationScope:(0,tG.q)()}),r&&(0,tB.d)(t,r.scope,r.isolationScope),tz(t);let i=(0,Q.KU)();i?.emit("spanStart",t)}onEnd(t){tK(t);let e=(0,Q.KU)();e?.emit("spanEnd",t),this._exporter.export(t)}}class iW{constructor(t){this._client=t,ib("SentrySampler")}shouldSample(t,e,n,r,i,o){let s=this._client.getOptions(),a=function(t){let e=na.getSpan(t);return e&&e7(e.spanContext())?e:void 0}(t),c=a?.spanContext();if(!(0,tD.f)(s))return iY({decision:void 0,context:t,spanAttributes:i});let l=i[r2]||i[r8];if(r===u.CLIENT&&l&&(!a||c?.isRemote))return iY({decision:void 0,context:t,spanAttributes:i});let p=a?function(t,e,n){let r=t.spanContext();if(e7(r)&&r.traceId===e)return r.isRemote?ig(t.spanContext()):ig(r)}(a,e,0):void 0;if(!(!a||c?.isRemote))return iY({decision:p?h.RECORD_AND_SAMPLED:h.NOT_RECORD,context:t,spanAttributes:i});let{description:f,data:d,op:_}=im(n,i,r),g={...d,...i};_&&(g[D.uT]=_);let m={decision:!0};if(this._client.emit("beforeSampling",{spanAttributes:g,spanName:f,parentSampled:p,parentContext:c},m),!m.decision)return iY({decision:void 0,context:t,spanAttributes:i});let{isolationScope:v}=ih(t)??{},y=c?.traceState?c.traceState.get(io):void 0,E=y?(0,tM.yD)(y):void 0,T=(0,ta.i)(E?.sample_rand)??Math.random(),[S,b,O]=tJ(s,{name:f,attributes:g,normalizedRequest:v?.getScopeData().sdkProcessingMetadata.normalizedRequest,parentSampled:p,parentSampleRate:(0,ta.i)(E?.sample_rate)},T),R=`${l}`.toUpperCase();return"OPTIONS"===R||"HEAD"===R?iY({decision:h.NOT_RECORD,context:t,spanAttributes:i,sampleRand:T,downstreamTraceSampleRate:0}):(S||void 0!==p||this._client.recordDroppedEvent("sample_rate","transaction"),{...iY({decision:S?h.RECORD_AND_SAMPLED:h.NOT_RECORD,context:t,spanAttributes:i,sampleRand:T,downstreamTraceSampleRate:O?b:void 0}),attributes:{[D.sy]:O?b:void 0}})}toString(){return"SentrySampler"}}function iY({decision:t,context:e,spanAttributes:n,sampleRand:r,downstreamTraceSampleRate:i}){let o=function(t,e){let n=na.getSpan(t),r=n?.spanContext(),i=r?.traceState||new re,o=e[r5]||e[r7];return o&&"string"==typeof o&&(i=i.set(ia,o)),i}(e,n);return(void 0!==i&&(o=o.set("sentry.sample_rate",`${i}`)),void 0!==r&&(o=o.set("sentry.sample_rand",`${r}`)),void 0==t)?{decision:h.NOT_RECORD,traceState:o}:t===h.NOT_RECORD?{decision:t,traceState:o.set(is,"1")}:{decision:t,traceState:o}}let iZ=new WeakMap,iQ=(t={})=>{let e=void 0===t.breadcrumbs||t.breadcrumbs,n=t.shouldCreateSpanForRequest,r=new tU(100),i=new tU(100),o={};function s(t){let e=(0,Q.KU)();if(!e)return!1;let n=e.getOptions();if(void 0===n.tracePropagationTargets)return!0;let r=i.get(t);if(void 0!==r)return r;let o=(0,tF.Xr)(t,n.tracePropagationTargets);return i.set(t,o),o}function a(t){if(void 0===n)return!0;let e=r.get(t);if(void 0!==e)return e;let i=n(t);return r.set(t,i),i}return{name:"WinterCGFetch",setupOnce(){!function(t,e){let n="fetch";b(n,t),O(n,()=>(function(t,e=!1){(0,tA.GS)(v.O,"fetch",function(e){return function(...n){let r=Error(),{method:i,url:o}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){let[e,n]=t;return{url:tY(e),method:tW(n,"method")?String(n.method).toUpperCase():"GET"}}let e=t[0];return{url:tY(e),method:tW(e,"method")?String(e.method).toUpperCase():"GET"}}(n),s={args:n,fetchData:{method:i,url:o},startTimestamp:1e3*(0,tl.zf)(),virtualError:r,headers:function(t){let[e,n]=t;try{if("object"==typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if((0,tp.ks)(e))return new Headers(e.headers)}catch{}}(n)};return t||R("fetch",{...s}),e.apply(v.O,n).then(async e=>(t?t(e):R("fetch",{...s,endTimestamp:1e3*(0,tl.zf)(),response:e}),e),t=>{if(R("fetch",{...s,endTimestamp:1e3*(0,tl.zf)(),error:t}),(0,tp.bJ)(t)&&void 0===t.stack&&(t.stack=r.stack,(0,tA.my)(t,"framesToPop",1)),t instanceof TypeError&&("Failed to fetch"===t.message||"Load failed"===t.message||"NetworkError when attempting to fetch resource."===t.message))try{let e=new URL(s.fetchData.url);t.message=`${t.message} (${e.host})`}catch{}throw t})}})})(void 0,void 0))}(t=>{let n=(0,Q.KU)();n&&iZ.get(n)&&!function(t,e){var n,r,i,o;let s=e?.getDsn(),a=e?.getOptions().tunnel;return n=t,!!(r=s)&&n.includes(r.host)||(i=t,!!(o=a)&&tZ(i)===tZ(o))}(t.fetchData.url,n)&&(!function(t,e,n,r,i="auto.http.browser"){if(!t.fetchData)return;let{method:o,url:s}=t.fetchData,a=(0,tD.f)()&&e(s);if(t.endTimestamp&&a){let e=t.fetchData.__span;if(!e)return;let n=r[e];n&&(function(t,e){if(e.response){(0,w.N8)(t,e.response.status);let n=e.response?.headers&&e.response.headers.get("content-length");if(n){let e=parseInt(n);e>0&&t.setAttribute("http.response_content_length",e)}}else e.error&&t.setStatus({code:w.TJ,message:"internal_error"});t.end()}(n,t),delete r[e]);return}let u=!!(0,m.Bk)(),c=a&&u?function(t){let e=t8();if(e.startInactiveSpan)return e.startInactiveSpan(t);let n=function(t){let e={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){let n={...e};return n.startTimestamp=(0,m.cI)(t.startTime),delete n.startTime,n}return e}(t),{forceTransaction:r,parentSpan:i}=t;return(t.scope?e=>(0,Q.v4)(t.scope,e):void 0!==i?t=>t3(i,t):t=>t())(()=>{let e=(0,Q.o5)(),i=function(t){let e=(0,tc.f)(t);if(!e)return;let n=(0,Q.KU)();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,m.zU)(e):e}(e);return t.onlyIfParent&&!i?new t0:function({parentSpan:t,spanArguments:e,forceTransaction:n,scope:r}){let i;if(!(0,tD.f)()){let r=new t0;if(n||!t){let t={sampled:"false",sample_rate:"0",transaction:e.name,...(0,tt.k1)(r)};(0,tt.LZ)(r,t)}return r}let o=(0,Q.rm)();if(t&&!n)i=function(t,e,n){let{spanId:r,traceId:i}=t.spanContext(),o=!e.getScopeData().sdkProcessingMetadata[t5]&&(0,m.pK)(t),s=o?new t1({...n,parentSpanId:r,traceId:i,sampled:o}):new t0({traceId:i});(0,m.Hu)(t,s);let a=(0,Q.KU)();return a&&(a.emit("spanStart",s),n.endTimestamp&&a.emit("spanEnd",s)),s}(t,r,e),(0,m.Hu)(t,i);else if(t){let n=(0,tt.k1)(t),{traceId:o,spanId:s}=t.spanContext(),a=(0,m.pK)(t);i=t9({traceId:o,parentSpanId:s,...e},r,a),(0,tt.LZ)(i,n)}else{let{traceId:t,dsc:n,parentSpanId:s,sampled:a}={...o.getPropagationContext(),...r.getPropagationContext()};i=t9({traceId:t,parentSpanId:s,...e},r,a),n&&(0,tt.LZ)(i,n)}return tz(i),(0,tB.d)(i,r,o),i}({parentSpan:i,spanArguments:n,forceTransaction:r,scope:e})})}(function(t,e,n){let r=function(t,e){let n=0>=t.indexOf("://")&&0!==t.indexOf("//"),r=(void 0)??(n?"thismessage:/":void 0);try{if("canParse"in URL&&!URL.canParse(t,r))return;let e=new URL(t,r);if(n)return{isRelative:n,pathname:e.pathname,search:e.search,hash:e.hash};return e}catch{}}(t);return{name:r?`${e} ${function(t){if(U(t))return t.pathname;let e=new URL(t);return e.search="",e.hash="",["80","443"].includes(e.port)&&(e.port=""),e.password&&(e.password="%filtered%"),e.username&&(e.username="%filtered%"),e.toString()}(r)}`:e,attributes:function(t,e,n,r){let i={url:t,type:"fetch","http.method":n,[D.JD]:r,[D.uT]:"http.client"};return e&&(U(e)||(i["http.url"]=e.href,i["server.address"]=e.host),e.search&&(i["http.query"]=e.search),e.hash&&(i["http.fragment"]=e.hash)),i}(t,r,e,n)}}(s,o,i)):new t0;if(t.fetchData.__span=c.spanContext().spanId,r[c.spanContext().spanId]=c,n(t.fetchData.url)){let e=t.args[0],n=t.args[1]||{},r=function(t,e,n){var r;let i=function(t={}){let e=(0,Q.KU)();if(!(0,tH.Ol)()||!e)return{};let n=(0,H.EU)(),r=(0,tX.h)(n);if(r.getTraceData)return r.getTraceData(t);let i=(0,Q.o5)(),o=t.span||(0,m.Bk)(),s=o?(0,m.Qh)(o):function(t){let{traceId:e,sampled:n,propagationSpanId:r}=t.getPropagationContext();return(0,tj.TC)(e,r,n)}(i),a=o?(0,tt.k1)(o):(0,tt.ao)(e,i),u=(0,tM.De)(a);return tj.MI.test(s)?{"sentry-trace":s,baggage:u}:(y.vF.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}({span:n}),o=i["sentry-trace"],s=i.baggage;if(!o)return;let a=e.headers||((0,tp.ks)(t)?t.headers:void 0);if(!a)return{...i};if(r=a,"undefined"!=typeof Headers&&(0,tp.tH)(r,Headers)){let t=new Headers(a);if(t.get("sentry-trace")||t.set("sentry-trace",o),s){let e=t.get("baggage");e?t7(e)||t.set("baggage",`${e},${s}`):t.set("baggage",s)}return t}if(Array.isArray(a)){let t=[...a];a.find(t=>"sentry-trace"===t[0])||t.push(["sentry-trace",o]);let e=a.find(t=>"baggage"===t[0]&&t7(t[1]));return s&&!e&&t.push(["baggage",s]),t}{let t="sentry-trace"in a?a["sentry-trace"]:void 0,e="baggage"in a?a.baggage:void 0,n=e?Array.isArray(e)?[...e]:[e]:[],r=e&&(Array.isArray(e)?e.find(t=>t7(t)):t7(e));return s&&!r&&n.push(s),{...a,"sentry-trace":t??o,baggage:n.length>0?n.join(","):void 0}}}(e,n,(0,tD.f)()&&u?c:void 0);r&&(t.args[1]=n,n.headers=r)}let l=(0,Q.KU)();if(l){let e={input:t.args,response:t.response,startTimestamp:t.startTimestamp,endTimestamp:t.endTimestamp};l.emit("beforeOutgoingRequestSpan",c,e)}}(t,a,s,o,"auto.http.wintercg_fetch"),e&&function(t){let{startTimestamp:e,endTimestamp:n}=t;if(!n)return;let r={method:t.fetchData.method,url:t.fetchData.url};if(t.error)t6({category:"fetch",data:r,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:e,endTimestamp:n});else{let i=t.response;r.request_body_size=t.fetchData.request_body_size,r.response_body_size=t.fetchData.response_body_size,r.status_code=i?.status;let o={input:t.args,response:i,startTimestamp:e,endTimestamp:n},s=function(t){if(void 0!==t)return t>=400&&t<500?"warning":t>=500?"error":void 0}(r.status_code);t6({category:"fetch",data:r,type:"http",level:s},o)}}(t))})},setup(t){iZ.set(t,!0)}}};class i0{constructor(t=30){this.$=[],this._taskProducers=[],this._bufferSize=t}add(t){return this._taskProducers.length>=this._bufferSize?Promise.reject(et):(this._taskProducers.push(t),Promise.resolve({}))}drain(t){let e=[...this._taskProducers];return this._taskProducers=[],new Promise(n=>{let r=setTimeout(()=>{t&&t>0&&n(!1)},t);Promise.all(e.map(t=>t().then(null,()=>{}))).then(()=>{clearTimeout(r),n(!0)})})}}function i1(t){return function(t,e,n=function(t){let e=[];function n(t){return e.splice(e.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return(0,td.xg)(et);let i=r();return -1===e.indexOf(i)&&e.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(t){return new td.T2((n,r)=>{let i=e.length;if(!i)return n(!0);let o=setTimeout(()=>{t&&t>0&&n(!1)},t);e.forEach(t=>{(0,td.XW)(t).then(()=>{--i||(clearTimeout(o),n(!0))},r)})})}}}(t.bufferSize||64)){let r={};return{send:function(i){let o=[];if(J(i,(e,n)=>{let i=W[n];!function(t,e,n=Date.now()){return(t[e]||t.all||0)>n}(r,i)?o.push(e):t.recordDroppedEvent("ratelimit_backoff",i)}),0===o.length)return(0,td.XW)({});let s=K(i[0],o),a=e=>{J(s,(n,r)=>{t.recordDroppedEvent(e,W[r])})};return n.add(()=>e({body:function(t){let[e,n]=t,r=JSON.stringify(e);function i(t){"string"==typeof r?r="string"==typeof t?r+t:[q(r),t]:r.push("string"==typeof t?q(t):t)}for(let t of n){let[e,n]=t;if(i(`
${JSON.stringify(e)}
`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify((0,z.S8)(n))}i(t)}}return"string"==typeof r?r:function(t){let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0)),n=0;for(let r of t)e.set(r,n),n+=r.length;return e}(r)}(s)}).then(t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&g.T&&y.vF.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=function(t,{statusCode:e,headers:n},r=Date.now()){let i={...t},o=n?.["x-sentry-rate-limits"],s=n?.["retry-after"];if(o)for(let t of o.trim().split(",")){let[e,n,,,o]=t.split(":",5),s=parseInt(e,10),a=(isNaN(s)?60:s)*1e3;if(n)for(let t of n.split(";"))"metric_bucket"===t?(!o||o.split(";").includes("custom"))&&(i[t]=r+a):i[t]=r+a;else i.all=r+a}else s?i.all=r+function(t,e=Date.now()){let n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;let r=Date.parse(`${t}`);return isNaN(r)?6e4:r-e}(s,r):429===e&&(i.all=r+6e4);return i}(r,t),t),t=>{throw a("network_error"),g.T&&y.vF.error("Encountered error running transport request:",t),t})).then(t=>t,t=>{if(t===et)return g.T&&y.vF.error("Skipped sending event because buffer is full."),a("queue_overflow"),(0,td.XW)({});throw t})},flush:t=>n.drain(t)}}(t,function(e){let n={body:e.body,method:"POST",headers:t.headers,...t.fetchOptions};var r=()=>fetch(t.url,n).then(t=>({statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}}));let i=t8();return i.suppressTracing?i.suppressTracing(r):(0,Q.v4)(t=>(t.setSDKProcessingMetadata({[t5]:!0}),r()))},new i0(t.bufferSize))}let i4=["addListener","on","once","prependListener","prependOnceListener"];class i2{constructor(){i2.prototype.__init.call(this),i2.prototype.__init2.call(this)}bind(t,e){return"object"==typeof e&&null!==e&&"on"in e?this._bindEventEmitter(t,e):"function"==typeof e?this._bindFunction(t,e):e}_bindFunction(t,e){let n=this,r=function(...r){return n.with(t,()=>e.apply(this,r))};return Object.defineProperty(r,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),r}_bindEventEmitter(t,e){return void 0!==this._getPatchMap(e)||(this._createPatchMap(e),i4.forEach(n=>{void 0!==e[n]&&(e[n]=this._patchAddListener(e,e[n],t))}),"function"==typeof e.removeListener&&(e.removeListener=this._patchRemoveListener(e,e.removeListener)),"function"==typeof e.off&&(e.off=this._patchRemoveListener(e,e.off)),"function"==typeof e.removeAllListeners&&(e.removeAllListeners=this._patchRemoveAllListeners(e,e.removeAllListeners))),e}_patchRemoveListener(t,e){let n=this;return function(r,i){let o=n._getPatchMap(t)?.[r];if(void 0===o)return e.call(this,r,i);let s=o.get(i);return e.call(this,r,s||i)}}_patchRemoveAllListeners(t,e){let n=this;return function(r){let i=n._getPatchMap(t);return void 0!==i&&(0==arguments.length?n._createPatchMap(t):void 0!==i[r]&&delete i[r]),e.apply(this,arguments)}}_patchAddListener(t,e,n){let r=this;return function(i,o){if(r._wrapped)return e.call(this,i,o);let s=r._getPatchMap(t);void 0===s&&(s=r._createPatchMap(t));let a=s[i];void 0===a&&(a=new WeakMap,s[i]=a);let u=r.bind(n,o);a.set(o,u),r._wrapped=!0;try{return e.call(this,i,u)}finally{r._wrapped=!1}}}_createPatchMap(t){let e=Object.create(null);return t[this._kOtListeners]=e,e}_getPatchMap(t){return t[this._kOtListeners]}__init(){this._kOtListeners=Symbol("OtListeners")}__init2(){this._wrapped=!1}}class i5 extends i2{constructor(){super();let t=v.O.AsyncLocalStorage;t?this._asyncLocalStorage=new t:this._asyncLocalStorage={getStore(){},run(t,e,...n){return e.apply(this,n)},disable(){}}}active(){return this._asyncLocalStorage.getStore()??eb}with(t,e,n,...r){let i=null==n?e:e.bind(n);return this._asyncLocalStorage.run(t,i,...r)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}let i3=(0,E.gd)([90,function(t){let e=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return r=>{let i=r.match(n);if(i){let e,n,r,o,s;if(i[1]){let t=(r=i[1]).lastIndexOf(".");if("."===r[t-1]&&t--,t>0){e=r.slice(0,t),n=r.slice(t+1);let i=e.indexOf(".Module");i>0&&(r=r.slice(i+1),e=e.slice(0,i))}o=void 0}n&&(o=e,s=n),"<anonymous>"===n&&(s=void 0,r=void 0),void 0===r&&(s=s||E.yF,r=o?`${o}.${s}`:s);let a=i[2]?.startsWith("file://")?i[2].slice(7):i[2],u="native"===i[5];return a?.match(/\/[A-Z]:/)&&(a=a.slice(1)),a||!i[5]||u||(a=i[5]),{filename:a?decodeURI(a):void 0,module:t?t(a):void 0,function:r,lineno:ee(i[3]),colno:ee(i[4]),in_app:function(t,e=!1){return!(e||t&&!t.startsWith("/")&&!t.match(/^[A-Z]:/)&&!t.startsWith(".")&&!t.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&void 0!==t&&!t.includes("node_modules/")}(a||"",u)}}if(r.match(e))return{filename:r}}}(void 0)]);function i8(t){return[en(),eu(),ef(),e_(),iQ(),em(),...t.sendDefaultPii?[eT()]:[]]}Symbol.toStringTag,n(1303);let i9={client:"client",server:"server",edgeServer:"edge-server"};i9.client,i9.server,i9.edgeServer,Symbol("polyfills");var i7=n(7557);let i6=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function ot(...t){let e="",n=!1;for(let r=t.length-1;r>=-1&&!n;r--){let i=r>=0?t[r]:"/";i&&(e=`${i}/${e}`,n="/"===i.charAt(0))}return e=(function(t,e){let n=0;for(let e=t.length-1;e>=0;e--){let r=t[e];"."===r?t.splice(e,1):".."===r?(t.splice(e,1),n++):n&&(t.splice(e,1),n--)}if(e)for(;n--;)t.unshift("..");return t})(e.split("/").filter(t=>!!t),!n).join("/"),(n?"/":"")+e||"."}function oe(t){let e=0;for(;e<t.length&&""===t[e];e++);let n=t.length-1;for(;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}let on=(t={})=>{let e=t.root,n=t.prefix||"app:///",r="window"in v.O&&!!v.O.window,i=t.iteratee||function({isBrowser:t,root:e,prefix:n}){return r=>{if(!r.filename)return r;let i=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(t){if(e){let t=r.filename;0===t.indexOf(e)&&(r.filename=t.replace(e,n))}}else if(i||o){let t=i?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,o=e?function(t,e){t=ot(t).slice(1),e=ot(e).slice(1);let n=oe(t.split("/")),r=oe(e.split("/")),i=Math.min(n.length,r.length),o=i;for(let t=0;t<i;t++)if(n[t]!==r[t]){o=t;break}let s=[];for(let t=o;t<n.length;t++)s.push("..");return(s=s.concat(r.slice(o))).join("/")}(e,t):function(t){let e=t.length>1024?`<truncated>${t.slice(-1024)}`:t,n=i6.exec(e);return n?n.slice(1):[]}(t)[2]||"";r.filename=`${n}${o}`}return r}}({isBrowser:r,root:e,prefix:n});return{name:"RewriteFrames",processEvent(t){let e=t;return t.exception&&Array.isArray(t.exception.values)&&(e=function(t){try{return{...t,exception:{...t.exception,values:t.exception.values.map(t=>{var e;return{...t,...t.stacktrace&&{stacktrace:{...e=t.stacktrace,frames:e?.frames&&e.frames.map(t=>i(t))}}}})}}}catch(e){return t}}(e)),e}}},or=({distDirName:t})=>{let e=t.replace(/(\/|\\)$/,""),n=RegExp(`.*${e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}`);return{...on({iteratee:t=>(t.filename=t.filename?.replace(n,"app:///_next"),t)}),name:"DistDirRewriteFrames"}};!function(t={}){if(C(),"phase-production-build"===process.env.NEXT_PHASE)return;let e=i8(t),n=".next";n&&e.push(or({distDirName:n}));let r={defaultIntegrations:e,release:"988140cb43f8c16a9f0c6b0b7cb6657910434a55",...t};M(r,"nextjs",["nextjs","vercel-edge"]);let i=function(t={}){function e(){let t=ih(eK.active());return t||{scope:(0,tG.r)(),isolationScope:(0,tG.q)()}}function n(){return e().scope}function r(){return e().isolationScope}if((0,tX.n)({withScope:function(t){let e=eK.active();return eK.with(e,()=>t(n()))},withSetScope:function(t,e){let n=eK.active();return eK.with(n.setValue(il,t),()=>e(t))},withSetIsolationScope:function(t,e){let n=eK.active();return eK.with(n.setValue(ip,t),()=>e(r()))},withIsolationScope:function(t){let e=eK.active();return eK.with(e.setValue(ic,!0),()=>t(r()))},getCurrentScope:n,getIsolationScope:r,startSpan:iP,startSpanManual:iA,startInactiveSpan:iw,getActiveSpan:iE,suppressTracing:iU,getTraceData:ij,continueTrace:iM,withActiveSpan:ix}),(0,Q.o5)().update(t.initialScope),void 0===t.defaultIntegrations&&(t.defaultIntegrations=i8(t)),void 0===t.dsn&&process.env.SENTRY_DSN&&(t.dsn=process.env.SENTRY_DSN),void 0===t.tracesSampleRate&&process.env.SENTRY_TRACES_SAMPLE_RATE){let e=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(e)&&(t.tracesSampleRate=e)}if(void 0===t.release){let e=function(t){if(process.env.SENTRY_RELEASE)return process.env.SENTRY_RELEASE;if(v.O.SENTRY_RELEASE?.id)return v.O.SENTRY_RELEASE.id;let e=process.env.GITHUB_SHA||process.env.CI_MERGE_REQUEST_SOURCE_BRANCH_SHA||process.env.CI_BUILD_REF||process.env.CI_COMMIT_SHA||process.env.BITBUCKET_COMMIT,n=process.env.APPVEYOR_PULL_REQUEST_HEAD_COMMIT||process.env.APPVEYOR_REPO_COMMIT||process.env.CODEBUILD_RESOLVED_SOURCE_VERSION||process.env.AWS_COMMIT_ID||process.env.BUILD_SOURCEVERSION||process.env.GIT_CLONE_COMMIT_HASH||process.env.BUDDY_EXECUTION_REVISION||process.env.BUILDKITE_COMMIT||process.env.CIRCLE_SHA1||process.env.CIRRUS_CHANGE_IN_REPO||process.env.CF_REVISION||process.env.CM_COMMIT||process.env.CF_PAGES_COMMIT_SHA||process.env.DRONE_COMMIT_SHA||process.env.FC_GIT_COMMIT_SHA||process.env.HEROKU_TEST_RUN_COMMIT_VERSION||process.env.HEROKU_SLUG_COMMIT||process.env.RAILWAY_GIT_COMMIT_SHA||process.env.RENDER_GIT_COMMIT||process.env.SEMAPHORE_GIT_SHA||process.env.TRAVIS_PULL_REQUEST_SHA||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA,r=process.env.CI_COMMIT_ID||process.env.SOURCE_COMMIT||process.env.SOURCE_VERSION||process.env.GIT_COMMIT||process.env.COMMIT_REF||process.env.BUILD_VCS_NUMBER||process.env.CI_COMMIT_SHA;return e||n||r||void 0}();void 0!==e&&(t.release=e)}t.environment=t.environment||process.env.SENTRY_ENVIRONMENT||function(t){let e=process.env.VERCEL_ENV;return e?`vercel-${e}`:void 0}()||"production";let i=new nI({...t,stackParser:(0,E.vk)(t.stackParser||i3),integrations:function(t){let e,n=t.defaultIntegrations||[],r=t.integrations;if(n.forEach(t=>{t.isDefaultInstance=!0}),Array.isArray(r))e=[...n,...r];else if("function"==typeof r){let t=r(n);e=Array.isArray(t)?t:[t]}else e=n;let i={};return e.forEach(t=>{let{name:e}=t,n=i[e];n&&!n.isDefaultInstance&&t.isDefaultInstance||(i[e]=t)}),Object.values(i)}(t),transport:t.transport||i1});return(0,Q.o5)().setClient(i),i.init(),t.skipOpenTelemetrySetup||function(t){t.getOptions().debug&&function(){let t=new Proxy(y.vF,{get:(t,e,n)=>Reflect.get(t,"verbose"===e?"debug":e,n)});nu.disable(),nu.setLogger(t,s.DEBUG)}();let e=new r4({sampler:new iW(t),resource:new rP({"service.name":"edge","service.namespace":"sentry","service.version":k.M}),forceFlushTimeoutMillis:500,spanProcessors:[new iq({timeout:t.getOptions().maxSpanWaitDuration})]}),n=function(t){class e extends t{constructor(...t){super(...t),ib("SentryContextManager")}with(t,e,n,...r){let i=ih(t),o=i?.scope||(0,Q.o5)(),s=i?.isolationScope||(0,Q.rm)(),a=!0===t.getValue(ic),u=t.getValue(il),c=t.getValue(ip),l=u||o.clone(),p=i_(t,{scope:l,isolationScope:c||(a?s.clone():s)}).deleteValue(ic).deleteValue(il).deleteValue(ip);return(0,tA.my)(l,id,p),super.with(p,e,n,...r)}}return e}(i5);na.setGlobalTracerProvider(e),nR.setGlobalPropagator(new iO),eK.setGlobalContextManager(new n),t.traceProvider=e}(i),i.on("createDsc",(t,e)=>{if(!e)return;let n=(0,m.et)(e).data[D.i_],{description:r}=e.name?iv(e):{description:void 0};if("url"!==n&&r&&(t.transaction=r),(0,tD.f)()){let n=ig(e.spanContext());t.sampled=void 0==n?void 0:String(n)}}),i.on("preprocessEvent",t=>{let e=iE();if(!e||"transaction"===t.type)return;t.contexts={trace:(0,m.kX)(e),...t.contexts};let n=(0,m.zU)(e);return t.sdkProcessingMetadata={dynamicSamplingContext:(0,tt.k1)(n),...t.sdkProcessingMetadata},t}),i}(r);i?.on("spanStart",t=>{let e=(0,m.et)(t).data;e?.["next.span_type"]!==void 0&&t.setAttribute(D.JD,"auto"),e?.["next.span_type"]==="Middleware.execute"&&(t.setAttribute(D.uT,"http.server.middleware"),t.setAttribute(D.i_,"url"))}),i?.on("preprocessEvent",t=>{"transaction"===t.type&&t.contexts?.trace?.data?.["next.span_type"]==="Middleware.execute"&&t.contexts?.trace?.data?.["next.span_name"]&&t.transaction&&(t.transaction=F(t.contexts.trace.data["next.span_name"]))}),i?.on("spanEnd",t=>{t===(0,m.zU)(t)&&(0,B.l)((0,i7.a)())})}({dsn:"",tracesSampleRate:1,debug:!1,sendDefaultPii:!1,environment:"production"})},8417:(t,e,n)=>{"use strict";n.d(e,{f:()=>s,r:()=>o});var r=n(7583);let i="_sentrySpan";function o(t,e){e?(0,r.my)(t,i,e):delete t[i]}function s(t){return t[i]}},8786:(t,e,n)=>{"use strict";n.d(e,{L:()=>a,d:()=>s});var r=n(7583);let i="_sentryScope",o="_sentryIsolationScope";function s(t,e,n){t&&((0,r.my)(t,o,n),(0,r.my)(t,i,e))}function a(t){return{scope:t[i],isolationScope:t[o]}}},8790:(t,e,n)=>{"use strict";n.d(e,{H:()=>f});var r=n(4182),i=n(5888),o=n(8417),s=n(3710),a=n(5434),u=n(3966),c=n(2385),l=n(225),p=n(7745);class f{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:(0,c.e)(),sampleRand:Math.random()}}clone(){let t=new f;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,(0,o.r)(t,(0,o.f)(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,r.qO)(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let e="function"==typeof t?t(this):t,{tags:n,extra:r,user:i,contexts:o,level:a,fingerprint:u=[],propagationContext:c}=(e instanceof f?e.getScopeData():(0,s.Qd)(e)?t:void 0)||{};return this._tags={...this._tags,...n},this._extra={...this._extra,...r},this._contexts={...this._contexts,...o},i&&Object.keys(i).length&&(this._user=i),a&&(this._level=a),u.length&&(this._fingerprint=u),c&&(this._propagationContext=c),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,(0,o.r)(this,void 0),this._attachments=[],this.setPropagationContext({traceId:(0,c.e)(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,e){let n="number"==typeof e?e:100;if(n<=0)return this;let r={timestamp:(0,p.lu)(),...t,message:t.message?(0,l.xv)(t.message,2048):t.message};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,o.f)(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=(0,i.h)(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){let n=e?.event_id||(0,u.eJ)();if(!this._client)return a.vF.warn("No client configured on scope - will not capture exception!"),n;let r=Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},this),n}captureMessage(t,e,n){let r=n?.event_id||(0,u.eJ)();if(!this._client)return a.vF.warn("No client configured on scope - will not capture message!"),r;let i=Error(t);return this._client.captureMessage(t,e,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureEvent(t,e){let n=e?.event_id||(0,u.eJ)();return this._client?this._client.captureEvent(t,{...e,event_id:n},this):a.vF.warn("No client configured on scope - will not capture event!"),n}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}},9756:(t,e,n)=>{"use strict";let r,i,o;n.d(e,{li:()=>O,mG:()=>b});var s=n(5153),a=n(7114),u=n(8048),c=n(3710),l=n(5434),p=n(1614),f=n(8790),d=n(1947),h=n(3966),_=n(4443),g=n(225),m=n(7745),v=n(5066),y=n(5888),E=n(5159);function T(t,e){let{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:u,fingerprint:c,eventProcessors:l,attachments:p,propagationContext:f,transactionName:d,span:h}=e;S(t,"extra",n),S(t,"tags",r),S(t,"user",i),S(t,"contexts",o),t.sdkProcessingMetadata=(0,y.h)(t.sdkProcessingMetadata,a,2),s&&(t.level=s),d&&(t.transactionName=d),h&&(t.span=h),u.length&&(t.breadcrumbs=[...t.breadcrumbs,...u]),c.length&&(t.fingerprint=[...t.fingerprint,...c]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),p.length&&(t.attachments=[...t.attachments,...p]),t.propagationContext={...t.propagationContext,...f}}function S(t,e,n){t[e]=(0,y.h)(t[e],n,1)}function b(t,e,n,y,S,b){var O,R,L,I,P,A;let{normalizeDepth:w=3,normalizeMaxBreadth:x=1e3}=t,C={...e,event_id:e.event_id||n.event_id||(0,h.eJ)(),timestamp:e.timestamp||(0,m.lu)()},N=n.integrations||t.integrations.map(t=>t.name);(function(t,e){let{environment:n,release:r,dist:i,maxValueLength:o=250}=e;t.environment=t.environment||n||s.U,!t.release&&r&&(t.release=r),!t.dist&&i&&(t.dist=i);let a=t.request;a?.url&&(a.url=(0,g.xv)(a.url,o))})(C,t),O=C,(R=N).length>0&&(O.sdk=O.sdk||{},O.sdk.integrations=[...O.sdk.integrations||[],...R]),S&&S.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){let n=function(t){let e=d.O._sentryDebugIds;if(!e)return{};let n=Object.keys(e);return o&&n.length===i?o:(i=n.length,o=n.reduce((n,i)=>{r||(r={});let o=r[i];if(o)n[o[0]]=o[1];else{let o=t(i);for(let t=o.length-1;t>=0;t--){let s=o[t],a=s?.filename,u=e[i];if(a&&u){n[a]=u,r[i]=[a,u];break}}}return n},{}))}(e);t.exception?.values?.forEach(t=>{t.stacktrace?.frames?.forEach(t=>{t.filename&&(t.debug_id=n[t.filename])})})}(C,t.stackParser);let k=function(t,e){if(!e)return t;let n=t?t.clone():new f.H;return n.update(e),n}(y,n.captureContext);n.mechanism&&(0,h.M6)(C,n.mechanism);let M=S?S.getEventProcessors():[],D=(0,a.m6)().getScopeData();b&&T(D,b.getScopeData()),k&&T(D,k.getScopeData());let U=[...n.attachments||[],...D.attachments];U.length&&(n.attachments=U);let{fingerprint:j,span:F,breadcrumbs:$,sdkProcessingMetadata:B}=D;return function(t,e){let{extra:n,tags:r,user:i,contexts:o,level:s,transactionName:a}=e;Object.keys(n).length&&(t.extra={...n,...t.extra}),Object.keys(r).length&&(t.tags={...r,...t.tags}),Object.keys(i).length&&(t.user={...i,...t.user}),Object.keys(o).length&&(t.contexts={...o,...t.contexts}),s&&(t.level=s),a&&"transaction"!==t.type&&(t.transaction=a)}(C,D),F&&function(t,e){t.contexts={trace:(0,E.kX)(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:(0,v.k1)(e),...t.sdkProcessingMetadata};let n=(0,E.zU)(e),r=(0,E.et)(n).description;r&&!t.transaction&&"transaction"===t.type&&(t.transaction=r)}(C,F),L=C,I=j,L.fingerprint=L.fingerprint?Array.isArray(L.fingerprint)?L.fingerprint:[L.fingerprint]:[],I&&(L.fingerprint=L.fingerprint.concat(I)),L.fingerprint.length||delete L.fingerprint,function(t,e){let n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(C,$),P=C,A=B,P.sdkProcessingMetadata={...P.sdkProcessingMetadata,...A},(function t(e,n,r,i=0){return new p.T2((o,s)=>{let a=e[i];if(null===n||"function"!=typeof a)o(n);else{let p=a({...n},r);u.T&&a.id&&null===p&&l.vF.log(`Event processor "${a.id}" dropped event`),(0,c.Qg)(p)?p.then(n=>t(e,n,r,i+1).then(o)).then(null,s):t(e,p,r,i+1).then(o).then(null,s)}})})([...M,...D.eventProcessors],C,n).then(t=>(t&&function(t){let e={};if(t.exception?.values?.forEach(t=>{t.stacktrace?.frames?.forEach(t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)})}),0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let n=t.debug_meta.images;Object.entries(e).forEach(([t,e])=>{n.push({type:"sourcemap",code_file:t,debug_id:e})})}(t),"number"==typeof w&&w>0)?function(t,e,n){if(!t)return null;let r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(t=>({...t,...t.data&&{data:(0,_.S8)(t.data,e,n)}}))},...t.user&&{user:(0,_.S8)(t.user,e,n)},...t.contexts&&{contexts:(0,_.S8)(t.contexts,e,n)},...t.extra&&{extra:(0,_.S8)(t.extra,e,n)}};return t.contexts?.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=(0,_.S8)(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(t=>({...t,...t.data&&{data:(0,_.S8)(t.data,e,n)}}))),t.contexts?.flags&&r.contexts&&(r.contexts.flags=(0,_.S8)(t.contexts.flags,3,n)),r}(t,w,x):t)}function O(t){if(t){var e;return(e=t)instanceof f.H||"function"==typeof e||Object.keys(t).some(t=>R.includes(t))?{captureContext:t}:t}}let R=["user","level","extra","contexts","tags","fingerprint","propagationContext"]},9910:(t,e,n)=>{"use strict";n.d(e,{BY:()=>a,EU:()=>o,Se:()=>s});var r=n(6978),i=n(1947);function o(){return s(i.O),i.O}function s(t){let e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||r.M,e[r.M]=e[r.M]||{}}function a(t,e,n=i.O){let o=n.__SENTRY__=n.__SENTRY__||{},s=o[r.M]=o[r.M]||{};return s[t]||(s[t]=e())}},9984:(t,e,n)=>{"use strict";n.d(e,{D0:()=>l,De:()=>c,sv:()=>s,yD:()=>u});var r=n(8048),i=n(3710),o=n(5434);let s="sentry-",a=/^sentry-/;function u(t){let e=l(t);if(!e)return;let n=Object.entries(e).reduce((t,[e,n])=>(e.match(a)&&(t[e.slice(s.length)]=n),t),{});return Object.keys(n).length>0?n:void 0}function c(t){if(t){var e=Object.entries(t).reduce((t,[e,n])=>(n&&(t[`${s}${e}`]=n),t),{});return 0!==Object.keys(e).length?Object.entries(e).reduce((t,[e,n],i)=>{let s=`${encodeURIComponent(e)}=${encodeURIComponent(n)}`,a=0===i?s:`${t},${s}`;return a.length>8192?(r.T&&o.vF.warn(`Not adding key: ${e} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):a},""):void 0}}function l(t){if(t&&((0,i.Kg)(t)||Array.isArray(t)))return Array.isArray(t)?t.reduce((t,e)=>(Object.entries(p(e)).forEach(([e,n])=>{t[e]=n}),t),{}):p(t)}function p(t){return t.split(",").map(t=>t.split("=").map(t=>{try{return decodeURIComponent(t.trim())}catch{return}})).reduce((t,[e,n])=>(e&&n&&(t[e]=n),t),{})}}},t=>{var e=t(t.s=7156);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES).middleware_instrumentation=e}]);
//# sourceMappingURL=edge-instrumentation.js.map