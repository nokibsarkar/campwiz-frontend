try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="a0a5c98e-b4d5-4e8c-acf2-4de22a67e8aa",e._sentryDebugIdIdentifier="sentry-dbid-a0a5c98e-b4d5-4e8c-acf2-4de22a67e8aa")}catch(e){}(()=>{var e={};e.id=7652,e.ids=[7652],e.modules={784:(e,r,t)=>{Promise.resolve().then(t.bind(t,73882))},1853:(e,r,t)=>{"use strict";let i;t.r(r),t.d(r,{default:()=>x,generateImageMetadata:()=>g,generateMetadata:()=>m,generateViewport:()=>h});var n=t(63033),a=t(69929),s=t(98644),o=t(73882),d=t(2064),p=t(68575);let c=async({params:e})=>{let r=await (0,d.A)();if(!r)return(0,a.jsx)("div",{children:"Not logged in"});let{permissionMap:{PermissionOtherProjectAccess:t},projectId:i,permission:n}=r,{campaignId:p}=await e,c=await (0,s.Ay)(`/campaign/${p}?includeRoles=true`);if("detail"in c)return(0,a.jsx)("div",{children:c.detail});let l=c.data,u=l.projectId===i;if((t&n)!==t&&!u)return(0,a.jsx)("div",{children:"Either Admin or Project Lead can edit this campaign"});let m={...l,coordinators:l.coordinators||[]};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(o.default,{initialCampaign:m})})},l={...n},u="workUnitAsyncStorage"in l?l.workUnitAsyncStorage:"requestAsyncStorage"in l?l.requestAsyncStorage:void 0;i=new Proxy(c,{apply:(e,r,t)=>{let i,n,a;try{let e=u?.getStore();i=e?.headers.get("sentry-trace")??void 0,n=e?.headers.get("baggage")??void 0,a=e?.headers}catch(e){}return p.wrapServerComponentWithSentry(e,{componentRoute:"/campaign/[campaignId]/edit",componentType:"Page",sentryTraceHeader:i,baggageHeader:n,headers:a}).apply(r,t)}});let m=void 0,g=void 0,h=void 0,x=i},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},10512:(e,r,t)=>{Promise.resolve().then(t.bind(t,96678))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27107:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});var i=t(41388),n=t(49431);let a=(0,i.A)((0,n.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:e=>{"use strict";e.exports=require("node:child_process")},33873:e=>{"use strict";e.exports=require("path")},34240:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.default,__next_app__:()=>c,pages:()=>p,routeModule:()=>l,tree:()=>d});var i=t(72787),n=t(35964),a=t(19808),s=t(38441),o={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>s[e]);t.d(r,o);let d={children:["",{children:["campaign",{children:["[campaignId]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1853)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/edit/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,5896)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,17988)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,61892)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/loading.tsx"],"global-error":[()=>Promise.resolve().then(t.bind(t,19808)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,47260)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,39755,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,37648,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,p=["/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/edit/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},l=new i.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/campaign/[campaignId]/edit/page",pathname:"/campaign/[campaignId]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},36686:e=>{"use strict";e.exports=require("diagnostics_channel")},37067:e=>{"use strict";e.exports=require("node:http")},38522:e=>{"use strict";e.exports=require("node:zlib")},41692:e=>{"use strict";e.exports=require("node:tls")},44708:e=>{"use strict";e.exports=require("node:https")},48161:e=>{"use strict";e.exports=require("node:os")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},55511:e=>{"use strict";e.exports=require("crypto")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},73566:e=>{"use strict";e.exports=require("worker_threads")},73882:(e,r,t)=>{"use strict";t.d(r,{default:()=>i});let i=(0,t(78367).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/edit/_page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/edit/_page.tsx","default")},74998:e=>{"use strict";e.exports=require("perf_hooks")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80481:e=>{"use strict";e.exports=require("node:readline")},83997:e=>{"use strict";e.exports=require("tty")},84297:e=>{"use strict";e.exports=require("async_hooks")},86592:e=>{"use strict";e.exports=require("node:inspector")},94735:e=>{"use strict";e.exports=require("events")},96678:(e,r,t)=>{"use strict";t.d(r,{default:()=>y});var i=t(49431),n=t(9702),a=t(87472),s=t(27490),o=t(52721),d=t(43534),p=t(75429),c=t(11992),l=t(7378),u=t(22114);let m=({src:e=l.A})=>(0,i.jsx)("div",{className:"loading-popup fixed top-0 left-0 w-full h-full bg-transparent z-50 flex items-center justify-center flex-col backdrop-blur-[2px]",children:(0,i.jsx)(u.default,{src:e,alt:"Loading",width:100,height:100})});var g=t(47135),h=t(84494),x=t(27107),f=t(71817);let w=async e=>{if(""===e.name)throw Error("Campaign name cannot be empty");if(""===e.description)throw Error("Campaign description cannot be empty");if(""===e.startDate)throw Error("Campaign start date cannot be empty");if(""===e.endDate)throw Error("Campaign end date cannot be empty");if(0===e.coordinators.length)throw Error("At least one coordinator is required");if(""===e.language)throw Error('You must select a language. If it is wikimedia Commons, select "commons"');let r=await (0,f.A)("/campaign/"+e.campaignId,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if("detail"in r)throw Error(r.detail);return r.data},b=(0,s.lazy)(()=>t.e(8875).then(t.bind(t,8875))),y=({initialCampaign:e})=>{let[r,t]=(0,s.useState)(null),[l,u]=(0,s.useReducer)(o.n,e),{data:f=null,trigger:y,isMutating:v}=(0,c.A)(`/api/campaign/${e.campaignId}`,w.bind(null,l),{onError:t});return(0,i.jsx)("div",{style:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",backgroundImage:`url(${g.A.src})`,backgroundRepeat:"repeat-y",backgroundSize:"cover"},children:(0,i.jsx)("div",{style:{width:"100%",display:"flex",height:"100%",backgroundColor:"rgba(255,255,255,0.4)",justifyContent:"center",alignItems:"center"},children:f?(0,i.jsx)(b,{...f}):(0,i.jsxs)("div",{className:"p-2 px-3 rounded-2xl w-full max-w-4xl relative h-max bg-[#fefdfd6e] dark:bg-[#1f1f1f] m-auto",children:[(0,i.jsx)(h.A,{}),(0,i.jsx)(n.default,{variant:"h3",sx:{mb:4,textAlign:"center",fontSize:{xs:24,sm:48}},children:"Update Campaign"}),v&&(0,i.jsx)(m,{}),(0,i.jsx)(d.A,{...l,loading:v,dispatch:u,disableOnPrivate:!0}),r&&(0,i.jsx)(n.default,{variant:"body1",color:"error",sx:{mb:1},children:r.message}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10},children:[(0,i.jsx)(p.A,{disabled:v,sx:{m:0,borderRadius:10,px:2}}),(0,i.jsx)(a.default,{onClick:()=>y().catch(t),variant:"contained",color:"success",disabled:v,sx:{borderRadius:10},startIcon:(0,i.jsx)(x.A,{}),loading:v,children:"Update Campaign"})]})]})})})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[5811,280,8655,2014,9950,7472,4456,4876,3709,7362,7337,8673,7760,4015,2724,4626,7557],()=>t(34240));module.exports=i})();
//# sourceMappingURL=page.js.map