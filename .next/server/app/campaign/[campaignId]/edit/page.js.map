{"version":3,"file":"../app/campaign/[campaignId]/edit/page.js","mappings":"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","sources":["webpack://campwiz-frontend/?673b","webpack://campwiz-frontend/app/campaign/[campaignId]/edit/page.tsx","webpack://campwiz-frontend/sentry-wrapper-module","webpack://campwiz-frontend/external commonjs \"next/dist/server/app-render/after-task-async-storage.external.js\"","webpack://campwiz-frontend/external commonjs2 \"module\"","webpack://campwiz-frontend/?fad8","webpack://campwiz-frontend/external commonjs \"next/dist/compiled/next-server/app-page.runtime.prod.js\"","webpack://campwiz-frontend/external commonjs \"require-in-the-middle\"","webpack://campwiz-frontend/external commonjs \"next/dist/server/app-render/action-async-storage.external.js\"","webpack://campwiz-frontend/external commonjs2 \"process\"","webpack://campwiz-frontend/external commonjs2 \"os\"","webpack://campwiz-frontend/./node_modules/@mui/icons-material/esm/Save.js","webpack://campwiz-frontend/external commonjs2 \"util\"","webpack://campwiz-frontend/external commonjs2 \"fs\"","webpack://campwiz-frontend/external commonjs \"next/dist/server/app-render/work-async-storage.external.js\"","webpack://campwiz-frontend/external node-commonjs \"node:child_process\"","webpack://campwiz-frontend/external commonjs2 \"path\"","webpack://campwiz-frontend/?d25f","webpack://campwiz-frontend/external commonjs2 \"diagnostics_channel\"","webpack://campwiz-frontend/external node-commonjs \"node:http\"","webpack://campwiz-frontend/external node-commonjs \"node:zlib\"","webpack://campwiz-frontend/external node-commonjs \"node:tls\"","webpack://campwiz-frontend/external node-commonjs \"node:https\"","webpack://campwiz-frontend/external node-commonjs \"node:os\"","webpack://campwiz-frontend/external node-commonjs \"node:diagnostics_channel\"","webpack://campwiz-frontend/external commonjs2 \"crypto\"","webpack://campwiz-frontend/external commonjs \"import-in-the-middle\"","webpack://campwiz-frontend/external node-commonjs \"node:stream\"","webpack://campwiz-frontend/external node-commonjs \"node:util\"","webpack://campwiz-frontend/external commonjs \"next/dist/server/app-render/work-unit-async-storage.external.js\"","webpack://campwiz-frontend/external node-commonjs \"node:fs\"","webpack://campwiz-frontend/external commonjs2 \"worker_threads\"","webpack://campwiz-frontend/external commonjs2 \"perf_hooks\"","webpack://campwiz-frontend/external node-commonjs \"node:worker_threads\"","webpack://campwiz-frontend/external node-commonjs \"node:path\"","webpack://campwiz-frontend/external node-commonjs \"node:net\"","webpack://campwiz-frontend/external commonjs2 \"url\"","webpack://campwiz-frontend/external commonjs2 \"child_process\"","webpack://campwiz-frontend/external node-commonjs \"node:readline\"","webpack://campwiz-frontend/external commonjs2 \"tty\"","webpack://campwiz-frontend/external commonjs2 \"async_hooks\"","webpack://campwiz-frontend/external node-commonjs \"node:inspector\"","webpack://campwiz-frontend/external commonjs2 \"events\"","webpack://campwiz-frontend/./components/LoadingPopup2.tsx","webpack://campwiz-frontend/./app/campaign/[campaignId]/edit/action.ts","webpack://campwiz-frontend/./app/campaign/[campaignId]/edit/_page.tsx"],"sourcesContent":["import(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/edit/_page.tsx\");\n","import fetchAPIFromBackendSingleWithErrorHandling from \"@/server\";\nimport { Campaign } from \"@/types\";\nimport EditCampaign from \"./_page\";\nimport fetchSession from \"@/server/session\";\n\nconst UpdateCampaign = async ({ params }: { params: Promise<{ campaignId: string }> }) => {\n    const session = await fetchSession();\n    if (!session) {\n        return <div>Not logged in</div>\n    }\n    const { permissionMap: { PermissionOtherProjectAccess, }, projectId, permission } = session;\n    const { campaignId } = await params;\n    const isAdmin = (PermissionOtherProjectAccess & permission) === PermissionOtherProjectAccess;\n    const campaignResponse = await fetchAPIFromBackendSingleWithErrorHandling<Campaign>(`/campaign/${campaignId}?includeRoles=true`);\n    if ('detail' in campaignResponse) {\n        return <div>{campaignResponse.detail}</div>\n    }\n    const campaign = campaignResponse.data;\n    const hasCampaignEditAccess = campaign.projectId === projectId //&& (PermissionUpdateCampaignDetails & permission) === PermissionUpdateCampaignDetails;\n    if (!isAdmin && !hasCampaignEditAccess) {\n        return <div>Either Admin or Project Lead can edit this campaign</div>\n    }\n    const initialCampaign = {\n        ...campaign,\n        coordinators: campaign.coordinators || []\n    }\n    return (\n        <>\n            <EditCampaign initialCampaign={initialCampaign} />\n        </>\n    )\n}\nexport default UpdateCampaign","import * as origModule from 'next/dist/server/app-render/work-unit-async-storage.external.js';\nimport * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nimport * as Sentry from '@sentry/nextjs';\n\n// @ts-expect-error Because we cannot be sure if the RequestAsyncStorage module exists (it is not part of the Next.js public\n// API) we use a shim if it doesn't exist. The logic for this is in the wrapping loader.\n\nconst asyncStorageModule = { ...origModule } ;\n\nconst requestAsyncStorage =\n  'workUnitAsyncStorage' in asyncStorageModule\n    ? asyncStorageModule.workUnitAsyncStorage\n    : 'requestAsyncStorage' in asyncStorageModule\n      ? asyncStorageModule.requestAsyncStorage\n      : undefined;\n\nconst serverComponent = serverComponentModule.default;\n\nlet wrappedServerComponent;\nif (typeof serverComponent === 'function') {\n  // For some odd Next.js magic reason, `headers()` will not work if used inside `wrapServerComponentsWithSentry`.\n  // Current assumption is that Next.js applies some loader magic to userfiles, but not files in node_modules. This file\n  // is technically a userfile so it gets the loader magic applied.\n  wrappedServerComponent = new Proxy(serverComponent, {\n    apply: (originalFunction, thisArg, args) => {\n      let sentryTraceHeader = undefined;\n      let baggageHeader = undefined;\n      let headers = undefined;\n\n      // We try-catch here just in `requestAsyncStorage` is undefined since it may not be defined\n      try {\n        const requestAsyncStore = requestAsyncStorage?.getStore() ;\n        sentryTraceHeader = requestAsyncStore?.headers.get('sentry-trace') ?? undefined;\n        baggageHeader = requestAsyncStore?.headers.get('baggage') ?? undefined;\n        headers = requestAsyncStore?.headers;\n      } catch (e) {\n        /** empty */\n      }\n\n      return Sentry.wrapServerComponentWithSentry(originalFunction, {\n        componentRoute: '/campaign/[campaignId]/edit',\n        componentType: 'Page',\n        sentryTraceHeader,\n        baggageHeader,\n        headers,\n      }).apply(thisArg, args);\n    },\n  });\n} else {\n  wrappedServerComponent = serverComponent;\n}\n\nconst generateMetadata = serverComponentModule.generateMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateMetadata, {\n      componentRoute: '/campaign/[campaignId]/edit',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateImageMetadata = serverComponentModule.generateImageMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateImageMetadata, {\n      componentRoute: '/campaign/[campaignId]/edit',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateImageMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateViewport = serverComponentModule.generateViewport\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateViewport, {\n      componentRoute: '/campaign/[campaignId]/edit',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateViewport',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst wrappedServerComponent$1 = wrappedServerComponent;\n\nexport { wrappedServerComponent$1 as default, generateImageMetadata, generateMetadata, generateViewport };\n","module.exports = require(\"next/dist/server/app-render/after-task-async-storage.external.js\");","module.exports = require(\"module\");","import(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/edit/_page.tsx\");\n","module.exports = require(\"next/dist/compiled/next-server/app-page.runtime.prod.js\");","module.exports = require(\"require-in-the-middle\");","module.exports = require(\"next/dist/server/app-render/action-async-storage.external.js\");","module.exports = require(\"process\");","module.exports = require(\"os\");","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z\"\n}), 'Save');","module.exports = require(\"util\");","module.exports = require(\"fs\");","module.exports = require(\"next/dist/server/app-render/work-async-storage.external.js\");","module.exports = require(\"node:child_process\");","module.exports = require(\"path\");","const module0 = () => import(/* webpackMode: \"eager\" */ \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/layout.tsx\");\nconst module1 = () => import(/* webpackMode: \"eager\" */ \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/error.tsx\");\nconst module2 = () => import(/* webpackMode: \"eager\" */ \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/loading.tsx\");\nconst module3 = () => import(/* webpackMode: \"eager\" */ \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/global-error.tsx\");\nconst module4 = () => import(/* webpackMode: \"eager\" */ \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/not-found.tsx\");\nconst module5 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/forbidden-error\");\nconst module6 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/unauthorized-error\");\nconst page7 = () => import(/* webpackMode: \"eager\" */ \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/edit/page.tsx\");\nimport { AppPageRouteModule } from \"next/dist/server/route-modules/app-page/module.compiled\" with {\n    'turbopack-transition': 'next-ssr'\n};\nimport { RouteKind } from \"next/dist/server/route-kind\" with {\n    'turbopack-transition': 'next-server-utility'\n};\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'campaign',\n        {\n        children: [\n        '[campaignId]',\n        {\n        children: [\n        'edit',\n        {\n        children: ['__PAGE__', {}, {\n          page: [page7, \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/edit/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        \n        metadata: {\n    icon: [(async (props) => (await import(/* webpackMode: \"eager\" */ \"next-metadata-image-loader?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!/home/runner/work/campwiz-frontend/campwiz-frontend/app/favicon.ico?__next_metadata__\")).default(props))],\n    apple: [],\n    openGraph: [],\n    twitter: [],\n    manifest: undefined\n  }\n      }\n      ]\n      },\n        {\n        'layout': [module0, \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/layout.tsx\"],\n'error': [module1, \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/error.tsx\"],\n'loading': [module2, \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/loading.tsx\"],\n'global-error': [module3, \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/global-error.tsx\"],\n'not-found': [module4, \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/not-found.tsx\"],\n'forbidden': [module5, \"next/dist/client/components/forbidden-error\"],\n'unauthorized': [module6, \"next/dist/client/components/unauthorized-error\"],\n        metadata: {\n    icon: [(async (props) => (await import(/* webpackMode: \"eager\" */ \"next-metadata-image-loader?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!/home/runner/work/campwiz-frontend/campwiz-frontend/app/favicon.ico?__next_metadata__\")).default(props))],\n    apple: [],\n    openGraph: [],\n    twitter: [],\n    manifest: undefined\n  }\n      }\n      ]\n      }.children;\nconst pages = [\"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/edit/page.tsx\"];\nexport { tree, pages };\nexport { default as GlobalError } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/global-error.tsx\" with {\n    'turbopack-transition': 'next-server-utility'\n};\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nexport const __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\nexport * from \"next/dist/server/app-render/entry-base\" with {\n    'turbopack-transition': 'next-server-utility'\n};\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n    definition: {\n        kind: RouteKind.APP_PAGE,\n        page: \"/campaign/[campaignId]/edit/page\",\n        pathname: \"/campaign/[campaignId]/edit\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: '',\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map","module.exports = require(\"diagnostics_channel\");","module.exports = require(\"node:http\");","module.exports = require(\"node:zlib\");","module.exports = require(\"node:tls\");","module.exports = require(\"node:https\");","module.exports = require(\"node:os\");","module.exports = require(\"node:diagnostics_channel\");","module.exports = require(\"crypto\");","module.exports = require(\"import-in-the-middle\");","module.exports = require(\"node:stream\");","module.exports = require(\"node:util\");","module.exports = require(\"next/dist/server/app-render/work-unit-async-storage.external.js\");","module.exports = require(\"node:fs\");","module.exports = require(\"worker_threads\");","module.exports = require(\"perf_hooks\");","module.exports = require(\"node:worker_threads\");","module.exports = require(\"node:path\");","module.exports = require(\"node:net\");","module.exports = require(\"url\");","module.exports = require(\"child_process\");","module.exports = require(\"node:readline\");","module.exports = require(\"tty\");","module.exports = require(\"async_hooks\");","module.exports = require(\"node:inspector\");","module.exports = require(\"events\");","import LoadingSVG from \"@/public/logo-animated.svg\";\nimport Image from \"next/image\";\nconst LoadingPopup = ({ src = LoadingSVG }: { src?: string, message?: string }) => (\n    <div className=\"loading-popup fixed top-0 left-0 w-full h-full bg-transparent z-50 flex items-center justify-center flex-col backdrop-blur-[2px]\">\n        <Image src={src} alt=\"Loading\" width={100} height={100} />\n    </div>\n)\nexport default LoadingPopup;\n","// \"use server\";\n\nimport fetchAPIFromBackendSingleWithErrorHandling from \"@/server\";\nimport { Campaign } from \"@/types\";\nimport { CampaignUpdate } from \"@/types/campaign/create\";\n\nconst updateCampaign = async (campaign: CampaignUpdate) => {\n    if (campaign.name === '') {\n        throw new Error('Campaign name cannot be empty')\n    }\n    if (campaign.description === '') {\n        throw new Error('Campaign description cannot be empty')\n    }\n    if (campaign.startDate === '') {\n        throw new Error('Campaign start date cannot be empty')\n    }\n    if (campaign.endDate === '') {\n        throw new Error('Campaign end date cannot be empty')\n    }\n    if (campaign.coordinators.length === 0) {\n        throw new Error('At least one coordinator is required')\n    }\n    if (campaign.language === '') {\n        throw new Error('You must select a language. If it is wikimedia Commons, select \"commons\"')\n    }\n    const res = await fetchAPIFromBackendSingleWithErrorHandling<Campaign>(`/campaign/` + campaign.campaignId, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(campaign),\n    })\n    if ('detail' in res) {\n        throw new Error(res.detail)\n    }\n    return res.data\n}\nexport default updateCampaign","\"use client\";\nimport { Button, Typography } from \"@mui/material\"\nimport { lazy, useReducer, useState } from \"react\";\nimport { campaignReducer, CampaignUpdate } from \"@/types/campaign/create\";\nimport CampaignEditForm from \"@/components/campaign/CampaignEditForm\";\nimport ReturnButton from \"@/components/ReturnButton\";\nimport { Campaign } from \"@/types\";\nimport useSWRMutation from \"swr/mutation\";\nimport LoadingPopup from \"@/components/LoadingPopup2\";\nimport LoginBackground from \"@/public/snowy-hill.svg\";\nimport Logo from \"@/components/Logo\";\nimport SaveIcon from '@mui/icons-material/Save';\nimport updateCampaign from \"./action\";\nconst CampaignCreationSuccess = lazy(() => import('@/app/project/[projectId]/new/success'));\n\nconst EditCampaign = ({ initialCampaign }: { initialCampaign: CampaignUpdate }) => {\n    const [error, setError] = useState<Error | null>(null);\n    const [campaign, campaignDispatch] = useReducer(campaignReducer, initialCampaign);\n    const { data: updatedCampaign = null, trigger, isMutating: loading } = useSWRMutation<Campaign | undefined>(`/api/campaign/${initialCampaign.campaignId}`, updateCampaign.bind(null, campaign as CampaignUpdate), {\n        onError: setError,\n    });\n    return (\n        <div style={{\n            // position: 'absolute', \n            display: 'flex',\n            width: '100%', height: '100%',\n            justifyContent: 'center', alignItems: 'center',\n            backgroundImage: `url(${LoginBackground.src})`,\n            backgroundRepeat: 'repeat-y',\n            backgroundSize: 'cover',\n        }}>\n            <div\n                style={{\n                    // position: 'absolute', \n                    width: '100%', display: 'flex', height: '100%',\n                    backgroundColor: 'rgba(255,255,255,0.4)',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                }}>\n                {\n                    updatedCampaign ? <CampaignCreationSuccess {...updatedCampaign} /> :\n                        <div className=\"p-2 px-3 rounded-2xl w-full max-w-4xl relative h-max bg-[#fefdfd6e] dark:bg-[#1f1f1f] m-auto\">\n                            <Logo />\n                            <Typography variant=\"h3\" sx={{ mb: 4, textAlign: 'center', fontSize: { xs: 24, sm: 48 } }}>\n                                Update Campaign\n                            </Typography>\n                            {loading && <LoadingPopup />}\n                            <CampaignEditForm {...campaign} loading={loading} dispatch={campaignDispatch} disableOnPrivate />\n                            {error && <Typography variant=\"body1\" color=\"error\" sx={{ mb: 1 }}>{error.message}</Typography>}\n                            <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 10 }}>\n                                <ReturnButton disabled={loading} sx={{ m: 0, borderRadius: 10, px: 2 }} />\n                                <Button\n                                    onClick={() => trigger().catch(setError)}\n                                    variant=\"contained\"\n                                    color=\"success\"\n                                    disabled={loading}\n                                    sx={{ borderRadius: 10 }}\n                                    startIcon={<SaveIcon />}\n                                    loading={loading}\n                                >\n                                    Update Campaign\n                                </Button>\n                            </div>\n                        </div>\n                }\n            </div>\n        </div>\n    )\n}\nexport default EditCampaign"],"names":["UpdateCampaign","params","session","fetchSession","_jsx","div","permissionMap","PermissionOtherProjectAccess","projectId","permission","campaignId","campaignResponse","fetchAPIFromBackendSingleWithErrorHandling","detail","campaign","data","hasCampaignEditAccess","isAdmin","initialCampaign","coordinators","_Fragment","EditCampaign","serverComponentModule.default","createSvgIcon","d","src","LoadingSVG","LoadingPopup","className","Image","alt","width","height","updateCampaign","name","Error","description","startDate","endDate","length","language","res","method","headers","body","JSON","stringify","CampaignCreationSuccess","lazy","error","setError","useState","campaignDispatch","useReducer","campaignReducer","updatedCampaign","trigger","isMutating","loading","useSWRMutation","bind","onError","style","display","justifyContent","alignItems","backgroundImage","LoginBackground","backgroundRepeat","backgroundSize","backgroundColor","Logo","Typography","variant","sx","mb","textAlign","fontSize","xs","sm","CampaignEditForm","dispatch","disableOnPrivate","color","message","marginBottom","ReturnButton","disabled","m","borderRadius","px","Button","onClick","catch","startIcon","SaveIcon"],"sourceRoot":""}