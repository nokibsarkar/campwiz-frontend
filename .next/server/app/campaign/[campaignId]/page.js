try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="031de9dc-a7e4-42bc-9dd8-741f551e6131",e._sentryDebugIdIdentifier="sentry-dbid-031de9dc-a7e4-42bc-9dd8-741f551e6131")}catch(e){}(()=>{var e={};e.id=527,e.ids=[527],e.modules={2064:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(10062);r(7238);var n=r(98644),a=r(68575),o=r(93666);let i=async()=>{let e=await (0,n.Ay)("/user/me",{cache:"force-cache",next:{revalidate:3e5,tags:["user/me"]}});if("detail"in e)return null;let t=e.data;return t&&(console.log("Setting Sentry user:",t.id,t.username),(0,a.setUser)({id:t.id,username:t.username,data:{permission:t.permission,projectId:t.projectId,registeredAt:t.registeredAt}})),t},l=i;(0,o.D)([i]),(0,s.A)(i,"7f63b9137fe0719f43aac6c2c067fbeca98771df9c",null)},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6213:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>f});var s=r(88219);r(70963);var n=r(66476),a=r(39544),o=r(53455);let i=process.env.NEXT_BASE_URL||"",l="/api/v2",d=e=>{let t=e.split(";"),r={name:"",value:""};for(let e of t){let[t,s]=e.split("=");switch(t.trim().toLowerCase()){case"path":r.path=s;break;case"domain":r.domain=s;break;case"expires":r.expires=s?new Date(s):void 0;break;case"max-age":r.maxAge=parseInt(s);break;case"secure":r.secure=!0;break;case"httponly":r.httpOnly=!0;break;case"samesite":r.sameSite=s;break;default:r.name=t,r.value=s}}return r},c=async(e,t)=>{let r=await (0,n.UL)(),s=await (0,n.b3)(),o={"X-Requested-With":"fetchFromBackend","User-Agent":s.get("user-agent")||"From Backend",Accept:s.get("accept")||"application/json","Accept-Language":s.get("accept-language")||"en-US,en;q=0.9","Accept-Encoding":s.get("accept-encoding")||"gzip, deflate, br",Referer:s.get("referer")||i,Origin:s.get("origin")||i,"X-CSRF-Token":s.get("x-csrf-token")||"",...a.getTraceData()};if(void 0===t&&(t={}),void 0===t.headers)t.headers=new Headers(o);else{let e;for(let[e,r]of(t.headers instanceof Headers?t.headers:new Headers(t.headers)).entries())if("cookie"===e.toLowerCase())continue;else o[e]=r;t.headers=new Headers(o)}t.headers.append("Cookie",r.toString()),t.headers.has("Content-Type")||t.headers.append("Content-Type","application/json"),t.credentials="same-origin";let l=await fetch(`${i}${e}`,t);for(let[e,t]of l.headers.entries())if("set-cookie"===e.toLowerCase()){let e=d(t);r.set(e)}return l},u=async function(e){let t=-1===i.search(/localhost/)?i:"";return`${t}${l}${e}`};async function p(e,t){try{let r=await c(`${l}${e}`,t),s=await r.json();if(r.ok)return s;return{detail:s.detail}}catch(e){return{detail:e.message}}}async function m(e,t){try{let r=await c(`${l}${e}`,t),s=await r.json();if(r.ok)return s;return{detail:s.detail}}catch(e){return{detail:e.message}}}let f=p;(0,o.D)([c,u,m,p]),(0,s.A)(c,"7fa8fce456b40602ad1b55cd792025843697a22593",null),(0,s.A)(u,"7ff8556083af83549524853a21f33044fa2c86b4cf",null),(0,s.A)(m,"6070dc5bab919eb75a74cd481130eea0e7254e4903",null),(0,s.A)(p,"7fdadbeee5140d04dc8643d8360b13e3285fc0fc6d",null)},6670:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(41388),n=r(49431);let a=(0,s.A)((0,n.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description")},6776:(e,t,r)=>{Promise.resolve().then(r.bind(r,60982)),Promise.resolve().then(r.bind(r,51969)),Promise.resolve().then(r.bind(r,81124)),Promise.resolve().then(r.bind(r,33454)),Promise.resolve().then(r.bind(r,47147)),Promise.resolve().then(r.bind(r,23848)),Promise.resolve().then(r.bind(r,42902)),Promise.resolve().then(r.bind(r,57342)),Promise.resolve().then(r.bind(r,8516)),Promise.resolve().then(r.bind(r,45771)),Promise.resolve().then(r.t.bind(r,19796,23))},8086:e=>{"use strict";e.exports=require("module")},10335:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(71817);let n=async(e,t)=>await (0,s.A)(`/round/distribute/${e}`,{method:"POST",body:JSON.stringify({juries:t})})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11180:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var s=r(49431),n=r(71817),a=r(27490),o=r.n(a),i=r(87472),l=r(98568),d=r(11711),c=r(49484),u=r(60846),p=r(19122);let m=(0,r(41388).A)((0,s.jsx)("path",{d:"m20.55 5.22-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.15.55L3.46 5.22C3.17 5.57 3 6.01 3 6.5V19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.49-.17-.93-.45-1.28M12 9.5l5.5 5.5H14v2h-4v-2H6.5zM5.12 5l.82-1h12l.93 1z"}),"Unarchive");var f=r(94167);let h=({campaignId:e,isArchived:t,campaignName:r})=>{let[a,h]=o().useState(!1),[x,v]=o().useState(!1),[j,b]=o().useState(null),g=async()=>{try{v(!0);let r=await (0,n.A)(`/campaign/${e}/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({isArchived:!t})});if(!r)return;if("detail"in r)return void console.error(r.detail);h(!1),b(null)}catch(e){console.error(e),b("An error occurred while archiving/unarchiving the campaign.")}finally{v(!1),h(!1)}};return a?(0,s.jsxs)(l.A,{open:a,onClose:()=>h(!1),children:[(0,s.jsxs)(u.A,{children:[t?"Unarchive":"Archive"," Campaign"]}),(0,s.jsxs)(c.A,{children:["Are you sure you want to ",t?"unarchive":"archive",' the campaign "',r,'"?',j&&(0,s.jsx)("p",{style:{color:"red"},children:j})]}),(0,s.jsxs)(d.A,{children:[(0,s.jsx)(i.default,{onClick:()=>h(!1),color:"success",disabled:x,sx:{m:1,borderRadius:1,px:2},size:"large",variant:"contained",children:"Cancel"}),(0,s.jsx)(f.default,{onClick:g,color:"primary",disabled:x,loading:x,sx:{m:1,borderRadius:4,px:2},size:"large",variant:"outlined",startIcon:t?(0,s.jsx)(m,{}):(0,s.jsx)(p.default,{}),smallIcon:t?(0,s.jsx)(m,{}):(0,s.jsx)(p.default,{}),label:t?"Unarchive":"Archive"})]})]}):(0,s.jsx)(f.default,{variant:"outlined",color:t?"success":"error",onClick:()=>h(!0),disabled:x,sx:{m:1,borderRadius:1,px:2},loading:x,smallIcon:t?(0,s.jsx)(m,{}):(0,s.jsx)(p.default,{}),startIcon:t?(0,s.jsx)(m,{}):(0,s.jsx)(p.default,{}),label:t?"Unarchive":"Archive"})}},13418:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(49431),n=r(35757),a=r(22114);let o={src:"/_next/static/media/distributing.dcc5e05e.svg"};var i=r(27490);let l=({taskId:e,onSuccess:t})=>{let[r,l]=(0,i.useState)("pending");return(0,i.useEffect)(()=>{if(!e)return;let r=new EventSource(`/task/${e}`);return r.addEventListener("task",e=>{let s=JSON.parse(e.data);l(s.status),"error"==s.status&&r.close(),"success"==s.status&&(console.log("Task completed",s),r.close(),t(s))}),r.onerror=()=>{console.error("Error connecting to SSE server."),l("error"),r.close()},()=>{r.close()}},[t,e]),(0,s.jsxs)(s.Fragment,{children:["pending"==r&&(0,s.jsx)(a.default,{src:o.src,alt:"distributing",width:200,height:200}),"success"==r&&(0,s.jsx)(n.default,{src:"/lottie/success.lottie"}),"error"==r&&(0,s.jsx)(n.default,{src:"/lottie/error.lottie"})]})}},13977:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});var s=r(42515);let n=(0,s.createServerReference)("6070dc5bab919eb75a74cd481130eea0e7254e4903",s.callServer,void 0,s.findSourceMapURL,"fetchAPIFromBackendListWithErrorHandling")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19122:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(41388),n=r(49431);let a=(0,s.A)((0,n.jsx)("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M12 17.5 6.5 12H10v-2h4v2h3.5zM5.12 5l.81-1h12l.94 1z"}),"Archive")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},23848:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(78367).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/campwiz-frontend/campwiz-frontend/node_modules/@mui/icons-material/esm/Description.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/node_modules/@mui/icons-material/esm/Description.js","default")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29245:(e,t,r)=>{"use strict";r.d(t,{A:()=>I});var s=r(49431),n=r(98568),a=r(60846),o=r(49484),i=r(11711),l=r(87472),d=r(27490),c=r(42515);let u=(0,c.createServerReference)("7fa76616522a1cb8cf888475f85d3d0d89e41c1afa",c.callServer,void 0,c.findSourceMapURL,"default");var p=r(35757);let m=({taskId:e,onSuccess:t})=>{let[r,n]=(0,d.useState)("pending");return(0,d.useEffect)(()=>{if(!e)return;let r=new EventSource(`/task/${e}`);return console.log("Connecting to SSE server.",r),r.addEventListener("task",e=>{let s=JSON.parse(e.data);n(s.status),"error"==s.status&&r.close(),"success"==s.status&&(console.log("Task completed",s),r.close(),t(s))}),r.onerror=()=>{console.error("Error connecting to SSE server."),n("error"),r.close()},()=>{r.close()}},[t,e]),(0,s.jsxs)(s.Fragment,{children:["pending"==r&&(0,s.jsx)(p.default,{src:"/lottie/importing.lottie"}),"success"==r&&(0,s.jsx)(p.default,{src:"/lottie/success.lottie"}),"error"==r&&(0,s.jsx)(p.default,{src:"/lottie/error.lottie"})]})};var f=r(88673),h=r(37760),x=r(64352),v=r(17337),j=r(6171),b=r(34461),g=r(41388);let y=(0,g.A)((0,s.jsx)("path",{d:"M19 5v14H5V5zm0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"CheckBoxOutlineBlank"),A=(0,g.A)((0,s.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckBox"),w=(0,s.jsx)(y,{fontSize:"small"}),C=(0,s.jsx)(A,{fontSize:"small"});function k({resultSummary:e,scores:t,setScores:r}){let n=e.toSorted((e,t)=>e.averageScore-t.averageScore).map(e=>({title:`${e.averageScore}% (${e.submissionCount} files)`,value:e.averageScore.toString()}));return(0,s.jsx)(h.A,{multiple:!0,id:"checkboxes-tags-demo",options:n,disableCloseOnSelect:!0,value:Array.from(t).map(e=>n.find(t=>t.value===e)||{title:e,value:e}),onChange:(e,t)=>{r(new Set(t.map(e=>e.value)))},isOptionEqualToValue:(e,t)=>e.value===t.value,getOptionLabel:e=>e.value,renderOption:(e,t,{selected:r})=>{let{key:n,...a}=e;return(0,s.jsxs)("li",{...a,children:[(0,s.jsx)(x.A,{icon:w,checkedIcon:C,style:{marginRight:8},checked:r}),t.title]},n)},sx:{m:1},fullWidth:!0,renderInput:e=>(0,s.jsx)(v.A,{...e,label:"Select Scores to Import",placeholder:"Select scores to import",fullWidth:!0})})}let S=({currentRound:e,importing:t,setImporting:r,distribute:n})=>{let[a,o]=(0,d.useState)(""),[i,c]=(0,d.useState)(new Set),{data:h,isLoading:x}=(0,f.Ay)(`/round/${e.dependsOnRoundId}/results/summary`,b.A,{revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateOnMount:!0}),v=async(t,s)=>{try{if(!s)throw Error("No round to import from");r(!0);let n=await u(e.roundId,s,t);if("detail"in n)throw Error(n.detail);o(n.data.taskId)}catch(e){console.error(e)}finally{r(!1)}};if(x)return(0,s.jsx)(j.default,{});if(!h)return(0,s.jsx)("div",{children:"Failed to load summary"});if("detail"in h)return(0,s.jsx)("div",{children:h.detail});let g=h.data;return a?(0,s.jsx)(m,{taskId:a,onSuccess:n}):(0,s.jsx)(d.Suspense,{fallback:(0,s.jsx)(p.default,{src:"/lottie/importing.lottie"}),children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[0===g.length?(0,s.jsx)("div",{children:"No submissions to import"}):(0,s.jsx)(k,{resultSummary:g,scores:i,setScores:c}),(0,s.jsx)(l.default,{onClick:()=>v(Array.from(i),e.dependsOnRoundId),disabled:t||0===i.size,loading:t,variant:"contained",color:"primary",children:"Import"})]})})},I=({round:e,onClose:t,distribute:r})=>{let[c,u]=(0,d.useState)(!1);return(0,s.jsxs)(n.A,{open:!0,onClose:t,children:[(0,s.jsx)(a.A,{children:"Import from the previous round"}),(0,s.jsx)(o.A,{children:(0,s.jsx)(S,{currentRound:e,importing:c,setImporting:u,distribute:r})}),(0,s.jsx)(i.A,{children:(0,s.jsx)(l.default,{onClick:t,variant:"outlined",color:"error",disabled:c,loading:c,children:"Close Dialog"})})]})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:e=>{"use strict";e.exports=require("node:child_process")},31748:(e,t,r)=>{"use strict";r.d(t,{A:()=>v});var s=r(27490),n=r(27044),a=r(63416),o=r(69643),i=r(88277),l=r(5016),d=r(80622),c=r(30566);function u(e){return(0,c.Ay)("MuiTableHead",e)}(0,d.A)("MuiTableHead",["root"]);var p=r(49431);let m=e=>{let{classes:t}=e;return(0,a.A)({root:["root"]},u,t)},f=(0,i.default)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),h={variant:"head"},x="thead",v=s.forwardRef(function(e,t){let r=(0,l.b)({props:e,name:"MuiTableHead"}),{className:s,component:a=x,...i}=r,d={...r,component:a},c=m(d);return(0,p.jsx)(o.A.Provider,{value:h,children:(0,p.jsx)(f,{as:a,className:(0,n.A)(c.root,s),ref:t,role:a===x?null:"rowgroup",ownerState:d,...i})})})},33384:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"40d3ca75fbcbc3de53d73a8a78886586127b236488":()=>h,"7f0e00a684ae92add1c1e68928512f016ecc2bc3f6":()=>f,"7f190d3bbb56dc7c408cd8ff18aae92e94229abbd8":()=>i,"7f1b6e866ea2fda93baccb982ad43339f3fe664fa5":()=>l,"7f2992652aadd87978cc889dcf9508e96af4ee0b2d":()=>c,"7f88aaf1eead49706cfda4b28c26e5f0f6825113f7":()=>m,"7fa76616522a1cb8cf888475f85d3d0d89e41c1afa":()=>p});var s=r(88219);r(70963);var n=r(6213),a=r(53455);let o=async e=>{try{return await (0,n.Ay)("/round/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(e){console.error(e)}},i=async(e,t)=>{console.log(JSON.stringify(t));try{return await (0,n.Ay)(`/round/${e}/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}catch(e){console.error(e)}},l=o;(0,a.D)([i,o]),(0,s.A)(i,"7f190d3bbb56dc7c408cd8ff18aae92e94229abbd8",null),(0,s.A)(o,"7f1b6e866ea2fda93baccb982ad43339f3fe664fa5",null);let d=async(e,t)=>{let r={categories:t.map(e=>e.replace(/^(?:Category:)?/,"Category:"))};return await (0,n.Ay)(`/round/import/${e}/commons`,{method:"POST",body:JSON.stringify(r)})},c=d;(0,a.D)([d]),(0,s.A)(d,"7f2992652aadd87978cc889dcf9508e96af4ee0b2d",null);let u=async(e,t,r)=>{let s={roundId:t,scores:r.map(e=>parseFloat(e))};return await (0,n.Ay)(`/round/import/${e}/previous`,{method:"POST",body:JSON.stringify(s)})},p=u;(0,a.D)([u]),(0,s.A)(u,"7fa76616522a1cb8cf888475f85d3d0d89e41c1afa",null);let m=async(e,t)=>await (0,n.Ay)(`/round/${e}/status`,{method:"POST",body:JSON.stringify({status:t})}),f=async(e,t)=>await (0,n.Ay)(`/campaign/${e}/status`,{method:"POST",body:JSON.stringify({status:t})});async function h(e){return await (0,n.Ay)(`/round/${e}`,{method:"DELETE"})}(0,a.D)([m,f]),(0,s.A)(m,"7f88aaf1eead49706cfda4b28c26e5f0f6825113f7",null),(0,s.A)(f,"7f0e00a684ae92add1c1e68928512f016ecc2bc3f6",null),(0,a.D)([h]),(0,s.A)(h,"40d3ca75fbcbc3de53d73a8a78886586127b236488",null)},33873:e=>{"use strict";e.exports=require("path")},34461:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(13977);let n=async e=>{let t=await (0,s._)(e);if("data"in t){let{data:e}=t,r=0;for(let t=0;t<e.length;t++)r+=e[t].submissionCount,e[t].cumulative=r;t.data=e}return t}},35383:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(41388),n=r(49431);let a=(0,s.A)((0,n.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},36686:e=>{"use strict";e.exports=require("diagnostics_channel")},37067:e=>{"use strict";e.exports=require("node:http")},38522:e=>{"use strict";e.exports=require("node:zlib")},40282:(e,t,r)=>{"use strict";r.d(t,{default:()=>eE});var s=r(49431),n=r(66057),a=r(22550),o=r(9702),i=r(27490),l=r.n(i),d=r(77425);let c=({deadline:e})=>{let[t,r]=(0,i.useMemo)(()=>{let t=new Date(e),r=new Date,s=t.getTime()-r.getTime();if(s<0)return[t,"Deadline passed"];let n=Math.floor(s/2592e6);if(n>0)return[t,`In ${n} months`];let a=Math.floor(s/6048e5);if(a>0)return[t,`In ${a} weeks`];let o=Math.floor(s/864e5);if(o>0)return[t,`In ${o} days`];let i=Math.floor(s/36e5);if(i>0)return[t,`In ${i} hours`];let l=Math.floor(s/6e4);if(l>0)return[t,`In ${l} minutes`];let d=Math.floor(s/1e3);return[t,`In ${d} seconds`]},[e]);return(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"left"},children:[(0,s.jsx)(d.default,{sx:{display:"inline-block",mr:1},fontSize:"large"}),(0,s.jsxs)("div",{style:{display:"inline-block"},children:[(0,s.jsx)(o.default,{variant:"h6",sx:{mb:0},component:"div",children:"Deadline"}),(0,s.jsxs)(o.default,{variant:"body1",sx:{mb:2,mt:-.5},component:"div",children:[t.toDateString()," ",(0,s.jsxs)(o.default,{variant:"body1",color:"textSecondary",sx:{display:"inline"},children:["(",r,")"]})]})]})]})};var u=r(6670);let p=({description:e,label:t="Guidelines",Icon:r=u.default})=>(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"left"},children:[(0,s.jsx)(r,{sx:{display:"inline-block",mr:1},fontSize:"large"}),(0,s.jsxs)("div",{style:{display:"inline-block"},children:[(0,s.jsx)(o.default,{variant:"h6",sx:{mb:0},component:"div",children:t}),(0,s.jsx)(o.default,{variant:"body1",sx:{mb:2,mt:-.5,overflowWrap:"anywhere",textWrap:"balance",wordWrap:"break-word"},component:"div",children:e})]})]});var m=r(41388);let f=(0,m.A)((0,s.jsx)("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups"),h=({quorum:e})=>(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"left"},children:[(0,s.jsx)(f,{sx:{display:"inline-block",mr:1},fontSize:"large"}),(0,s.jsxs)("div",{style:{display:"inline-block"},children:[(0,s.jsx)(o.default,{variant:"h6",sx:{mb:0},component:"div",children:"Quorum"}),(0,s.jsxs)(o.default,{variant:"body1",sx:{mb:2,mt:-.5},component:"div",children:[e," jury per submission is required"]})]})]}),x=(0,m.A)((0,s.jsx)("path",{d:"M9 4v1.38c-.83-.33-1.72-.5-2.61-.5-1.79 0-3.58.68-4.95 2.05l3.33 3.33h1.11v1.11c.86.86 1.98 1.31 3.11 1.36V15H6v3c0 1.1.9 2 2 2h10c1.66 0 3-1.34 3-3V4zm-1.11 6.41V8.26H5.61L4.57 7.22a5.07 5.07 0 0 1 1.82-.34c1.34 0 2.59.52 3.54 1.46l1.41 1.41-.2.2c-.51.51-1.19.8-1.92.8-.47 0-.93-.12-1.33-.34M19 17c0 .55-.45 1-1 1s-1-.45-1-1v-2h-6v-2.59c.57-.23 1.1-.57 1.56-1.03l.2-.2L15.59 14H17v-1.41l-6-5.97V6h8z"}),"HistoryEdu"),v=(0,m.A)((0,s.jsx)("path",{d:"m5.2494 8.0688 2.83-2.8269 14.1343 14.15-2.83 2.8269zm4.2363-4.2415 2.828-2.8289 5.6577 5.656-2.828 2.8289zM.9989 12.3147l2.8284-2.8285 5.6569 5.6569-2.8285 2.8284zM1 21h12v2H1z"}),"Gavel"),j=(0,m.A)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle");var b=r(87472),g=r(98568),y=r(60846),A=r(49484),w=r(82915),C=r(31748),k=r(74490),S=r(55491),I=r(88344),z=r(11711);let R=(0,m.A)((0,s.jsx)("path",{d:"M7.5 21H2V9h5.5zm7.25-18h-5.5v18h5.5zM22 11h-5.5v10H22z"}),"Leaderboard");var E=r(61096);let M=(0,m.A)((0,s.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents"),T={src:"/_next/static/media/Sparkle.39bd789f.svg"},P=[(0,s.jsx)(M,{sx:{color:"gold"}},0),(0,s.jsx)(M,{sx:{color:"silver"}},1),(0,s.jsx)(M,{sx:{color:"#cd7f32"}},2)],D=({juryList:e})=>{let[t,r]=(0,i.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.default,{variant:"outlined",color:"primary",startIcon:(0,s.jsx)(R,{}),disabled:0==e.length||t,onClick:()=>{r(!0)},sx:{borderRadius:3},children:"LeaderBoard"}),t&&(0,s.jsxs)(g.A,{open:t,onClose:()=>r(!1),fullWidth:!0,maxWidth:"lg",children:[(0,s.jsx)(y.A,{children:"LeaderBoard"}),(0,s.jsx)(A.A,{children:(0,s.jsxs)(w.A,{children:[(0,s.jsx)(C.A,{children:(0,s.jsxs)(k.A,{children:[(0,s.jsx)(S.A,{children:"Rank"}),(0,s.jsx)(S.A,{children:"Username"}),(0,s.jsx)(S.A,{children:"Total Evaluations"})]})}),(0,s.jsx)(I.A,{children:e.toSorted((e,t)=>t.totalEvaluated-e.totalEvaluated).map((e,t)=>(0,s.jsxs)(k.A,{sx:{backgroundImage:0==t?`url(${T.src})`:"none",backgroundPositionX:"left",backgroundRepeat:"no-repeat"},children:[(0,s.jsxs)(S.A,{children:[t+1,t<P.length&&P[t]]}),(0,s.jsx)(S.A,{children:e.username}),(0,s.jsx)(S.A,{children:e.totalEvaluated})]},e.roleId))})]})}),(0,s.jsx)(z.A,{children:(0,s.jsx)(b.default,{variant:"outlined",color:"error",onClick:()=>{r(!1)},startIcon:(0,s.jsx)(E.A,{}),children:"Close"})})]})]})},H=({jury:e})=>{let t=e.totalAssigned>0?Math.floor(e.totalEvaluated/e.totalAssigned*100):0;return(0,s.jsxs)(a.default,{sx:{padding:3,margin:1,border:"1px solid #e0e0e0",borderRadius:7,position:"relative",width:{xs:"100%",sm:"calc(50% - 20px)",md:"calc(33% - 20px)",lg:"calc(25% - 20px)",xl:"calc(20% - 20px)"}},children:[(0,s.jsxs)(o.default,{variant:"h6",sx:{mb:0},component:"div",children:[(0,s.jsx)(j,{sx:{display:"inline-block",mr:1},fontSize:"large"}),e.username]}),(0,s.jsxs)(o.default,{variant:"h4",sx:{mb:2,mt:1,textAlign:"center"},component:"div",children:[t,"%"]}),(0,s.jsxs)(o.default,{variant:"body1",sx:{mb:2,mt:-.5},component:"div",children:[e.totalAssigned," assigned"]}),(0,s.jsxs)(o.default,{variant:"body1",sx:{mb:2,mt:-.5},component:"div",children:[e.totalEvaluated," evaluated"]})]})},L=({juryList:e,isPublicJury:t})=>t?(0,s.jsx)(D,{juryList:e}):(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"left",position:"relative",width:"100%"},children:[(0,s.jsx)(v,{sx:{display:"inline-block",mr:1},fontSize:"large"}),(0,s.jsxs)("div",{style:{width:"100%"},children:[(0,s.jsx)(o.default,{variant:"h6",sx:{mb:0},component:"div",children:"Jury"}),(0,s.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"left",flexWrap:"wrap",width:"100%"},children:e.map((e,t)=>(0,s.jsx)(H,{jury:e},t))})]})]}),O=(0,m.A)((0,s.jsx)("path",{d:"m13.11 5.72-.57 2.89c-.12.59.04 1.2.42 1.66s.94.73 1.54.73H20v1.08L17.43 18H9.34c-.18 0-.34-.16-.34-.34V9.82zM14 2 7.59 8.41C7.21 8.79 7 9.3 7 9.83v7.83C7 18.95 8.05 20 9.34 20h8.1c.71 0 1.36-.37 1.72-.97l2.67-6.15c.11-.25.17-.52.17-.8V11c0-1.1-.9-2-2-2h-5.5l.92-4.65c.05-.22.02-.46-.08-.66-.23-.45-.52-.86-.88-1.22zM4 9H2v11h2c.55 0 1-.45 1-1v-9c0-.55-.45-1-1-1"}),"ThumbUpOffAlt"),q=(0,m.A)((0,s.jsx)("path",{d:"M17 10.43V2H7v8.43c0 .35.18.68.49.86l4.18 2.51-.99 2.34-3.41.29 2.59 2.24L9.07 22 12 20.23 14.93 22l-.78-3.33 2.59-2.24-3.41-.29-.99-2.34 4.18-2.51c.3-.18.48-.5.48-.86m-4 1.8-1 .6-1-.6V3h2z"}),"MilitaryTech"),$=(0,m.A)((0,s.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23z"}),"Stars"),V=(0,m.A)((0,s.jsx)("path",{d:"M11.07 12.85c.77-1.39 2.25-2.21 3.11-3.44.91-1.29.4-3.7-2.18-3.7-1.69 0-2.52 1.28-2.87 2.34L6.54 6.96C7.25 4.83 9.18 3 11.99 3c2.35 0 3.96 1.07 4.78 2.41.7 1.15 1.11 3.3.03 4.9-1.2 1.77-2.35 2.31-2.97 3.45-.25.46-.35.76-.35 2.24h-2.89c-.01-.78-.13-2.05.48-3.15M14 20c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2"}),"QuestionMark");var _=r(43340),N=r(34461),U=r(88673);let F=function(e){return(0,s.jsxs)("div",{style:{position:"relative",display:"inline-flex",margin:"10px"},children:[(0,s.jsx)(_.A,{variant:"determinate",...e}),(0,s.jsx)("div",{style:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(o.default,{variant:e.labelVariant??"h4",component:"div",color:e.color,children:`${Math.round(e.value)}%`})})]})},B=(0,m.A)((0,s.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),W=({round:e,onClose:t})=>{let{data:r,isLoading:n,error:a}=(0,U.Ay)(`/round/${e.roundId}/results/summary`,N.A,{revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateOnMount:!0});return(0,s.jsxs)(g.A,{open:!0,onClose:t,fullWidth:!0,children:[(0,s.jsx)(y.A,{children:"Round Summary"}),(0,s.jsxs)(A.A,{children:[n&&(0,s.jsx)(_.A,{size:24}),a&&(0,s.jsxs)("p",{className:"text-red-500",children:["Error: ",a.message]}),r&&!n&&!a&&("details"in r?(0,s.jsxs)("p",{className:"text-red-500",children:["Error: ",r.details]}):(0,s.jsxs)(w.A,{children:[(0,s.jsx)("caption",{children:"* If there is two '0â€˜ (zero ) is mentioned on the Average Score column, the last zero means Unevaluated Submissions"}),(0,s.jsx)(C.A,{children:(0,s.jsxs)(k.A,{children:[(0,s.jsxs)(S.A,{children:["Average Score",(0,s.jsx)("b",{className:"font-bold",children:"*"})]}),(0,s.jsx)(S.A,{children:"Submission Count"})]})}),(0,s.jsx)(I.A,{children:r.data.map((e,t)=>(0,s.jsxs)(k.A,{children:[(0,s.jsx)(S.A,{children:e.averageScore}),(0,s.jsx)(S.A,{children:e.submissionCount})]},t))})]}))]}),(0,s.jsx)(z.A,{children:(0,s.jsx)(b.default,{onClick:t,variant:"outlined",color:"error",disabled:n,startIcon:(0,s.jsx)(E.A,{}),children:"Close Dialog"})})]})},J=({c:e})=>{let[t,r]=(0,i.useState)(!1),{totalSubmissions:n,totalEvaluatedSubmissions:a}=e,o=n>0?Math.floor(a/n*100):0;return(0,s.jsxs)("div",{className:"round-progress flex flex-col items-center",children:[(0,s.jsx)(F,{value:o,size:"10em",color:"success"}),(0,s.jsx)("br",{}),(0,s.jsx)(b.default,{variant:"contained",onClick:()=>r(!0),color:"success",size:"large",sx:{borderRadius:2,px:2,my:"auto"},startIcon:(0,s.jsx)(B,{}),children:"Summary"}),t&&(0,s.jsx)(W,{round:e,onClose:()=>r(!1)})]})},G=e=>{switch(e){case n.F.BINARY:return(0,s.jsx)(p,{description:"Yes/No",label:"Type",Icon:O});case n.F.RANKING:return(0,s.jsx)(p,{description:"Ranking",label:"Type",Icon:q});case n.F.SCORE:return(0,s.jsx)(p,{description:"Rating",label:"Type",Icon:$});default:return(0,s.jsx)(p,{description:"Unknown, contact us",label:"Type",Icon:V})}},Y=({round:e,t})=>{let[r]=(0,i.useMemo)(()=>{if(!e.jury||!e.roles)return[[],0,0];let t=e.jury,r=0,s=0,n=[];for(let a of e.roles){let e=t[a.userId];e&&n.push({...a,username:e}),r+=a.totalAssigned,s+=a.totalEvaluated}return[n,r,s]},[e]);return(0,s.jsxs)(a.default,{sx:{textAlign:"left",mx:"auto",display:"inline-block",minWidth:300,width:"100%",p:2,border:1,borderColor:"primary.main",borderRadius:6},children:[(0,s.jsxs)(a.default,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row-reverse"},alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)(J,{c:e}),(0,s.jsxs)("div",{children:[(0,s.jsx)(c,{deadline:e.endDate}),G(e.type),(0,s.jsx)(p,{description:e.description}),(0,s.jsx)(p,{description:t("round.evaluatedOutOf",{total:e.totalSubmissions,evaluated:e.totalEvaluatedSubmissions}),label:t("round.submissions"),Icon:x}),!e.isPublicJury&&(0,s.jsx)(p,{description:t("round.evaluatedOutOf",{total:e.totalAssignments,evaluated:e.totalEvaluatedAssignments}),label:t("round.assignments"),Icon:x}),(0,s.jsx)(h,{quorum:e.quorum})]})]}),(0,s.jsx)(L,{juryList:r,isPublicJury:e.isPublicJury})]})};var X=r(91237),K=r(29245),Q=r(16490),Z=r(46211),ee=r(8443),et=r(29950),er=r.n(et),es=r(49630);let en=(0,m.A)((0,s.jsx)("path",{d:"M18 13h-.68l-2 2h1.91L19 17H5l1.78-2h2.05l-2-2H6l-3 3v4c0 1.1.89 2 1.99 2H19c1.1 0 2-.89 2-2v-4zm-1-5.05-4.95 4.95-3.54-3.54 4.95-4.95zm-4.24-5.66L6.39 8.66c-.39.39-.39 1.02 0 1.41l4.95 4.95c.39.39 1.02.39 1.41 0l6.36-6.36c.39-.39.39-1.02 0-1.41L14.16 2.3c-.38-.4-1.01-.4-1.4-.01"}),"HowToVote");var ea=r(68947),eo=r(35383);let ei=(0,m.A)((0,s.jsx)("path",{d:"M5 4v2h14V4zm0 10h4v6h6v-6h4l-7-7z"}),"Publish");var el=function(e){return e.creating="creating",e.importing="importing",e.finalizing="finalizing",e.editing="editing",e.distributing="distributing",e.none="",e}(el||{});let ed=(0,m.A)((0,s.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),ec=({roundId:e})=>{let[t,r]=l().useState(!1),[n,a]=l().useState(null),o=async()=>{try{r(!0);let t=await fetch(`/round/${e}/results/csv`,{headers:{"Content-Type":"text/csv",Accept:"text/csv","Access-Control-Allow-Origin":"*"},method:"GET",credentials:"include"}),s=await t.blob(),n=window.URL.createObjectURL(s),a=document.createElement("a");a.download=`round - ${e}.csv`,a.href=n,a.click(),window.URL.revokeObjectURL(n),t.ok?console.log("Exported"):console.error("Failed to export")}catch(e){console.error(e),a(e.message)}finally{r(!1)}};return(0,s.jsx)(b.default,{startIcon:(0,s.jsx)(ed,{}),variant:n?"outlined":"contained",color:n?"error":"success",onClick:o,sx:{m:1,px:3},loading:t,disabled:t,children:"Download Results as CSV"})};var eu=r(42515);let ep=(0,eu.createServerReference)("7f88aaf1eead49706cfda4b28c26e5f0f6825113f7",eu.callServer,void 0,eu.findSourceMapURL,"updateroundStatus");var em=r(6171);let ef=({roundId:e,onClick:t,status:r,label:n,color:a,description:i,icon:d,refresh:c,statusText:u})=>{let[p,m]=l().useState(!1),[f,h]=l().useState(!1),x=async()=>{try{h(!0);let s=await ep(e,r);if(s&&console.log("Round status updated"),"detail"in s)throw console.error(s.detail),Error(s.detail);m(!1),t&&t(s.data),c&&c()}catch(e){console.error(e)}finally{h(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.default,{startIcon:d,variant:"contained",color:a,onClick:()=>m(!0),sx:{m:1,px:3,borderRadius:7},loading:f,disabled:p,children:n}),(0,s.jsx)(l().Suspense,{fallback:(0,s.jsx)(em.default,{}),children:p&&(0,s.jsxs)(g.A,{open:p,onClose:()=>m(!1),children:[(0,s.jsx)(y.A,{children:n}),(0,s.jsxs)(A.A,{children:[(0,s.jsxs)(o.default,{children:["Are you sure you want to mark this round as ",u||r,"?"]}),(0,s.jsx)(o.default,{children:i}),f&&(0,s.jsx)(em.default,{})]}),(0,s.jsxs)(z.A,{children:[(0,s.jsx)(b.default,{onClick:()=>m(!1),variant:"outlined",color:"error",disabled:f,children:"No"}),(0,s.jsx)(b.default,{onClick:x,variant:"contained",color:"success",disabled:f,loading:f,children:"Yes"})]})]})})]})};var eh=r(77885);let ex=(0,eu.createServerReference)("40d3ca75fbcbc3de53d73a8a78886586127b236488",eu.callServer,void 0,eu.findSourceMapURL,"default"),ev=({roundId:e,refresh:t})=>{let[r,n]=l().useState(!1),[a,i]=l().useState(!1),d=async()=>{try{i(!0);let r=await ex(e);if(r&&console.log("Round status updated"),"detail"in r)throw console.error(r.detail),Error(r.detail);n(!1),t()}catch(e){console.error(e)}finally{i(!1)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.default,{startIcon:(0,s.jsx)(eh.A,{}),variant:"outlined",color:"error",onClick:()=>n(!0),sx:{m:1,px:3,borderRadius:7},loading:a,disabled:r,children:"Delete"}),(0,s.jsx)(l().Suspense,{fallback:(0,s.jsx)(em.default,{}),children:r&&(0,s.jsxs)(g.A,{open:r,onClose:()=>n(!1),children:[(0,s.jsx)(y.A,{children:"Delete Round"}),(0,s.jsxs)(A.A,{children:[(0,s.jsx)(o.default,{children:"Are you sure you want to delete this round?"}),(0,s.jsx)(o.default,{children:"Deleting this round will remove all the data associated with it. This includes all the submissions, evaluations, jury members and other data. This action is irreversible. So, please make sure you want to delete this round."}),a&&(0,s.jsx)(em.default,{})]}),(0,s.jsxs)(z.A,{children:[(0,s.jsx)(b.default,{onClick:()=>n(!1),variant:"contained",color:"success",disabled:a,children:"No"}),(0,s.jsx)(b.default,{onClick:d,variant:"outlined",color:"error",disabled:a,loading:a,children:"Yes"})]})]})})]})};var ej=r(13977);let eb=async e=>await (0,ej._)(`/round/${e}/addMyselfAsPublicJury`,{method:"POST"}),eg=({roundId:e,refresh:t})=>{let[r,n]=(0,i.useState)(!1),a=async()=>{try{n(!0);let r=await eb(e);if(r&&console.log("Added as jury"),"detail"in r)throw console.error(r.detail),Error(r.detail);t()}finally{n(!1)}};return(0,s.jsx)(b.default,{startIcon:(0,s.jsx)(eo.default,{}),variant:"contained",color:"success",disabled:r,loading:r,onClick:a,sx:{m:1,px:3,borderRadius:3},children:"Add myself as jury"})},ey=({onClick:e})=>(0,s.jsx)(b.default,{startIcon:(0,s.jsx)(eo.default,{}),variant:"contained",color:"primary",onClick:e,sx:{m:1,px:3,borderRadius:3},children:"Create Round"}),eA=({onClick:e})=>(0,s.jsx)(b.default,{startIcon:(0,s.jsx)(es.A,{}),variant:"contained",color:"primary",onClick:e,sx:{m:1,px:3},children:"Edit Round"}),ew=({latestRound:e,setAction:t,refresh:r})=>{if(!e||![ea.H.ACTIVE,ea.H.PAUSED].includes(e.status))return null;if(e.status===ea.H.PAUSED)return(0,s.jsx)(ef,{roundId:e.roundId,color:"success",description:"",icon:(0,s.jsx)(ee.A,{}),label:"Mark as complete",status:ea.H.COMPLETED,statusText:"Completed",onClick:()=>t(el.finalizing),refresh:r});let n=async e=>{t(el.finalizing),await ep(e.roundId,ea.H.COMPLETED),t(el.finalizing),r()};return(0,s.jsx)(ef,{roundId:e.roundId,color:"success",description:"",icon:(0,s.jsx)(ee.A,{}),label:"Mark as complete",status:ea.H.PAUSED,statusText:"paused then Completed",onClick:n})},eC=({latestRound:e,setAction:t,isJury:r,judgableLink:n,refresh:a,isCoordinator:o})=>{let i=[];return e&&e.status===ea.H.ACTIVE&&(r?i.push((0,s.jsx)(er(),{href:n,children:(0,s.jsx)(b.default,{startIcon:(0,s.jsx)(en,{}),variant:"contained",color:"primary",sx:{m:1,px:3,borderRadius:3},children:"Evaluation Area"})})):e.isPublicJury&&i.push((0,s.jsx)(eg,{roundId:e.roundId,refresh:a}))),o&&(e?(e.status!==ea.H.COMPLETED&&e.totalSubmissions===e.totalEvaluatedSubmissions&&i.push((0,s.jsx)(ew,{latestRound:e,setAction:t,refresh:a})),e.status===ea.H.COMPLETED?(i.push((0,s.jsx)(ec,{roundId:e.roundId})),i.push((0,s.jsx)(ey,{onClick:()=>t(el.creating)}))):e.status===ea.H.ACTIVE?i.push((0,s.jsx)(ef,{roundId:e.roundId,color:"error",description:"",icon:(0,s.jsx)(Q.A,{}),label:"Pause",status:ea.H.PAUSED,onClick:()=>t(el.finalizing),refresh:a})):e.status===ea.H.PAUSED&&(i.push((0,s.jsx)(ev,{roundId:e.roundId,refresh:a})),0==e.totalSubmissions&&i.push((0,s.jsx)(b.default,{startIcon:(0,s.jsx)(ei,{}),variant:"contained",color:"primary",onClick:()=>t(el.importing),sx:{m:1,px:3},children:"Import"})),i.push((0,s.jsx)(eA,{onClick:()=>t(el.editing)})),i.push((0,s.jsx)(ef,{roundId:e.roundId,color:"error",description:"",icon:(0,s.jsx)(Z.A,{}),label:"Start",status:ea.H.ACTIVE,onClick:()=>t(el.finalizing),refresh:a})))):i.push((0,s.jsx)(ey,{onClick:()=>t(el.creating)}))),(0,s.jsx)("div",{style:{textAlign:"right"},children:i.map((e,t)=>(0,s.jsx)(l().Fragment,{children:e},t))})};var ek=r(67879),eS=r(84091),eI=r(70574);let ez=i.lazy(()=>Promise.all([r.e(7577),r.e(4177)]).then(r.bind(r,4177))),eR=i.lazy(()=>Promise.all([r.e(7577),r.e(715)]).then(r.bind(r,90715))),eE=function({rounds:e,campaign:t,session:r,isCoordinator:n,isArchived:l}){e=e?.toSorted((e,t)=>t.roundId.localeCompare(e.roundId))??[];let d=()=>{},{t:c}=(0,eI.B)(),[u,p]=i.useState(e.length>0?e[0]:null),m=null!==u&&null!==u.jury&&null!==r&&Object.values(u.jury).includes(r.username),[f,h]=i.useState(el.none);return(0,s.jsxs)(a.default,{sx:{ml:1},component:"div",children:[!l&&(0,s.jsx)(eC,{latestRound:u,campaign:t,action:f,setAction:h,isJury:m,judgableLink:`/round/${u?.roundId}/submission/evaluate`,refresh:d,isCoordinator:n}),(0,s.jsxs)(i.Suspense,{fallback:(0,s.jsx)(em.default,{}),children:[f===el.creating&&(0,s.jsx)(ez,{campaignId:t.campaignId,onAfterCreationSuccess:e=>{p(e)},onClose:()=>{h(el.none),d()}}),u&&f===el.editing&&(0,s.jsx)(eR,{campaignId:t.campaignId,onAfterCreationSuccess:t=>{p(t),e[0]=t},onClose:()=>{h(el.none),d()},existingRound:u}),u&&f===el.importing&&(u?.dependsOnRoundId?(0,s.jsx)(K.A,{round:u,distribute:()=>{u.isPublicJury?(h(el.none),d()):h(el.distributing)},onClose:()=>{h(el.none),d()}}):(0,s.jsx)(ek.A,{round:u,distribute:()=>{u.isPublicJury?(h(el.none),d()):h(el.distributing)},onClose:()=>{h(el.none),d()}})),u&&f===el.distributing&&(0,s.jsx)(eS.A,{roundId:u.roundId,juries:Object.values(u.jury||{}),afterDistribution:()=>{h(el.none),d()},onClose:()=>{h(el.none),d()}})]}),e.map((e,t)=>(0,s.jsxs)("div",{id:"roundTimeline"+t,children:[(0,s.jsxs)("div",{style:{textAlign:"left"},children:[(0,s.jsx)(X.oh,{status:e.status})," ",(0,s.jsx)(X.Ay,{status:e.status,t:c}),(0,s.jsx)(o.default,{variant:"h6",sx:{display:"inline"},children:e.name}),(0,s.jsxs)(o.default,{variant:"subtitle1",sx:{display:"inline",color:"text.secondary"},children:["\xa0(",e.roundId,")"]})]}),(0,s.jsx)(a.default,{sx:{borderLeft:{xs:0,sm:1},pl:{xs:0,sm:2},pr:{xs:0,sm:2},my:2,borderLeftColor:`${(0,X.qY)(e.status)}.main`},children:(0,s.jsx)(Y,{round:e,t:c})},t)]},t))]})}},41624:(e,t,r)=>{Promise.resolve().then(r.bind(r,11180)),Promise.resolve().then(r.bind(r,88675)),Promise.resolve().then(r.bind(r,40282)),Promise.resolve().then(r.bind(r,30668)),Promise.resolve().then(r.bind(r,77425)),Promise.resolve().then(r.bind(r,6670)),Promise.resolve().then(r.bind(r,83904)),Promise.resolve().then(r.bind(r,43709)),Promise.resolve().then(r.bind(r,11376)),Promise.resolve().then(r.bind(r,9702)),Promise.resolve().then(r.t.bind(r,29950,23))},41692:e=>{"use strict";e.exports=require("node:tls")},42902:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(78367).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/campwiz-frontend/campwiz-frontend/node_modules/@mui/icons-material/esm/Rule.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/node_modules/@mui/icons-material/esm/Rule.js","default")},44708:e=>{"use strict";e.exports=require("node:https")},45771:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(78367);(0,s.registerClientReference)(function(){throw Error("Attempted to call TypographyRoot() from the server but TypographyRoot is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/node_modules/@mui/material/Typography/Typography.js","TypographyRoot");let n=(0,s.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/campwiz-frontend/campwiz-frontend/node_modules/@mui/material/Typography/Typography.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/node_modules/@mui/material/Typography/Typography.js","default")},46211:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(41388),n=r(49431);let a=(0,s.A)((0,n.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow")},47002:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=47002,e.exports=t},47147:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(78367).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/campwiz-frontend/campwiz-frontend/node_modules/@mui/icons-material/esm/DateRange.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/node_modules/@mui/icons-material/esm/DateRange.js","default")},48161:e=>{"use strict";e.exports=require("node:os")},51969:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(78367).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/EditButton.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/EditButton.tsx","default")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},53316:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.default,__next_app__:()=>c,pages:()=>d,routeModule:()=>u,tree:()=>l});var s=r(72787),n=r(35964),a=r(19808),o=r(38441),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let l={children:["",{children:["campaign",{children:["[campaignId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,72248)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5896)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,17988)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,61892)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/loading.tsx"],"global-error":[()=>Promise.resolve().then(r.bind(r,19808)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,47260)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39755,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,37648,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/campaign/[campaignId]/page",pathname:"/campaign/[campaignId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},55511:e=>{"use strict";e.exports=require("crypto")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57342:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(78367).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/campwiz-frontend/campwiz-frontend/node_modules/@mui/material/Chip/Chip.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/node_modules/@mui/material/Chip/Chip.js","default")},57975:e=>{"use strict";e.exports=require("node:util")},60846:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var s=r(27490),n=r(27044),a=r(63416),o=r(9702),i=r(88277),l=r(5016),d=r(58704),c=r(88925),u=r(49431);let p=e=>{let{classes:t}=e;return(0,a.A)({root:["root"]},d.t,t)},m=(0,i.default)(o.default,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),f=s.forwardRef(function(e,t){let r=(0,l.b)({props:e,name:"MuiDialogTitle"}),{className:a,id:o,...i}=r,d=p(r),{titleId:f=o}=s.useContext(c.A);return(0,u.jsx)(m,{component:"h2",className:(0,n.A)(d.root,a),ownerState:r,ref:t,variant:"h6",id:o??f,...i})})},60982:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(78367).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/ArchiveUnArchiveButton.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/ArchiveUnArchiveButton.tsx","default")},61113:(e,t,r)=>{"use strict";r.d(t,{t:()=>V,A:()=>_});var s=r(49431),n=r(27490),a=r(42515);let o=(0,a.createServerReference)("7f2992652aadd87978cc889dcf9508e96af4ee0b2d",a.callServer,void 0,a.findSourceMapURL,"default");var i=r(35757),l=r(43709);let d=({taskId:e,onSuccess:t})=>{let[r,a]=(0,n.useState)("pending"),[o,d]=(0,n.useState)(0),[c,u]=(0,n.useState)(0);return(0,n.useEffect)(()=>{if(!e)return;let r=new EventSource(`/task/${e}`);return console.log("Connecting to SSE server.",r),r.addEventListener("task",e=>{let s=JSON.parse(e.data);a(s.status),d(s.successCount),u(s.failedCount),"error"==s.status&&r.close(),"success"==s.status&&(console.log("Task completed",s),r.close(),t(s))}),r.onerror=()=>{console.error("Error connecting to SSE server."),a("error"),r.close()},()=>{r.close()}},[t,e]),(0,s.jsxs)(s.Fragment,{children:["pending"==r&&(0,s.jsx)(i.default,{src:"/lottie/importing.lottie"}),"success"==r&&(0,s.jsx)(i.default,{src:"/lottie/success.lottie"}),"error"==r&&(0,s.jsx)(i.default,{src:"/lottie/error.lottie"}),(0,s.jsxs)("div",{className:"flex flex-row items-center justify-around",children:[(0,s.jsx)(l.default,{label:`Success: ${o}`,color:"success"}),(0,s.jsx)(l.default,{label:`Failed: ${c}`,color:"error"})]})]})};var c=r(37760),u=r(17337),p=r(81844),m=r(79925),f=r(34062),h=r(27044),x=r(63416),v=r(73736),j=r(9702),b=r(83317),g=r(88277),y=r(5016),A=r(94342),w=r(59876);let C=e=>{let{classes:t,inset:r,primary:s,secondary:n,dense:a}=e;return(0,x.A)({root:["root",r&&"inset",a&&"dense",s&&n&&"multiline"],primary:["primary"],secondary:["secondary"]},A.b,t)},k=(0,g.default)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${A.A.primary}`]:t.primary},{[`& .${A.A.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${v.A.root}:where(& .${A.A.primary})`]:{display:"block"},[`.${v.A.root}:where(& .${A.A.secondary})`]:{display:"block"},variants:[{props:({ownerState:e})=>e.primary&&e.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:56}}]}),S=n.forwardRef(function(e,t){let r=(0,y.b)({props:e,name:"MuiListItemText"}),{children:a,className:o,disableTypography:i=!1,inset:l=!1,primary:d,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:p,slots:m={},slotProps:f={},...x}=r,{dense:v}=n.useContext(b.A),g=null!=d?d:a,A=u,S={...r,disableTypography:i,inset:l,primary:!!g,secondary:!!A,dense:v},I=C(S),z={slots:m,slotProps:{primary:c,secondary:p,...f}},[R,E]=(0,w.A)("root",{className:(0,h.A)(I.root,o),elementType:k,externalForwardedProps:{...z,...x},ownerState:S,ref:t}),[M,T]=(0,w.A)("primary",{className:I.primary,elementType:j.default,externalForwardedProps:z,ownerState:S}),[P,D]=(0,w.A)("secondary",{className:I.secondary,elementType:j.default,externalForwardedProps:z,ownerState:S});return null==g||g.type===j.default||i||(g=(0,s.jsx)(M,{variant:v?"body2":"body1",component:T?.variant?void 0:"span",...T,children:g})),null==A||A.type===j.default||i||(A=(0,s.jsx)(P,{variant:"body2",color:"textSecondary",...D,children:A})),(0,s.jsxs)(R,{...E,children:[g,A]})});var I=r(87472),z=r(43340);let R={src:"/_next/static/media/commons2server.0033afc3.svg"};var E=r(22114),M=r(88673),T=r(65268);let P=e=>(0,s.jsx)(T.A,{...e,children:(0,s.jsx)("path",{d:"M12,3C8.59,3 5.69,4.07 4.54,5.57L9.79,10.82C10.5,10.93 11.22,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M3.92,7.08L2.5,8.5L5,11H0V13H5L2.5,15.5L3.92,16.92L8.84,12M20,9C20,11.21 16.42,13 12,13C11.34,13 10.7,12.95 10.09,12.87L7.62,15.34C8.88,15.75 10.38,16 12,16C16.42,16 20,14.21 20,12M20,14C20,16.21 16.42,18 12,18C9.72,18 7.67,17.5 6.21,16.75L4.53,18.43C5.68,19.93 8.59,21 12,21C16.42,21 20,19.21 20,17"})});var D=r(77885);let H=({alreadyIncludedCategories:e,onSave:t,saving:r=!1})=>{let[a,o]=(0,n.useState)(new Set(e)),i=[...a].sort(),[l,d]=(0,n.useState)(""),h=l.replace(/^ *[Cc]ategory *:/i,""),x=`https://commons.wikimedia.org/w/api.php?action=query&format=json&list=allcategories&formatversion=2&acprefix=${h}&origin=*&aclimit=10&acprop=size`,{data:v,isLoading:j,error:b}=(0,M.Ay)(h?x:null,async e=>{let t=await fetch(e);return(await t.json()).query.allcategories.map(e=>e.category)});return(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)(E.default,{src:R.src,alt:"Import from Commons Representational Image",width:400,height:186,style:{margin:1,display:"block",textAlign:"center"}}),b&&(0,s.jsx)("div",{children:"Failed to load"}),(0,s.jsx)(c.A,{id:"categories",options:v||[],filterSelectedOptions:!0,value:"",onError:e=>console.error(e),disabled:r,loading:j,onChange:(e,t)=>{t&&o(new Set(a.add(t))),d("")},renderInput:e=>(0,s.jsx)(u.A,{...e,variant:"outlined",label:"Categories (Without Category: Prefix)",placeholder:"Categories",value:l,onChange:e=>d(e.target.value.trim().replace(/^[Cc]ategory:/,"")),disabled:r,helperText:"Type a category name to search (Without Category: Prefix)"})}),(0,s.jsx)(p.A,{children:i.map((e,t)=>(0,s.jsx)(m.Ay,{secondaryAction:(0,s.jsx)(f.A,{onClick:()=>o(new Set(i.filter(t=>t!==e))),color:"error",disabled:r,children:(0,s.jsx)(D.A,{})}),sx:{border:1,borderColor:"grey.300",borderRadius:5,margin:1,backgroundColor:"#00669926"},children:(0,s.jsx)(S,{primary:e})},t))}),(0,s.jsxs)(I.default,{startIcon:(0,s.jsx)(P,{}),variant:"contained",onClick:()=>t(i),disabled:0===i.length||r,children:[r&&(0,s.jsx)(z.A,{size:20,color:"inherit",sx:{display:r?"inline-block":"none"}}),"Import"]})]})};var L=r(98568),O=r(60846),q=r(49484),$=r(11711);let V=({onClose:e,round:t,task:r})=>(0,s.jsxs)(L.A,{open:!0,onClose:e,children:[(0,s.jsx)(O.A,{children:"Import successful"}),(0,s.jsxs)(q.A,{children:[(0,s.jsxs)("p",{children:["Importing from ",t.name," was successful."]}),(0,s.jsxs)("p",{children:["Task ID: ",r.taskId]}),(0,s.jsxs)(j.default,{variant:"body1",gutterBottom:!0,children:["Total Imported Submissions: ",r.successCount]}),(0,s.jsxs)(j.default,{variant:"body1",gutterBottom:!0,children:["Total Failed Submissions: ",r.failedCount]}),"object"==typeof r.failedIds&&(0,s.jsxs)(j.default,{variant:"body1",gutterBottom:!0,children:["Following files have been skipped:",(0,s.jsx)("ul",{children:Object.keys(r.failedIds).map(e=>(0,s.jsxs)("li",{children:[e," - ",r.failedIds[e]]},e))})]})]}),(0,s.jsx)($.A,{children:(0,s.jsx)(I.default,{onClick:e,variant:"outlined",color:"error",children:"Close Dialog"})})]}),_=({roundId:e,importing:t,setImporting:r,afterImport:a})=>{let[l,c]=(0,n.useState)(""),u=async t=>{try{r(!0);let s=await o(e,t);if("detail"in s)throw Error(s.detail);c(s.data.taskId)}catch(e){console.error(e)}finally{r(!1)}};return l?(0,s.jsx)(d,{taskId:l,onSuccess:a}):(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(i.default,{src:"/lottie/importing.lottie"}),children:(0,s.jsx)(H,{onSave:u,alreadyIncludedCategories:[],saving:t})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66057:(e,t,r)=>{"use strict";r.d(t,{F:()=>n,z:()=>s});var s=function(e){return e.AUDIO="AUDIO",e.VIDEO="VIDEO",e.IMAGE="BITMAP",e.ARTICLE="ARTICLE",e.DRAWING="DRAWING",e}({}),n=function(e){return e.BINARY="binary",e.RANKING="ranking",e.SCORE="score",e}({})},67879:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(49431),n=r(98568),a=r(60846),o=r(49484),i=r(11711),l=r(87472),d=r(27490),c=r(61113);let u=({round:e,onClose:t,distribute:r})=>{let[u,p]=(0,d.useState)(!1);return(0,s.jsxs)(n.A,{open:!0,onClose:t,children:[(0,s.jsx)(a.A,{children:"Import from Commons"}),(0,s.jsx)(o.A,{children:(0,s.jsx)(c.A,{roundId:e.roundId,importing:u,setImporting:p,afterImport:r})}),(0,s.jsx)(i.A,{children:(0,s.jsx)(l.default,{onClick:t,variant:"outlined",color:"error",disabled:u,loading:u,children:"Close Dialog"})})]})}},72248:(e,t,r)=>{"use strict";let s;r.r(t),r.d(t,{default:()=>E,generateImageMetadata:()=>z,generateMetadata:()=>I,generateViewport:()=>R});var n=r(63033),a=r(69929),o=r(10062);r(7238);var i=r(98644),l=r(2064),d=r(8516),c=r(45771),u=r(57342),p=r(81124),m=r(47147),f=r(42902),h=r(51969),x=r(23848);let v=({description:e,label:t="Guidelines",Icon:r=x.default})=>(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"left"},children:[(0,a.jsx)(r,{sx:{display:"inline-block",mr:1},fontSize:"large"}),(0,a.jsxs)("div",{style:{display:"inline-block"},children:[(0,a.jsx)(c.default,{variant:"h6",sx:{mb:0},component:"div",children:t}),(0,a.jsx)(c.default,{variant:"body1",sx:{mb:2,mt:-.5,overflowWrap:"anywhere",textWrap:"balance",wordWrap:"break-word"},component:"div",children:e})]})]});var j=r(33454),b=r(60982),g=r(93579),y=r(93666),A=r(68575);let w=async({params:e})=>{let t=await (0,l.A)(),{campaignId:r}=await e,s=new URLSearchParams;s.append("includeRoles","true"),s.append("includeProject","true"),s.append("includeRounds","true"),s.append("includeRoundRoles","true");let n=await (0,i.Ay)(`/campaign/${r}/?${s.toString()}`);if(!n)return null;if("detail"in n)return(0,a.jsxs)("p",{children:["Error : ",n.detail]});let o=n.data,u=null!==o.archivedAt,x=t&&(t.permission&t.permissionMap.PermissionOtherProjectAccess)===t.permissionMap.PermissionOtherProjectAccess||t?.projectId===o.projectId,y=t?.projectId===o.projectId;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.default,{returnTo:"/"}),(0,a.jsxs)(d.default,{sx:{p:{xs:1,sm:2},m:1},children:[(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,a.jsxs)(c.default,{variant:"h4",sx:{overflowWrap:"anywhere"},children:[o.name,(0,a.jsxs)(c.default,{variant:"subtitle1",color:"textDisabled",component:"b",sx:{display:"inline"},children:["(",o.campaignId,")"]})]}),(0,a.jsxs)("div",{children:[y&&(0,a.jsx)(b.default,{campaignId:o.campaignId,isArchived:u,campaignName:o.name}),!u&&x&&(0,a.jsx)(h.default,{campaignId:o.campaignId})]})]}),(0,a.jsx)("br",{}),(0,a.jsx)(v,{description:`${new Date(o.startDate).toDateString()} - ${new Date(o.endDate).toDateString()}`,label:"Duration",Icon:m.default}),(0,a.jsx)(v,{description:o.description,label:"Description"}),(0,a.jsx)(v,{description:o.rules,label:"Rules",Icon:f.default}),(0,a.jsx)(C,{coordinators:o.coordinators}),(0,a.jsx)("br",{}),(0,a.jsx)(p.default,{rounds:o.rounds,campaign:o,session:t,isCoordinator:o.coordinators?.includes(t?.username||"")===!0,isArchived:u})]}),(0,a.jsx)(g.A,{})]})},C=({coordinators:e})=>e?(0,a.jsxs)(c.default,{variant:"h6",children:["Coordinators: \xa0",e.map((e,t)=>(0,a.jsx)(u.default,{label:e,sx:{m:.5}},t))]}):(0,a.jsx)(c.default,{variant:"h4",children:"No coordinators"});(0,y.D)([w]),(0,o.A)(w,"7f49597575d2bc261afa26154db61807b50aaad6e4",null);let k={...n},S="workUnitAsyncStorage"in k?k.workUnitAsyncStorage:"requestAsyncStorage"in k?k.requestAsyncStorage:void 0;s=new Proxy(w,{apply:(e,t,r)=>{let s,n,a;try{let e=S?.getStore();s=e?.headers.get("sentry-trace")??void 0,n=e?.headers.get("baggage")??void 0,a=e?.headers}catch(e){}return A.wrapServerComponentWithSentry(e,{componentRoute:"/campaign/[campaignId]",componentType:"Page",sentryTraceHeader:s,baggageHeader:n,headers:a}).apply(t,r)}});let I=void 0,z=void 0,R=void 0,E=s},73024:e=>{"use strict";e.exports=require("node:fs")},73566:e=>{"use strict";e.exports=require("worker_threads")},74998:e=>{"use strict";e.exports=require("perf_hooks")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},77425:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(41388),n=r(49431);let a=(0,s.A)((0,n.jsx)("path",{d:"M9 11H7v2h2zm4 0h-2v2h2zm4 0h-2v2h2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V9h14z"}),"DateRange")},77885:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(41388),n=r(49431);let a=(0,s.A)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80481:e=>{"use strict";e.exports=require("node:readline")},81124:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(78367).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/roundTimeline.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/app/campaign/[campaignId]/roundTimeline.tsx","default")},83904:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(41388),n=r(49431);let a=(0,s.A)((0,n.jsx)("path",{d:"M16.54 11 13 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41zM11 7H2v2h9zm10 6.41L19.59 12 17 14.59 14.41 12 13 13.41 15.59 16 13 18.59 14.41 20 17 17.41 19.59 20 21 18.59 18.41 16zM11 15H2v2h9z"}),"Rule")},83997:e=>{"use strict";e.exports=require("tty")},84091:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var s=r(49431),n=r(27490),a=r(98568),o=r(60846),i=r(49484),l=r(9702),d=r(37776),c=r(64352),u=r(11711),p=r(87472),m=r(13418),f=r(10335);let h=({juries:e,roundId:t,afterDistribution:r,onClose:h})=>{let[x,v]=(0,n.useState)(e.reduce((e,t)=>({...e,[t]:!0}),{})),j=Object.keys(x).filter(e=>x[e]),[b,g]=(0,n.useState)(!1),[y,A]=(0,n.useState)(null),w=async()=>{if(!j||0===j.length||!t)throw Error("Round not created yet");g(!0);let e=await (0,f.A)(t,j);if("detail"in e)throw Error(e.detail);A(e.data)};return(0,s.jsxs)(a.A,{open:!0,onClose:h,children:[(0,s.jsx)(o.A,{children:"Distribute Task"}),(0,s.jsx)(i.A,{children:b&&y?(0,s.jsx)(m.A,{taskId:y.taskId,onSuccess:e=>{g(!1),r(e)}}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.default,{variant:"h5",component:"h2",gutterBottom:!0,sx:{textAlign:"center"},children:"Task Distribute"}),(0,s.jsx)(l.default,{variant:"subtitle1",gutterBottom:!0,sx:{textAlign:"center",color:"text.secondary"},children:"Select the juries to distribute the task"}),(0,s.jsx)(d.A,{control:(0,s.jsx)(c.A,{checked:j.length===e.length,onChange:t=>v(e.reduce((e,r)=>({...e,[r]:t.target.checked}),{})),name:"all"}),label:"All"}),(0,s.jsx)("br",{}),e.map(e=>(0,s.jsx)(d.A,{control:(0,s.jsx)(c.A,{checked:x[e],onChange:t=>v({...x,[e]:t.target.checked}),name:e}),label:e},e))]})}),(0,s.jsxs)(u.A,{children:[(0,s.jsx)(p.default,{onClick:h,children:"Cancel"}),(0,s.jsx)(p.default,{onClick:w,variant:"contained",color:"primary",sx:{marginTop:"1rem"},loading:b,disabled:b,children:"Distribute"})]})]})}},84297:e=>{"use strict";e.exports=require("async_hooks")},86592:e=>{"use strict";e.exports=require("node:inspector")},88675:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(49431),n=r(49630),a=r(94167);let o=({campaignId:e})=>(0,s.jsx)(a.default,{label:"Edit",link:`/campaign/${e}/edit`,startIcon:(0,s.jsx)(n.A,{}),variant:"outlined",color:"primary",sx:{borderRadius:3}})},91361:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"6070dc5bab919eb75a74cd481130eea0e7254e4903":()=>n._1,"7054a231badeb0f8cd3d3621c41ef80fbff1e7866c":()=>i.V,"7f49597575d2bc261afa26154db61807b50aaad6e4":()=>s.default,"7f63b9137fe0719f43aac6c2c067fbeca98771df9c":()=>a.A,"7fa8fce456b40602ad1b55cd792025843697a22593":()=>n.t2,"7fdadbeee5140d04dc8643d8360b13e3285fc0fc6d":()=>n.Ay,"7ff0ae7bf148a0a6dc8180cb7ff0128141d370dcf2":()=>o.A,"7ff8556083af83549524853a21f33044fa2c86b4cf":()=>n.ky});var s=r(72248),n=r(98644),a=r(2064),o=r(93579),i=r(70956)},94167:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(49431),n=r(93073),a=r(87472),o=r(34062),i=r(29950),l=r.n(i);let d=({link:e,endIcon:t,startIcon:r,label:i,onClick:d,disabled:c=!1,loading:u=!1,size:p="medium",variant:m="contained",color:f="primary",sx:h,className:x,alwaysBig:v=!1,smallIcon:j})=>{let b=(0,n.A)(e=>e.breakpoints.down("sm"));return e?(0,s.jsx)(l(),{href:e,children:v||!b?(0,s.jsx)(a.default,{variant:m,color:f,size:p,startIcon:r,endIcon:t,onClick:d,disabled:c||u,sx:{...h||{},cursor:u?"not-allowed":"pointer"},className:x,children:i}):(0,s.jsx)(o.A,{disabled:c||u,sx:{...h||{},cursor:u?"not-allowed":"pointer"},className:x,color:f,onClick:d,children:j||r||t})}):v||!b?(0,s.jsx)(a.default,{variant:m,color:f,size:p,startIcon:r,endIcon:t,onClick:d,disabled:c||u,sx:{...h||{},cursor:u?"not-allowed":"pointer"},className:x,children:i}):(0,s.jsx)(o.A,{disabled:c||u,sx:{...h||{},cursor:u?"not-allowed":"pointer"},className:x,onClick:d,color:f,children:j||r||t})}},94342:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,b:()=>a});var s=r(80622),n=r(30566);function a(e){return(0,n.Ay)("MuiListItemText",e)}let o=(0,s.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[5811,280,8655,2014,9950,7472,4456,2751,4876,3709,7362,7337,8673,410,347,7760,2724,2139,4626,4904],()=>r(53316));module.exports=s})();
//# sourceMappingURL=page.js.map