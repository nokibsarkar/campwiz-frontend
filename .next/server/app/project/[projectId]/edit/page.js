try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e626a512-00c2-42ae-a884-20ebd6cfaee1",e._sentryDebugIdIdentifier="sentry-dbid-e626a512-00c2-42ae-a884-20ebd6cfaee1")}catch(e){}(()=>{var e={};e.id=9818,e.ids=[9818],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27107:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(41388),s=r(49431);let i=(0,o.A)((0,s.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},28354:e=>{"use strict";e.exports=require("util")},28368:(e,t,r)=>{Promise.resolve().then(r.bind(r,68272))},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30136:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.default,__next_app__:()=>c,pages:()=>l,routeModule:()=>u,tree:()=>d});var o=r(72787),s=r(35964),i=r(19808),n=r(38441),a={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>n[e]);r.d(t,a);let d={children:["",{children:["project",{children:["[projectId]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,66687)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/project/[projectId]/edit/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5896)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,17988)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,61892)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/loading.tsx"],"global-error":[()=>Promise.resolve().then(r.bind(r,19808)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,47260)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39755,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,37648,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["/home/runner/work/campwiz-frontend/campwiz-frontend/app/project/[projectId]/edit/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/project/[projectId]/edit/page",pathname:"/project/[projectId]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},31421:e=>{"use strict";e.exports=require("node:child_process")},33873:e=>{"use strict";e.exports=require("path")},35672:(e,t,r)=>{"use strict";r.d(t,{U2:()=>s,x6:()=>i,yM:()=>o});let o={logoUrl:"",name:"",projectId:"",projectLeads:[],url:""},s=(e,t)=>({...e,...t}),i=(e,t)=>({...e,...t})},35958:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o={src:"/_next/static/media/red-hill.aeaf1ca6.svg",height:768,width:1296,blurWidth:0,blurHeight:0}},36686:e=>{"use strict";e.exports=require("diagnostics_channel")},37067:e=>{"use strict";e.exports=require("node:http")},38522:e=>{"use strict";e.exports=require("node:zlib")},41692:e=>{"use strict";e.exports=require("node:tls")},44708:e=>{"use strict";e.exports=require("node:https")},48161:e=>{"use strict";e.exports=require("node:os")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},53232:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var o=r(2064);let s=async e=>{let t={reason:null,session:null,canAccessOtherProject:!1},r=await (0,o.A)();if(t.session=r,!r)return t.reason="Not Logged In",t;let s=(r.permission&r.permissionMap.PermissionOtherProjectAccess)===r.permissionMap.PermissionOtherProjectAccess;return t.canAccessOtherProject=s,s||r.projectId===e||(t.reason="Not allowed to access this project"),t}},55511:e=>{"use strict";e.exports=require("crypto")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66057:(e,t,r)=>{"use strict";r.d(t,{F:()=>s,z:()=>o});var o=function(e){return e.AUDIO="AUDIO",e.VIDEO="VIDEO",e.IMAGE="BITMAP",e.ARTICLE="ARTICLE",e.DRAWING="DRAWING",e}({}),s=function(e){return e.BINARY="binary",e.RANKING="ranking",e.SCORE="score",e}({})},66687:(e,t,r)=>{"use strict";let o;r.r(t),r.d(t,{default:()=>g,generateImageMetadata:()=>x,generateMetadata:()=>h,generateViewport:()=>m});var s=r(63033),i=r(69929),n=r(98644),a=r(68836),d=r(53232),l=r(68575);let c=async({params:e})=>{let{projectId:t}=await e,{reason:r}=await (0,d.A)(t);if(r)return(0,i.jsx)("div",{children:r});let o=await (0,n.Ay)(`/project/${t}?includeProjectLeads=true`);if("detail"in o)return(0,i.jsx)("div",{children:o.detail});let s=o.data;return s.projectLeads=s.projectLeads||[],(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.default,{initialProject:s})})},u={...s},p="workUnitAsyncStorage"in u?u.workUnitAsyncStorage:"requestAsyncStorage"in u?u.requestAsyncStorage:void 0;o=new Proxy(c,{apply:(e,t,r)=>{let o,s,i;try{let e=p?.getStore();o=e?.headers.get("sentry-trace")??void 0,s=e?.headers.get("baggage")??void 0,i=e?.headers}catch(e){}return l.wrapServerComponentWithSentry(e,{componentRoute:"/project/[projectId]/edit",componentType:"Page",sentryTraceHeader:o,baggageHeader:s,headers:i}).apply(t,r)}});let h=void 0,x=void 0,m=void 0,g=o},68272:(e,t,r)=>{"use strict";r.d(t,{default:()=>j});var o=r(49431),s=r(11376),i=r(9702),n=r(87472),a=r(27490),d=r(98321),l=r(75429),c=r(35672),u=r(11992),p=r(98533),h=r(35958),x=r(84494),m=r(27107),g=r(71817);let f=async(e,t)=>{if(""===e.name)throw Error("Project name cannot be empty");if(""===e.logoUrl)throw Error("Project logo cannot be empty");if(""===e.url)throw Error("Project website cannot be empty");if(""===e.projectId)throw Error("Project code cannot be empty");if(0===e.projectLeads.length)throw Error("At least one coordinator is required");let r=await (0,g.A)(`${t}?includeProjectLeads=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if("detail"in r)throw Error(r.detail);return r.data},b=(0,a.lazy)(()=>r.e(157).then(r.bind(r,157))),j=({initialProject:e})=>{let[t,r]=(0,a.useState)(null),[g,j]=(0,a.useReducer)(c.x6,e),w=`/project/${e.projectId}`,{data:v=null,trigger:y,isMutating:A,reset:q}=(0,u.A)(w,f.bind(null,g),{onError:r});return(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:`url(${h.default.src})`,backgroundSize:"cover"},children:(0,o.jsx)("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",backgroundColor:"rgba(255,255,255,0.4)",justifyContent:"center",alignItems:"center"},children:v?(0,o.jsx)(b,{...v,reset:()=>{j(e),q()}}):(0,o.jsxs)(s.default,{sx:{padding:2,px:3,width:"100%",maxWidth:800,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",borderRadius:6},children:[(0,o.jsx)(x.A,{}),(0,o.jsx)(i.default,{variant:"h3",sx:{mb:4,textAlign:"center",fontSize:{xs:24,sm:48}},children:"Update Project"}),A&&(0,o.jsx)(p.A,{src:"/lottie/creating.lottie"}),(0,o.jsx)(d.A,{...g,loading:A,dispatch:j,disbaleId:!0,autoSuggestId:!1}),t&&(0,o.jsx)(i.default,{variant:"body1",color:"error",sx:{mb:1},children:t.message}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10},children:[(0,o.jsx)(l.A,{disabled:A,sx:{m:0,borderRadius:10,px:2}}),(0,o.jsx)(n.default,{onClick:()=>y().catch(r),variant:"contained",color:"success",disabled:A,sx:{borderRadius:10},loading:A,startIcon:(0,o.jsx)(m.A,{}),children:"Update Project"})]})]})})})}},68836:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});let o=(0,r(78367).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/project/[projectId]/edit/_page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/app/project/[projectId]/edit/_page.tsx","default")},73024:e=>{"use strict";e.exports=require("node:fs")},73566:e=>{"use strict";e.exports=require("worker_threads")},74998:e=>{"use strict";e.exports=require("perf_hooks")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80481:e=>{"use strict";e.exports=require("node:readline")},83997:e=>{"use strict";e.exports=require("tty")},84297:e=>{"use strict";e.exports=require("async_hooks")},86592:e=>{"use strict";e.exports=require("node:inspector")},93520:(e,t,r)=>{Promise.resolve().then(r.bind(r,68836))},94735:e=>{"use strict";e.exports=require("events")},98321:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var o=r(49431),s=r(17337),i=r(27490),n=r(69876),a=r(66057),d=r(37760),l=r(22114),c=r(88673);let u=e=>{let[t,r]=(0,i.useState)(""),n=async e=>{let t=await fetch(e,{cache:"force-cache"}),r=await t.json();return(r?.query.allimages??[]).filter(e=>e.mediatype===a.z.IMAGE||e.mediatype===a.z.DRAWING)},{isLoading:u,data:p}=(0,c.Ay)(""===t?null:"https://commons.wikimedia.org/w/api.php?action=query&format=json&list=allimages&formatversion=2&aiprop=url|mediatype&origin=*&aiprefix="+t,n,{onLoadingSlow(e,t){console.log("loading slow",e,t)},revalidateOnFocus:!1,revalidateOnReconnect:!1});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.A,{id:e.label,options:p||[],getOptionLabel:e=>e.title,filterSelectedOptions:!0,value:p?.find(t=>t.url===e.value)||null,isOptionEqualToValue:(e,t)=>e.url===t.url,onError:e=>console.error(e),disabled:e.disabled,loading:u,onChange:(t,r)=>e.onChange(r?.url||""),sx:{mb:1,...e.sx||{}},renderInput:i=>(0,o.jsx)(s.A,{...i,variant:"outlined",label:e.label,placeholder:e.label,value:t,onChange:e=>r(e.target.value)})}),(0,o.jsx)(l.default,{src:e.value||"/logo.svg",alt:"Logo",width:e.width||100,height:e.height||100,style:{margin:"auto"},unoptimized:!0})]})},p=({dispatch:e,loading:t,disabled:r=!1,autoSuggestId:a=!0,disbaleId:d,...l})=>{let[c,p]=(0,i.useState)(!1);return(0,o.jsxs)("div",{children:[(0,o.jsx)(s.A,{label:"Name",variant:"outlined",sx:{mb:2,width:"100%"},onChange:t=>{e({name:t.target.value}),!c&&a&&e({projectId:t.target.value.toLowerCase().replace(/[^a-z0-9অ-ঔ০-৯]/g,"-").substring(0,50)})},value:l.name,disabled:t||r}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:10,flexFlow:"wrap"},children:[(0,o.jsx)(s.A,{label:"Project Code",variant:"outlined",sx:{mb:1,width:{xs:"100%",sm:"49%"}},onChange:t=>{p(!0),e({projectId:t.target.value})},value:l.projectId,disabled:t||r||d}),(0,o.jsx)(s.A,{label:"Website",variant:"outlined",sx:{mb:1,width:{xs:"100%",sm:"49%"}},onChange:t=>e({url:t.target.value}),value:l.url||"",disabled:t||r})]}),(0,o.jsx)(n.A,{value:l.projectLeads,onChange:t=>e({projectLeads:t}),label:"Project Leads",disabled:t||r,sx:{mb:2}}),(0,o.jsx)(u,{value:l.logoUrl,onChange:t=>e({logoUrl:t}),label:"Logo",disabled:t||r,sx:{mb:2},height:100,width:100})]})}},98533:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var o=r(49431),s=r(35757);let i=({src:e="/lottie/loading.lottie"})=>(0,o.jsx)("div",{className:"loading-popup fixed top-0 left-0 w-full h-full bg-transparent z-50 flex items-center justify-center flex-col backdrop-blur-[2px]",children:(0,o.jsx)(s.default,{src:e})})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[5811,280,8655,2014,9950,7472,4456,4876,3709,7337,8673,7760,4626,7165],()=>r(30136));module.exports=o})();
//# sourceMappingURL=page.js.map