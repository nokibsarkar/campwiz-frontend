try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="aab72d73-35f6-4373-ad4d-7131c70818cf",e._sentryDebugIdIdentifier="sentry-dbid-aab72d73-35f6-4373-ad4d-7131c70818cf")}catch(e){}(()=>{var e={};e.id=1780,e.ids=[1780],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:e=>{"use strict";e.exports=require("node:child_process")},33873:e=>{"use strict";e.exports=require("path")},35383:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});var n=t(41388),s=t(49431);let o=(0,n.A)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},36686:e=>{"use strict";e.exports=require("diagnostics_channel")},37067:e=>{"use strict";e.exports=require("node:http")},38522:e=>{"use strict";e.exports=require("node:zlib")},41692:e=>{"use strict";e.exports=require("node:tls")},44708:e=>{"use strict";e.exports=require("node:https")},46122:(e,r,t)=>{"use strict";t.d(r,{default:()=>n});let n=(0,t(78367).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/project/[projectId]/new/_page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/runner/work/campwiz-frontend/campwiz-frontend/app/project/[projectId]/new/_page.tsx","default")},48161:e=>{"use strict";e.exports=require("node:os")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},53232:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var n=t(2064);let s=async e=>{let r={reason:null,session:null,canAccessOtherProject:!1},t=await (0,n.A)();if(r.session=t,!t)return r.reason="Not Logged In",r;let s=(t.permission&t.permissionMap.PermissionOtherProjectAccess)===t.permissionMap.PermissionOtherProjectAccess;return r.canAccessOtherProject=s,s||t.projectId===e||(r.reason="Not allowed to access this project"),r}},55511:e=>{"use strict";e.exports=require("crypto")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},57978:(e,r,t)=>{"use strict";t.d(r,{default:()=>v});var n=t(49431),s=t(9702),o=t(87472),i=t(43340),a=t(71817);let d=async e=>{if(""===e.name)throw Error("Campaign name cannot be empty");if(""===e.description)throw Error("Campaign description cannot be empty");if(""===e.startDate)throw Error("Campaign start date cannot be empty");if(""===e.endDate)throw Error("Campaign end date cannot be empty");if(0===e.coordinators.length)throw Error("At least one coordinator is required");if(""===e.language)throw Error('You must select a language. If it is wikimedia Commons, select "commons"');let r=await (0,a.A)("/campaign/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if("detail"in r)throw Error(r.detail);return r.data};var c=t(27490),l=t(52721),p=t(43534),u=t(75429),h=t(11992),m=t(98533),x=t(35383),f=t(47135),g=t(84494),j=t(70574);let w=(0,c.lazy)(()=>t.e(8875).then(t.bind(t,8875))),v=({projectLeads:e,projectId:r})=>{let[t,a]=(0,c.useState)(null),[v,b]=(0,c.useReducer)(l.n,{...l.t,coordinators:e,projectId:r}),{data:y=null,trigger:q,isMutating:k}=(0,h.A)("/api/campaign",d.bind(null,v),{onError:a}),{t:A}=(0,j.B)();return(0,n.jsx)("div",{style:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",backgroundImage:`url(${f.A.src})`,backgroundRepeat:"repeat-y",backgroundSize:"cover"},children:(0,n.jsx)("div",{style:{width:"100%",display:"flex",height:"100%",backgroundColor:"rgba(255,255,255,0.4)",justifyContent:"center",alignItems:"center"},children:y?(0,n.jsx)(w,{...y}):(0,n.jsxs)("div",{className:"p-2 px-3 rounded-2xl w-full max-w-4xl relative h-max bg-[rgba(248,246,246,0.8)] dark:bg-[#2c2c2c] m-auto",children:[(0,n.jsx)(g.A,{}),(0,n.jsx)(s.default,{variant:"h3",sx:{mb:4,textAlign:"center",fontSize:{xs:24,sm:48}},children:A("campaign.createCampaign")}),k&&(0,n.jsx)(m.A,{src:"/lottie/creating.lottie"}),(0,n.jsx)(p.A,{...v,loading:k,dispatch:b}),t&&(0,n.jsx)(s.default,{variant:"body1",color:"error",sx:{mb:1},children:A(t.message)}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10},children:[(0,n.jsx)(u.A,{disabled:k,sx:{m:0,borderRadius:10,px:2}}),(0,n.jsxs)(o.default,{onClick:()=>q().catch(a),variant:"contained",color:"success",disabled:k,sx:{borderRadius:10},startIcon:(0,n.jsx)(x.default,{}),children:[(0,n.jsx)(i.A,{size:24,color:"inherit",sx:{display:k?"inline-block":"none",mr:1}}),A("campaign.createCampaign")]})]})]})})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67544:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>i,Ok:()=>o,eo:()=>n});let n=["en","bn","hi","mr","ta","kn","ml"],s="translation",o="i18next";function i(e="en",r=s){return{supportedLngs:n,fallbackLng:"en",lng:e,fallbackNS:s,defaultNS:s,ns:r}}},68174:(e,r,t)=>{Promise.resolve().then(t.bind(t,57978))},70574:(e,r,t)=>{"use strict";t.d(r,{B:()=>l});var n=t(27490),s=t(51943),o=t(1671),i=t(61757),a=t(6991),d=t(17901),c=t(67544);function l(e,r,t){(0,i.getCookie)(c.Ok);let s=(0,o.Bd)(r,t),{i18n:a}=s;if(e&&a.resolvedLanguage!==e)a.changeLanguage(e);else{let[e,r]=(0,n.useState)(a.resolvedLanguage)}return s}s.Ay.use(o.r9).use(d.A).use((0,a.A)((e,r)=>t(97080)(`./${e}/${r}.json`))).init({...(0,c.Ay)(),lng:void 0,detection:{order:["path","htmlTag","cookie","navigator"]},preload:c.eo})},72392:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.default,__next_app__:()=>l,pages:()=>c,routeModule:()=>p,tree:()=>d});var n=t(72787),s=t(35964),o=t(19808),i=t(38441),a={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>i[e]);t.d(r,a);let d={children:["",{children:["project",{children:["[projectId]",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,95337)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/project/[projectId]/new/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,5896)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,17988)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,61892)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/loading.tsx"],"global-error":[()=>Promise.resolve().then(t.bind(t,19808)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,47260)),"/home/runner/work/campwiz-frontend/campwiz-frontend/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,39755,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,37648,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/runner/work/campwiz-frontend/campwiz-frontend/app/project/[projectId]/new/page.tsx"],l={require:t,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/project/[projectId]/new/page",pathname:"/project/[projectId]/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},73024:e=>{"use strict";e.exports=require("node:fs")},73566:e=>{"use strict";e.exports=require("worker_threads")},74998:e=>{"use strict";e.exports=require("perf_hooks")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80481:e=>{"use strict";e.exports=require("node:readline")},83997:e=>{"use strict";e.exports=require("tty")},84297:e=>{"use strict";e.exports=require("async_hooks")},86592:e=>{"use strict";e.exports=require("node:inspector")},94735:e=>{"use strict";e.exports=require("events")},95337:(e,r,t)=>{"use strict";let n;t.r(r),t.d(r,{default:()=>f,generateImageMetadata:()=>m,generateMetadata:()=>h,generateViewport:()=>x});var s=t(63033),o=t(69929),i=t(46122),a=t(98644),d=t(53232),c=t(68575);let l=async({params:e})=>{let{projectId:r}=await e,{canAccessOtherProject:t,reason:n}=await (0,d.A)(r);if(n)return(0,o.jsx)("div",{children:n});if(!t)return(0,o.jsx)("div",{children:"You don't have access to this project"});let s=await (0,a.Ay)(`/project/${r}?includeProjectLeads=true`);if(!s)return(0,o.jsx)("div",{children:"Failed to fetch your project"});if("detail"in s)return(0,o.jsx)("div",{children:s.detail});let c=s.data.projectLeads||[];return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.default,{projectLeads:c,projectId:r})})},p={...s},u="workUnitAsyncStorage"in p?p.workUnitAsyncStorage:"requestAsyncStorage"in p?p.requestAsyncStorage:void 0;n=new Proxy(l,{apply:(e,r,t)=>{let n,s,o;try{let e=u?.getStore();n=e?.headers.get("sentry-trace")??void 0,s=e?.headers.get("baggage")??void 0,o=e?.headers}catch(e){}return c.wrapServerComponentWithSentry(e,{componentRoute:"/project/[projectId]/new",componentType:"Page",sentryTraceHeader:n,baggageHeader:s,headers:o}).apply(r,t)}});let h=void 0,m=void 0,x=void 0,f=n},97080:(e,r,t)=>{var n={"./ar/translation.json":[77820,7820],"./bn/translation.json":[45251,5251],"./de/translation.json":[96744,6744],"./en/translation.json":[8100,8100],"./es/translation.json":[13415,3415],"./hi/translation.json":[68512,8512],"./ja/translation.json":[50622,622],"./kn/translation.json":[68394,8394],"./ml/translation.json":[61818,1818],"./mni/translation.json":[82827,2827],"./mr/translation.json":[72864,2864],"./or/translation.json":[48426,8426],"./pa/translation.json":[48483,864],"./qqq/translation.json":[97692,7692],"./skr/translation.json":[30325,325],"./ta/translation.json":[83964,3964],"./te/translation.json":[12728,2728],"./ur/translation.json":[88760,8760],"./zh/translation.json":[88821,8821]};function s(e){if(!t.o(n,e))return Promise.resolve().then(()=>{var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r});var r=n[e],s=r[0];return t.e(r[1]).then(()=>t.t(s,19))}s.keys=()=>Object.keys(n),s.id=97080,e.exports=s},98438:(e,r,t)=>{Promise.resolve().then(t.bind(t,46122))},98533:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var n=t(49431),s=t(35757);let o=({src:e="/lottie/loading.lottie"})=>(0,n.jsx)("div",{className:"loading-popup fixed top-0 left-0 w-full h-full bg-transparent z-50 flex items-center justify-center flex-col backdrop-blur-[2px]",children:(0,n.jsx)(s.default,{src:e})})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[5811,280,8655,2014,9950,7472,4456,2751,4876,3709,7362,7337,8673,7760,4015,2724,4626,7557],()=>t(72392));module.exports=n})();
//# sourceMappingURL=page.js.map