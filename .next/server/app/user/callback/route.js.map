{"version":3,"file":"../app/user/callback/route.js","mappings":"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","sources":["webpack://campwiz-frontend/?711c","webpack://campwiz-frontend/../../../src/client/components/forbidden.ts","webpack://campwiz-frontend/external commonjs \"next/dist/server/app-render/after-task-async-storage.external.js\"","webpack://campwiz-frontend/external commonjs2 \"module\"","webpack://campwiz-frontend/../../../src/client/components/redirect.ts","webpack://campwiz-frontend/external commonjs \"next/dist/compiled/next-server/app-page.runtime.prod.js\"","webpack://campwiz-frontend/../../../src/client/components/navigation.react-server.ts","webpack://campwiz-frontend/../../../src/client/components/redirect-status-code.ts","webpack://campwiz-frontend/external commonjs \"require-in-the-middle\"","webpack://campwiz-frontend/external commonjs \"next/dist/server/app-render/action-async-storage.external.js\"","webpack://campwiz-frontend/external commonjs2 \"process\"","webpack://campwiz-frontend/external commonjs2 \"os\"","webpack://campwiz-frontend/../../../../src/shared/lib/lazy-dynamic/bailout-to-csr.ts","webpack://campwiz-frontend/external commonjs2 \"util\"","webpack://campwiz-frontend/external commonjs2 \"fs\"","webpack://campwiz-frontend/external commonjs \"next/dist/server/app-render/work-async-storage.external.js\"","webpack://campwiz-frontend/external node-commonjs \"node:child_process\"","webpack://campwiz-frontend/app/user/callback/route.ts","webpack://campwiz-frontend/sentry-wrapper-module","webpack://campwiz-frontend/?2f83","webpack://campwiz-frontend/external commonjs2 \"path\"","webpack://campwiz-frontend/external commonjs2 \"diagnostics_channel\"","webpack://campwiz-frontend/external node-commonjs \"node:http\"","webpack://campwiz-frontend/external node-commonjs \"node:zlib\"","webpack://campwiz-frontend/external node-commonjs \"node:tls\"","webpack://campwiz-frontend/./node_modules/next/dist/server/lib/router-utils/is-postpone.js","webpack://campwiz-frontend/external node-commonjs \"node:https\"","webpack://campwiz-frontend/./node_modules/@opentelemetry/instrumentation/build/esm/platform/node/ sync","webpack://campwiz-frontend/external commonjs \"next/dist/compiled/next-server/app-route.runtime.prod.js\"","webpack://campwiz-frontend/../../../../src/client/components/http-access-fallback/http-access-fallback.ts","webpack://campwiz-frontend/../../../src/client/components/not-found.ts","webpack://campwiz-frontend/external node-commonjs \"node:os\"","webpack://campwiz-frontend/../../../src/client/components/unauthorized.ts","webpack://campwiz-frontend/external node-commonjs \"node:diagnostics_channel\"","webpack://campwiz-frontend/external commonjs2 \"crypto\"","webpack://campwiz-frontend/external commonjs \"import-in-the-middle\"","webpack://campwiz-frontend/external node-commonjs \"node:stream\"","webpack://campwiz-frontend/external node-commonjs \"node:util\"","webpack://campwiz-frontend/../../../src/client/components/redirect-error.ts","webpack://campwiz-frontend/external commonjs \"next/dist/server/app-render/work-unit-async-storage.external.js\"","webpack://campwiz-frontend/./node_modules/next/dist/api/navigation.react-server.js","webpack://campwiz-frontend/./provider/session/action.ts","webpack://campwiz-frontend/external node-commonjs \"node:fs\"","webpack://campwiz-frontend/external commonjs2 \"worker_threads\"","webpack://campwiz-frontend/external commonjs2 \"perf_hooks\"","webpack://campwiz-frontend/external node-commonjs \"node:worker_threads\"","webpack://campwiz-frontend/external node-commonjs \"node:path\"","webpack://campwiz-frontend/external node-commonjs \"node:net\"","webpack://campwiz-frontend/../../../src/client/components/unstable-rethrow.ts","webpack://campwiz-frontend/external commonjs2 \"url\"","webpack://campwiz-frontend/external commonjs2 \"child_process\"","webpack://campwiz-frontend/external node-commonjs \"node:readline\"","webpack://campwiz-frontend/external commonjs2 \"tty\"","webpack://campwiz-frontend/external commonjs2 \"async_hooks\"","webpack://campwiz-frontend/external node-commonjs \"node:inspector\"","webpack://campwiz-frontend/../../../src/client/components/is-next-router-error.ts","webpack://campwiz-frontend/../../../src/client/components/unstable-rethrow.server.ts","webpack://campwiz-frontend/external commonjs2 \"events\"","webpack://campwiz-frontend/./server/index.ts"],"sourcesContent":["\nexport { loginInitiateAction as \"7f1d8fa935a8c622feb8053a08aead55265821636a\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/provider/session/action.ts\"\nexport { loginCallbackAction as \"7f38f2e8acb7a63e433a7cd5e60329bcf0cdceead2\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/provider/session/action.ts\"\nexport { default as \"7f77dc5127f297c8447118fbf11b44bff4c2483f84\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/provider/session/action.ts\"\nexport { fetchAPIFromBackendListWithErrorHandling as \"6070dc5bab919eb75a74cd481130eea0e7254e4903\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/server/index.ts\"\nexport { fetchFromBackend as \"7fa8fce456b40602ad1b55cd792025843697a22593\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/server/index.ts\"\nexport { default as \"7fdadbeee5140d04dc8643d8360b13e3285fc0fc6d\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/server/index.ts\"\nexport { getRawAPIPath as \"7ff8556083af83549524853a21f33044fa2c86b4cf\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/server/index.ts\"\n","import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `forbidden` docs\n/**\n * @experimental\n * This function allows you to render the [forbidden.js file](https://nextjs.org/docs/app/api-reference/file-conventions/forbidden)\n * within a route segment as well as inject a tag.\n *\n * `forbidden()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * Read more: [Next.js Docs: `forbidden`](https://nextjs.org/docs/app/api-reference/functions/forbidden)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};403`\n\nexport function forbidden(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`forbidden()\\` is experimental and only allowed to be enabled when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  // eslint-disable-next-line no-throw-literal\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n","module.exports = require(\"next/dist/server/app-render/after-task-async-storage.external.js\");","module.exports = require(\"module\");","import { RedirectStatusCode } from './redirect-status-code'\nimport {\n  RedirectType,\n  type RedirectError,\n  isRedirectError,\n  REDIRECT_ERROR_CODE,\n} from './redirect-error'\n\nconst actionAsyncStorage =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/action-async-storage.external') as typeof import('../../server/app-render/action-async-storage.external')\n      ).actionAsyncStorage\n    : undefined\n\nexport function getRedirectError(\n  url: string,\n  type: RedirectType,\n  statusCode: RedirectStatusCode = RedirectStatusCode.TemporaryRedirect\n): RedirectError {\n  const error = new Error(REDIRECT_ERROR_CODE) as RedirectError\n  error.digest = `${REDIRECT_ERROR_CODE};${type};${url};${statusCode};`\n  return error\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 307/303 to the caller.\n * - In a Server Action, type defaults to 'push' and 'replace' elsewhere.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function redirect(\n  /** The URL to redirect to */\n  url: string,\n  type?: RedirectType\n): never {\n  type ??= actionAsyncStorage?.getStore()?.isAction\n    ? RedirectType.push\n    : RedirectType.replace\n\n  throw getRedirectError(url, type, RedirectStatusCode.TemporaryRedirect)\n}\n\n/**\n * This function allows you to redirect the user to another URL. It can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a meta tag to redirect the user to the target page.\n * - In a Route Handler or Server Action, it will serve a 308/303 to the caller.\n *\n * Read more: [Next.js Docs: `redirect`](https://nextjs.org/docs/app/api-reference/functions/redirect)\n */\nexport function permanentRedirect(\n  /** The URL to redirect to */\n  url: string,\n  type: RedirectType = RedirectType.replace\n): never {\n  throw getRedirectError(url, type, RedirectStatusCode.PermanentRedirect)\n}\n\n/**\n * Returns the encoded URL from the error if it's a RedirectError, null\n * otherwise. Note that this does not validate the URL returned.\n *\n * @param error the error that may be a redirect error\n * @return the url if the error was a redirect error\n */\nexport function getURLFromRedirectError(error: RedirectError): string\nexport function getURLFromRedirectError(error: unknown): string | null {\n  if (!isRedirectError(error)) return null\n\n  // Slices off the beginning of the digest that contains the code and the\n  // separating ';'.\n  return error.digest.split(';').slice(2, -2).join(';')\n}\n\nexport function getRedirectTypeFromError(error: RedirectError): RedirectType {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return error.digest.split(';', 2)[1] as RedirectType\n}\n\nexport function getRedirectStatusCodeFromError(error: RedirectError): number {\n  if (!isRedirectError(error)) {\n    throw new Error('Not a redirect error')\n  }\n\n  return Number(error.digest.split(';').at(-2))\n}\n","module.exports = require(\"next/dist/compiled/next-server/app-page.runtime.prod.js\");","/** @internal */\nclass ReadonlyURLSearchParamsError extends Error {\n  constructor() {\n    super(\n      'Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams'\n    )\n  }\n}\n\nclass ReadonlyURLSearchParams extends URLSearchParams {\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  append() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  delete() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  set() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n  /** @deprecated Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams */\n  sort() {\n    throw new ReadonlyURLSearchParamsError()\n  }\n}\n\nexport { redirect, permanentRedirect } from './redirect'\nexport { RedirectType } from './redirect-error'\nexport { notFound } from './not-found'\nexport { forbidden } from './forbidden'\nexport { unauthorized } from './unauthorized'\nexport { unstable_rethrow } from './unstable-rethrow'\nexport { ReadonlyURLSearchParams }\n","export enum RedirectStatusCode {\n  SeeOther = 303,\n  TemporaryRedirect = 307,\n  PermanentRedirect = 308,\n}\n","module.exports = require(\"require-in-the-middle\");","module.exports = require(\"next/dist/server/app-render/action-async-storage.external.js\");","module.exports = require(\"process\");","module.exports = require(\"os\");","// This has to be a shared module which is shared between client component error boundary and dynamic component\nconst BAILOUT_TO_CSR = 'BAILOUT_TO_CLIENT_SIDE_RENDERING'\n\n/** An error that should be thrown when we want to bail out to client-side rendering. */\nexport class BailoutToCSRError extends Error {\n  public readonly digest = BAILOUT_TO_CSR\n\n  constructor(public readonly reason: string) {\n    super(`Bail out to client-side rendering: ${reason}`)\n  }\n}\n\n/** Checks if a passed argument is an error that is thrown if we want to bail out to client-side rendering. */\nexport function isBailoutToCSRError(err: unknown): err is BailoutToCSRError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === BAILOUT_TO_CSR\n}\n","module.exports = require(\"util\");","module.exports = require(\"fs\");","module.exports = require(\"next/dist/server/app-render/work-async-storage.external.js\");","module.exports = require(\"node:child_process\");","import { loginCallbackAction } from \"@/provider/session/action\";\nimport { NextRequest, NextResponse } from \"next/server\";\n\nexport const GET = async (req: NextRequest) => {\n    const scheme = req.headers.get('x-forwarded-proto') || 'http';\n    const host = req.headers.get('host') || 'localhost';\n    if (!host || !scheme) {\n        throw new Error('Missing host or scheme')\n    }\n    const origin = `${scheme}://${host}`;\n    if (!origin) {\n        throw new Error('Missing origin')\n    }\n    const searchParams = req.nextUrl.searchParams;\n    const code = searchParams.get('code');\n    if (!code) {\n        return NextResponse.redirect(new URL(`/user/callback/error?error=Missing code`, origin).toString());\n    }\n    const state = searchParams.get('state');\n    if (!state) {\n        return NextResponse.redirect(new URL(`/user/callback/error?error=Missing state`, origin).toString());\n    }\n    const res = await loginCallbackAction(code, state);\n    if ('detail' in res) {\n        const qs = new URLSearchParams({\n            error: res.detail,\n            state\n        }).toString();\n        const response = NextResponse.redirect(new URL(`/user/callback/error?${qs}`, origin).toString());\n        return response\n    }\n    const url = new URL(res.data.redirect, origin);\n    const response = NextResponse.redirect(url.toString());\n    return response\n}","import * as origModule from 'next/dist/server/app-render/work-unit-async-storage.external.js';\nimport * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport {} from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nimport * as Sentry from '@sentry/nextjs';\n\n// @ts-expect-error Because we cannot be sure if the RequestAsyncStorage module exists (it is not part of the Next.js public\n// API) we use a shim if it doesn't exist. The logic for this is in the wrapping loader.\n\nconst asyncStorageModule = { ...origModule } ;\n\nconst requestAsyncStorage =\n  'workUnitAsyncStorage' in asyncStorageModule\n    ? asyncStorageModule.workUnitAsyncStorage\n    : 'requestAsyncStorage' in asyncStorageModule\n      ? asyncStorageModule.requestAsyncStorage\n      : undefined;\n\nfunction wrapHandler(handler, method) {\n  // Running the instrumentation code during the build phase will mark any function as \"dynamic\" because we're accessing\n  // the Request object. We do not want to turn handlers dynamic so we skip instrumentation in the build phase.\n  if (process.env.NEXT_PHASE === 'phase-production-build') {\n    return handler;\n  }\n\n  if (typeof handler !== 'function') {\n    return handler;\n  }\n\n  return new Proxy(handler, {\n    apply: (originalFunction, thisArg, args) => {\n      let headers = undefined;\n\n      // We try-catch here just in case the API around `requestAsyncStorage` changes unexpectedly since it is not public API\n      try {\n        const requestAsyncStore = requestAsyncStorage?.getStore() ;\n        headers = requestAsyncStore?.headers;\n      } catch (e) {\n        /** empty */\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return Sentry.wrapRouteHandlerWithSentry(originalFunction , {\n        method,\n        parameterizedRoute: '/user/callback',\n        headers,\n      }).apply(thisArg, args);\n    },\n  });\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst GET = wrapHandler(serverComponentModule.GET , 'GET');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst POST = wrapHandler(serverComponentModule.POST , 'POST');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst PUT = wrapHandler(serverComponentModule.PUT , 'PUT');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst PATCH = wrapHandler(serverComponentModule.PATCH , 'PATCH');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst DELETE = wrapHandler(serverComponentModule.DELETE , 'DELETE');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst HEAD = wrapHandler(serverComponentModule.HEAD , 'HEAD');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst OPTIONS = wrapHandler(serverComponentModule.OPTIONS , 'OPTIONS');\n\nexport { DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT };\n","import { AppRouteRouteModule } from \"next/dist/server/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/server/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/server/lib/patch-fetch\";\nimport * as userland from \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/user/callback/route.ts\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/user/callback/route\",\n        pathname: \"/user/callback\",\n        filename: \"route\",\n        bundlePath: \"app/user/callback/route\"\n    },\n    resolvedPagePath: \"/home/runner/work/campwiz-frontend/campwiz-frontend/app/user/callback/route.ts\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return _patchFetch({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\nexport { routeModule, workAsyncStorage, workUnitAsyncStorage, serverHooks, patchFetch,  };\n\n//# sourceMappingURL=app-route.js.map","module.exports = require(\"path\");","module.exports = require(\"diagnostics_channel\");","module.exports = require(\"node:http\");","module.exports = require(\"node:zlib\");","module.exports = require(\"node:tls\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"isPostpone\", {\n    enumerable: true,\n    get: function() {\n        return isPostpone;\n    }\n});\nconst REACT_POSTPONE_TYPE = Symbol.for('react.postpone');\nfunction isPostpone(error) {\n    return typeof error === 'object' && error !== null && error.$$typeof === REACT_POSTPONE_TYPE;\n}\n\n//# sourceMappingURL=is-postpone.js.map","module.exports = require(\"node:https\");","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 44725;\nmodule.exports = webpackEmptyContext;","module.exports = require(\"next/dist/compiled/next-server/app-route.runtime.prod.js\");","export const HTTPAccessErrorStatus = {\n  NOT_FOUND: 404,\n  FORBIDDEN: 403,\n  UNAUTHORIZED: 401,\n}\n\nconst ALLOWED_CODES = new Set(Object.values(HTTPAccessErrorStatus))\n\nexport const HTTP_ERROR_FALLBACK_ERROR_CODE = 'NEXT_HTTP_ERROR_FALLBACK'\n\nexport type HTTPAccessFallbackError = Error & {\n  digest: `${typeof HTTP_ERROR_FALLBACK_ERROR_CODE};${string}`\n}\n\n/**\n * Checks an error to determine if it's an error generated by\n * the HTTP navigation APIs `notFound()`, `forbidden()` or `unauthorized()`.\n *\n * @param error the error that may reference a HTTP access error\n * @returns true if the error is a HTTP access error\n */\nexport function isHTTPAccessFallbackError(\n  error: unknown\n): error is HTTPAccessFallbackError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n  const [prefix, httpStatus] = error.digest.split(';')\n\n  return (\n    prefix === HTTP_ERROR_FALLBACK_ERROR_CODE &&\n    ALLOWED_CODES.has(Number(httpStatus))\n  )\n}\n\nexport function getAccessFallbackHTTPStatus(\n  error: HTTPAccessFallbackError\n): number {\n  const httpStatus = error.digest.split(';')[1]\n  return Number(httpStatus)\n}\n\nexport function getAccessFallbackErrorTypeByStatus(\n  status: number\n): 'not-found' | 'forbidden' | 'unauthorized' | undefined {\n  switch (status) {\n    case 401:\n      return 'unauthorized'\n    case 403:\n      return 'forbidden'\n    case 404:\n      return 'not-found'\n    default:\n      return\n  }\n}\n","import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n/**\n * This function allows you to render the [not-found.js file](https://nextjs.org/docs/app/api-reference/file-conventions/not-found)\n * within a route segment as well as inject a tag.\n *\n * `notFound()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n * - In a Server Component, this will insert a `<meta name=\"robots\" content=\"noindex\" />` meta tag and set the status code to 404.\n * - In a Route Handler or Server Action, it will serve a 404 to the caller.\n *\n * Read more: [Next.js Docs: `notFound`](https://nextjs.org/docs/app/api-reference/functions/not-found)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};404`\n\nexport function notFound(): never {\n  // eslint-disable-next-line no-throw-literal\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n\n  throw error\n}\n","module.exports = require(\"node:os\");","import {\n  HTTP_ERROR_FALLBACK_ERROR_CODE,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\n\n// TODO: Add `unauthorized` docs\n/**\n * @experimental\n * This function allows you to render the [unauthorized.js file](https://nextjs.org/docs/app/api-reference/file-conventions/unauthorized)\n * within a route segment as well as inject a tag.\n *\n * `unauthorized()` can be used in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers), and\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations).\n *\n *\n * Read more: [Next.js Docs: `unauthorized`](https://nextjs.org/docs/app/api-reference/functions/unauthorized)\n */\n\nconst DIGEST = `${HTTP_ERROR_FALLBACK_ERROR_CODE};401`\n\nexport function unauthorized(): never {\n  if (!process.env.__NEXT_EXPERIMENTAL_AUTH_INTERRUPTS) {\n    throw new Error(\n      `\\`unauthorized()\\` is experimental and only allowed to be used when \\`experimental.authInterrupts\\` is enabled.`\n    )\n  }\n\n  // eslint-disable-next-line no-throw-literal\n  const error = new Error(DIGEST) as HTTPAccessFallbackError\n  ;(error as HTTPAccessFallbackError).digest = DIGEST\n  throw error\n}\n","module.exports = require(\"node:diagnostics_channel\");","module.exports = require(\"crypto\");","module.exports = require(\"import-in-the-middle\");","module.exports = require(\"node:stream\");","module.exports = require(\"node:util\");","import { RedirectStatusCode } from './redirect-status-code'\n\nexport const REDIRECT_ERROR_CODE = 'NEXT_REDIRECT'\n\nexport enum RedirectType {\n  push = 'push',\n  replace = 'replace',\n}\n\nexport type RedirectError = Error & {\n  digest: `${typeof REDIRECT_ERROR_CODE};${RedirectType};${string};${RedirectStatusCode};`\n}\n\n/**\n * Checks an error to determine if it's an error generated by the\n * `redirect(url)` helper.\n *\n * @param error the error that may reference a redirect error\n * @returns true if the error is a redirect error\n */\nexport function isRedirectError(error: unknown): error is RedirectError {\n  if (\n    typeof error !== 'object' ||\n    error === null ||\n    !('digest' in error) ||\n    typeof error.digest !== 'string'\n  ) {\n    return false\n  }\n\n  const digest = error.digest.split(';')\n  const [errorCode, type] = digest\n  const destination = digest.slice(2, -2).join(';')\n  const status = digest.at(-2)\n\n  const statusCode = Number(status)\n\n  return (\n    errorCode === REDIRECT_ERROR_CODE &&\n    (type === 'replace' || type === 'push') &&\n    typeof destination === 'string' &&\n    !isNaN(statusCode) &&\n    statusCode in RedirectStatusCode\n  )\n}\n","module.exports = require(\"next/dist/server/app-render/work-unit-async-storage.external.js\");","export * from '../client/components/navigation.react-server';\n\n//# sourceMappingURL=navigation.react-server.js.map","\"use server\";\n\nimport fetchAPIFromBackendSingleWithErrorHandling from \"@/server\";\nimport { redirect } from \"next/navigation\";\n\ntype RedirectResponse = {\n    redirect: string\n}\nexport const loginInitiateAction = async (base: string, pathName: string | null) => {\n    const qs = `?next=${pathName || '/'}`\n    const res = await fetchAPIFromBackendSingleWithErrorHandling<RedirectResponse>('/user/login' + qs, {\n        cache: 'no-cache',\n        credentials: 'include',\n        redirect: 'manual',\n    });\n    if ('detail' in res) {\n        throw new Error(res.detail)\n    }\n    const location = res.data.redirect\n    if (!location) {\n        throw new Error('Location header missing')\n    }\n    return redirect(location)\n}\nexport const loginCallbackAction = async (code: string, state: string) => {\n    const qs = `?code=${code}&state=${state}`\n    const res = await fetchAPIFromBackendSingleWithErrorHandling<RedirectResponse>('/user/callback' + qs, {\n        cache: 'no-cache',\n        credentials: 'include',\n        redirect: 'manual',\n    });\n    return res\n}\nexport default loginInitiateAction","module.exports = require(\"node:fs\");","module.exports = require(\"worker_threads\");","module.exports = require(\"perf_hooks\");","module.exports = require(\"node:worker_threads\");","module.exports = require(\"node:path\");","module.exports = require(\"node:net\");","/**\n * This function should be used to rethrow internal Next.js errors so that they can be handled by the framework.\n * When wrapping an API that uses errors to interrupt control flow, you should use this function before you do any error handling.\n * This function will rethrow the error if it is a Next.js error so it can be handled, otherwise it will do nothing.\n *\n * Read more: [Next.js Docs: `unstable_rethrow`](https://nextjs.org/docs/app/api-reference/functions/unstable_rethrow)\n */\nexport const unstable_rethrow =\n  typeof window === 'undefined'\n    ? (\n        require('./unstable-rethrow.server') as typeof import('./unstable-rethrow.server')\n      ).unstable_rethrow\n    : (\n        require('./unstable-rethrow.browser') as typeof import('./unstable-rethrow.browser')\n      ).unstable_rethrow\n","module.exports = require(\"url\");","module.exports = require(\"child_process\");","module.exports = require(\"node:readline\");","module.exports = require(\"tty\");","module.exports = require(\"async_hooks\");","module.exports = require(\"node:inspector\");","import {\n  isHTTPAccessFallbackError,\n  type HTTPAccessFallbackError,\n} from './http-access-fallback/http-access-fallback'\nimport { isRedirectError, type RedirectError } from './redirect-error'\n\n/**\n * Returns true if the error is a navigation signal error. These errors are\n * thrown by user code to perform navigation operations and interrupt the React\n * render.\n */\nexport function isNextRouterError(\n  error: unknown\n): error is RedirectError | HTTPAccessFallbackError {\n  return isRedirectError(error) || isHTTPAccessFallbackError(error)\n}\n","import { isHangingPromiseRejectionError } from '../../server/dynamic-rendering-utils'\nimport { isPostpone } from '../../server/lib/router-utils/is-postpone'\nimport { isBailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { isNextRouterError } from './is-next-router-error'\nimport { isDynamicPostpone } from '../../server/app-render/dynamic-rendering'\nimport { isDynamicServerError } from './hooks-server-context'\n\nexport function unstable_rethrow(error: unknown): void {\n  if (\n    isNextRouterError(error) ||\n    isBailoutToCSRError(error) ||\n    isDynamicServerError(error) ||\n    isDynamicPostpone(error) ||\n    isPostpone(error) ||\n    isHangingPromiseRejectionError(error)\n  ) {\n    throw error\n  }\n\n  if (error instanceof Error && 'cause' in error) {\n    unstable_rethrow(error.cause)\n  }\n}\n","module.exports = require(\"events\");","\"use server\"\nimport { ResponseCookie } from \"next/dist/compiled/@edge-runtime/cookies\";\nimport { ResponseError, ResponseList, ResponseSingle } from \"../types/_\";\nimport { cookies, headers } from 'next/headers'\nimport * as Sentry from '@sentry/nextjs';\nconst baseURL = process.env.NEXT_BASE_URL || ''\nconst API_PATH = '/api/v2';\nconst parseCookieString = (cookieString: string): ResponseCookie => {\n    const parts = cookieString.split(';')\n    const cookie: ResponseCookie = {\n        name: '',\n        value: '',\n    }\n    for (const part of parts) {\n        const [key, value] = part.split('=')\n        switch (key.trim().toLowerCase()) {\n            case 'path':\n                cookie.path = value\n                break\n            case 'domain':\n                cookie.domain = value\n                break\n            case 'expires':\n                cookie.expires = value ? new Date(value) : undefined\n                break\n            case 'max-age':\n                cookie.maxAge = parseInt(value)\n                break\n            case 'secure':\n                cookie.secure = true\n                break\n            case 'httponly':\n                cookie.httpOnly = true\n                break\n            case 'samesite':\n                cookie.sameSite = value as 'strict' | 'lax' | 'none'\n                break\n            default:\n                cookie.name = key\n                cookie.value = value\n        }\n    }\n    return cookie\n}\nexport const fetchFromBackend = async (path: string, options?: RequestInit): Promise<Response> => {\n    const cookieStore = await cookies()\n    const headerStore = await headers()\n    const injectedHeaders: Record<string, string> = {\n        'X-Requested-With': 'fetchFromBackend',\n        'User-Agent': headerStore.get('user-agent') || 'From Backend',\n        'Accept': headerStore.get('accept') || 'application/json',\n        'Accept-Language': headerStore.get('accept-language') || 'en-US,en;q=0.9',\n        'Accept-Encoding': headerStore.get('accept-encoding') || 'gzip, deflate, br',\n        'Referer': headerStore.get('referer') || baseURL,\n        'Origin': headerStore.get('origin') || baseURL,\n        'X-CSRF-Token': headerStore.get('x-csrf-token') || '',\n        ...Sentry.getTraceData(),\n    }\n\n    if (options === undefined) {\n        options = {}\n    }\n    if (options.headers === undefined) {\n        options.headers = new Headers(injectedHeaders)\n    } else {\n        let headersObj: Headers;\n        if (options.headers instanceof Headers) {\n            headersObj = options.headers;\n        } else {\n            headersObj = new Headers(options.headers as Record<string, string>);\n        }\n        for (const [key, value] of headersObj.entries()) {\n            if (key.toLowerCase() === 'cookie') {\n                continue // Skip cookies from headers, we will handle them separately\n            } else {\n                injectedHeaders[key] = value as string\n            }\n        }\n        options.headers = new Headers(injectedHeaders)\n    }\n    options.headers.append('Cookie', cookieStore.toString())\n    if (!options.headers.has('Content-Type')) {\n        options.headers.append('Content-Type', 'application/json')\n    }\n    options.credentials = 'same-origin'\n    const res = await fetch(`${baseURL}${path}`, options)\n    for (const [key, value] of res.headers.entries()) {\n        if (key.toLowerCase() === 'set-cookie') {\n            const cookie = parseCookieString(value)\n            cookieStore.set(cookie)\n\n        }\n    }\n    return res\n}\nexport const getRawAPIPath = async function (path: string): Promise<string> {\n    const base = baseURL.search(/localhost/) === -1 ? baseURL : ''\n    return `${base}${API_PATH}${path}`\n}\nasync function fetchAPIFromBackendSingleWithErrorHandling<T>(path: string, req?: RequestInit): Promise<ResponseSingle<T> | ResponseError> {\n    try {\n        const res = await fetchFromBackend(`${API_PATH}${path}`, req)\n        const r = await res.json();\n        if (res.ok) {\n            return r\n        } else {\n            return {\n                detail: r.detail\n            }\n        }\n    } catch (e) {\n        return {\n            detail: (e as Error).message\n        }\n    }\n\n}\nexport async function fetchAPIFromBackendListWithErrorHandling<T>(path: string, req?: RequestInit): Promise<ResponseList<T> | ResponseError> {\n    try {\n        const res = await fetchFromBackend(`${API_PATH}${path}`, req)\n        const r = await res.json();\n        if (res.ok) {\n            return r\n        } else {\n            return {\n                detail: r.detail\n            }\n        }\n    } catch (e) {\n        return {\n            detail: (e as Error).message\n        }\n    }\n\n}\nexport default fetchAPIFromBackendSingleWithErrorHandling;\n"],"names":["forbidden","HTTP_ERROR_FALLBACK_ERROR_CODE","getRedirectError","getRedirectStatusCodeFromError","getRedirectTypeFromError","getURLFromRedirectError","permanentRedirect","redirect","actionAsyncStorage","require","undefined","url","type","statusCode","RedirectStatusCode","TemporaryRedirect","error","REDIRECT_ERROR_CODE","digest","getStore","isAction","RedirectType","push","replace","PermanentRedirect","isRedirectError","split","slice","join","Number","at","ReadonlyURLSearchParams","notFound","unauthorized","unstable_rethrow","ReadonlyURLSearchParamsError","Error","constructor","URLSearchParams","append","delete","set","sort","BailoutToCSRError","isBailoutToCSRError","BAILOUT_TO_CSR","reason","err","GET","req","scheme","headers","get","host","origin","searchParams","nextUrl","code","NextResponse","URL","toString","state","res","loginCallbackAction","qs","detail","response","data","serverComponentModule.GET","serverComponentModule.POST","serverComponentModule.PUT","serverComponentModule.PATCH","serverComponentModule.DELETE","serverComponentModule.OPTIONS","HTTPAccessErrorStatus","getAccessFallbackErrorTypeByStatus","getAccessFallbackHTTPStatus","isHTTPAccessFallbackError","NOT_FOUND","FORBIDDEN","UNAUTHORIZED","ALLOWED_CODES","Set","Object","values","prefix","httpStatus","has","status","DIGEST","errorCode","destination","isNaN","loginInitiateAction","base","pathName","fetchAPIFromBackendSingleWithErrorHandling","cache","credentials","location","isNextRouterError","isDynamicServerError","isDynamicPostpone","isPostpone","isHangingPromiseRejectionError","baseURL","process","env","NEXT_BASE_URL","API_PATH","parseCookieString","parts","cookieString","cookie","name","value","part","key","trim","toLowerCase","path","domain","expires","Date","maxAge","parseInt","secure","httpOnly","sameSite","fetchFromBackend","options","cookieStore","cookies","headerStore","injectedHeaders","Sentry","Headers","headersObj","entries","fetch","getRawAPIPath","search","r","json","ok","e","message","fetchAPIFromBackendListWithErrorHandling"],"sourceRoot":""}