{"version":3,"file":"7165.js","mappings":"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","sources":["webpack://campwiz-frontend/./server/session.ts","webpack://campwiz-frontend/./node_modules/swr/dist/mutation/index.mjs","webpack://campwiz-frontend/?577b","webpack://campwiz-frontend/./components/user/UserInput.tsx","webpack://campwiz-frontend/?76b9","webpack://campwiz-frontend/./components/ReturnButton.tsx","webpack://campwiz-frontend/./components/Logo.tsx","webpack://campwiz-frontend/./public/logo.svg","webpack://campwiz-frontend/./server/index.ts"],"sourcesContent":["'use server';\nimport fetchAPIFromBackendSingleWithErrorHandling from \"@/server\";\nimport { Session } from \"@/types/user/session\";\nimport { setUser } from \"@sentry/nextjs\";\nconst fetchSession = async () => {\n    const res = await fetchAPIFromBackendSingleWithErrorHandling<Session>(\"/user/me\", {\n        cache: 'force-cache',\n        next: {\n            revalidate: 5 * 60 * 1000, // 5 minutes\n            tags: ['user/me']\n        }\n    });\n    if ('detail' in res) {\n        return null;\n    }\n    const session = res.data;\n    if (session) {\n        console.log('Setting Sentry user:', session.id, session.username);\n        setUser({\n            id: session.id,\n            username: session.username,\n            data: {\n                permission: session.permission,\n                projectId: session.projectId,\n                registeredAt: session.registeredAt,\n            },\n        })\n    }\n    return session;\n}\nexport default fetchSession;","import React, { useState, useRef, useCallback } from 'react';\nimport useSWR, { useSWRConfig } from '../index/index.mjs';\nimport { IS_REACT_LEGACY, useIsomorphicLayoutEffect, withMiddleware, serialize, mergeObjects, getTimestamp, UNDEFINED } from '../_internal/index.mjs';\n\nconst startTransition = IS_REACT_LEGACY ? (cb)=>{\n    cb();\n} : React.startTransition;\n/**\n * An implementation of state with dependency-tracking.\n * @param initialState - The initial state object.\n */ const useStateWithDeps = (initialState)=>{\n    const [, rerender] = useState({});\n    const unmountedRef = useRef(false);\n    const stateRef = useRef(initialState);\n    // If a state property (data, error, or isValidating) is accessed by the render\n    // function, we mark the property as a dependency so if it is updated again\n    // in the future, we trigger a rerender.\n    // This is also known as dependency-tracking.\n    const stateDependenciesRef = useRef({\n        data: false,\n        error: false,\n        isValidating: false\n    });\n    /**\n   * Updates state and triggers re-render if necessary.\n   * @param payload To change stateRef, pass the values explicitly to setState:\n   * @example\n   * ```js\n   * setState({\n   *   isValidating: false\n   *   data: newData // set data to newData\n   *   error: undefined // set error to undefined\n   * })\n   *\n   * setState({\n   *   isValidating: false\n   *   data: undefined // set data to undefined\n   *   error: err // set error to err\n   * })\n   * ```\n   */ const setState = useCallback((payload)=>{\n        let shouldRerender = false;\n        const currentState = stateRef.current;\n        for(const key in payload){\n            if (Object.prototype.hasOwnProperty.call(payload, key)) {\n                const k = key;\n                // If the property has changed, update the state and mark rerender as\n                // needed.\n                if (currentState[k] !== payload[k]) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    currentState[k] = payload[k];\n                    // If the property is accessed by the component, a rerender should be\n                    // triggered.\n                    if (stateDependenciesRef.current[k]) {\n                        shouldRerender = true;\n                    }\n                }\n            }\n        }\n        if (shouldRerender && !unmountedRef.current) {\n            rerender({});\n        }\n    }, []);\n    useIsomorphicLayoutEffect(()=>{\n        unmountedRef.current = false;\n        return ()=>{\n            unmountedRef.current = true;\n        };\n    });\n    return [\n        stateRef,\n        stateDependenciesRef.current,\n        setState\n    ];\n};\n\nconst mutation = ()=>(key, fetcher, config = {})=>{\n        const { mutate } = useSWRConfig();\n        const keyRef = useRef(key);\n        const fetcherRef = useRef(fetcher);\n        const configRef = useRef(config);\n        // Ditch all mutation results that happened earlier than this timestamp.\n        const ditchMutationsUntilRef = useRef(0);\n        const [stateRef, stateDependencies, setState] = useStateWithDeps({\n            data: UNDEFINED,\n            error: UNDEFINED,\n            isMutating: false\n        });\n        const currentState = stateRef.current;\n        const trigger = useCallback(async (arg, opts)=>{\n            const [serializedKey, resolvedKey] = serialize(keyRef.current);\n            if (!fetcherRef.current) {\n                throw new Error('Can’t trigger the mutation: missing fetcher.');\n            }\n            if (!serializedKey) {\n                throw new Error('Can’t trigger the mutation: missing key.');\n            }\n            // Disable cache population by default.\n            const options = mergeObjects(mergeObjects({\n                populateCache: false,\n                throwOnError: true\n            }, configRef.current), opts);\n            // Trigger a mutation, and also track the timestamp. Any mutation that happened\n            // earlier this timestamp should be ignored.\n            const mutationStartedAt = getTimestamp();\n            ditchMutationsUntilRef.current = mutationStartedAt;\n            setState({\n                isMutating: true\n            });\n            try {\n                const data = await mutate(serializedKey, fetcherRef.current(resolvedKey, {\n                    arg\n                }), // We must throw the error here so we can catch and update the states.\n                mergeObjects(options, {\n                    throwOnError: true\n                }));\n                // If it's reset after the mutation, we don't broadcast any state change.\n                if (ditchMutationsUntilRef.current <= mutationStartedAt) {\n                    startTransition(()=>setState({\n                            data,\n                            isMutating: false,\n                            error: undefined\n                        }));\n                    options.onSuccess == null ? void 0 : options.onSuccess.call(options, data, serializedKey, options);\n                }\n                return data;\n            } catch (error) {\n                // If it's reset after the mutation, we don't broadcast any state change\n                // or throw because it's discarded.\n                if (ditchMutationsUntilRef.current <= mutationStartedAt) {\n                    startTransition(()=>setState({\n                            error: error,\n                            isMutating: false\n                        }));\n                    options.onError == null ? undefined : options.onError.call(options, error, serializedKey, options);\n                    if (options.throwOnError) {\n                        throw error;\n                    }\n                }\n            }\n        }, // eslint-disable-next-line react-hooks/exhaustive-deps\n        []);\n        const reset = useCallback(()=>{\n            ditchMutationsUntilRef.current = getTimestamp();\n            setState({\n                data: UNDEFINED,\n                error: UNDEFINED,\n                isMutating: false\n            });\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []);\n        useIsomorphicLayoutEffect(()=>{\n            keyRef.current = key;\n            fetcherRef.current = fetcher;\n            configRef.current = config;\n        });\n        // We don't return `mutate` here as it can be pretty confusing (e.g. people\n        // calling `mutate` but they actually mean `trigger`).\n        // And also, `mutate` relies on the useSWR hook to exist too.\n        return {\n            trigger,\n            reset,\n            get data () {\n                stateDependencies.data = true;\n                return currentState.data;\n            },\n            get error () {\n                stateDependencies.error = true;\n                return currentState.error;\n            },\n            get isMutating () {\n                stateDependencies.isMutating = true;\n                return currentState.isMutating;\n            }\n        };\n    };\n/**\n * A hook to define and manually trigger remote mutations like POST, PUT, DELETE and PATCH use cases.\n *\n * @link https://swr.vercel.app/docs/mutation\n * @example\n * ```jsx\n * import useSWRMutation from 'swr/mutation'\n *\n * const {\n *   data,\n *   error,\n *   trigger,\n *   reset,\n *   isMutating\n * } = useSWRMutation(key, fetcher, options?)\n * ```\n */ const useSWRMutation = withMiddleware(useSWR, mutation);\n\nexport { useSWRMutation as default };\n","\nexport { fetchAPIFromBackendListWithErrorHandling as \"6070dc5bab919eb75a74cd481130eea0e7254e4903\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/server/index.ts\"\nexport { fetchFromBackend as \"7fa8fce456b40602ad1b55cd792025843697a22593\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/server/index.ts\"\nexport { default as \"7fdadbeee5140d04dc8643d8360b13e3285fc0fc6d\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/server/index.ts\"\nexport { getRawAPIPath as \"7ff8556083af83549524853a21f33044fa2c86b4cf\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/server/index.ts\"\nexport { default as \"7f63b9137fe0719f43aac6c2c067fbeca98771df9c\" } from \"/home/runner/work/campwiz-frontend/campwiz-frontend/server/session.ts\"\n","\"use client\";\nimport { WikimediaUsername } from \"@/types\";\nimport { Autocomplete, TextField } from \"@mui/material\";\nimport { useState } from \"react\";\nimport useSWR from \"swr\";\n\ntype UserInputProps = {\n    value: WikimediaUsername[],\n    onChange: (users: WikimediaUsername[]) => void\n    label: string\n    allowList?: WikimediaUsername[]\n    disabled?: boolean\n    sx?: { [key: string]: unknown }\n}\nconst base = `https://commons.wikimedia.org/w/api.php?action=query&list=allusers&aulimit=10&format=json&origin=*&auprefix=`\nconst UserInput = (props: UserInputProps) => {\n    const [inputValue, setInputValue] = useState<string>('');\n    const fetcher = async (url: string) => {\n        if (props.allowList && props.allowList.length > 0) {\n            return props.allowList;\n        }\n        const response = await fetch(url);\n        const data = await response.json();\n        return data?.query.allusers.map((user: { name: string }) => user.name) ?? []\n    }\n    const { isLoading, data: options } = useSWR(inputValue === '' ? null : base + inputValue, fetcher, {\n        onLoadingSlow(key, config) {\n            console.log('loading slow', key, config)\n        },\n        revalidateOnFocus: false, revalidateOnReconnect: false,\n    });\n    return (\n        <Autocomplete\n            multiple\n            id={props.label}\n            options={options || props.allowList || []}\n            getOptionLabel={(option) => option}\n            filterSelectedOptions\n            value={props.value}\n            onError={(e) => console.error(e)}\n            disabled={props.disabled}\n            loading={isLoading}\n            onChange={(_, updatedUsers) => props.onChange(updatedUsers)}\n            sx={{ mb: 1, ...(props.sx || {}) }}\n            renderInput={(params) => (\n                <TextField\n                    {...params}\n                    variant=\"outlined\"\n                    label={props.label}\n                    placeholder={props.label}\n                    value={inputValue}\n                    onChange={(e) => setInputValue(e.target.value)}\n                />\n            )}\n        />\n    );\n}\nexport default UserInput;","import { createServerReference, callServer, findSourceMapURL } from 'private-next-rsc-action-client-wrapper'\nexport default /*#__PURE__*/createServerReference(\"7fdadbeee5140d04dc8643d8360b13e3285fc0fc6d\", callServer, undefined, findSourceMapURL, \"default\")","\"use client\"\nimport Button, { ButtonProps } from \"@mui/material/Button\";\nimport LeftArrowIcon from \"@mui/icons-material/ArrowBackIosNew\";\nimport IconButtton from \"@mui/material/IconButton\";\nimport { usePathname } from \"next/navigation\";\nimport { useMediaQuery } from \"@mui/material\";\nimport Link from \"next/link\";\ntype ReturnButtonProps = {\n    disabled?: boolean\n    sx?: ButtonProps['sx'],\n    hiddenIn?: string[],\n    alwaysBig?: boolean,\n    to?: string\n}\nconst B = ({ onClick, isSmall, alwaysBig, sx, disabled }: { onClick?: () => void, isSmall: boolean, alwaysBig: boolean, sx?: ButtonProps['sx'], disabled?: boolean }) => (\n    !isSmall || alwaysBig ? (\n        <Button\n            onClick={onClick}\n            variant=\"text\"\n            color=\"primary\"\n            startIcon={<LeftArrowIcon />}\n            sx={sx}\n            disabled={disabled}\n        >\n            {!isSmall && 'Return'}\n        </Button>\n    ) : (\n        <IconButtton\n            disabled={disabled}\n            sx={{ m: 0.5, cursor: 'pointer', display: 'inline-block', ...(sx || {}), zIndex: 20 }}\n            onClick={onClick}\n            color=\"primary\"\n            className=\"absolute left-4 z-20 m-1\"\n        >\n            <LeftArrowIcon />\n        </IconButtton>\n    )\n)\nconst ReturnButton = ({ disabled, sx, hiddenIn, alwaysBig = false, to }: ReturnButtonProps) => {\n    const pathName = usePathname()\n    const isSmall = useMediaQuery(theme => theme.breakpoints.down('sm'));\n    if (hiddenIn) {\n        for (const path of hiddenIn) {\n            const r = new RegExp(path)\n            if (r.test(pathName)) {\n                return null\n            }\n        }\n    }\n    const onClick = () => {\n        if (typeof window !== 'undefined') {\n            if (to)\n                window.location.replace(to)\n            else\n                window.history.back()\n        }\n    }\n    return to ? <Link href={to}>\n        <B isSmall={isSmall} alwaysBig={alwaysBig} sx={sx} disabled={disabled} />\n    </Link> : <B onClick={onClick} isSmall={isSmall} alwaysBig={alwaysBig} sx={sx} disabled={disabled} />\n}\nexport default ReturnButton","import Image from 'next/image'\nimport LogoSvg from '@/public/logo.svg'\nimport Link from 'next/link'\nconst Logo = () => (\n    <Link href=\"/\" className='cursor-pointer'>\n        <Image src={LogoSvg} alt=\"Logo of CampWiz\" height={80} style={{ margin: 'auto' }} />\n    </Link>\n)\nexport default Logo","export default {\"src\":\"/_next/static/media/logo.0626e2b9.svg\",\"height\":768,\"width\":1366,\"blurWidth\":0,\"blurHeight\":0};","\"use server\"\nimport { ResponseCookie } from \"next/dist/compiled/@edge-runtime/cookies\";\nimport { ResponseError, ResponseList, ResponseSingle } from \"../types/_\";\nimport { cookies, headers } from 'next/headers'\nimport * as Sentry from '@sentry/nextjs';\nconst baseURL = process.env.NEXT_BASE_URL || ''\nconst API_PATH = '/api/v2';\nconst parseCookieString = (cookieString: string): ResponseCookie => {\n    const parts = cookieString.split(';')\n    const cookie: ResponseCookie = {\n        name: '',\n        value: '',\n    }\n    for (const part of parts) {\n        const [key, value] = part.split('=')\n        switch (key.trim().toLowerCase()) {\n            case 'path':\n                cookie.path = value\n                break\n            case 'domain':\n                cookie.domain = value\n                break\n            case 'expires':\n                cookie.expires = value ? new Date(value) : undefined\n                break\n            case 'max-age':\n                cookie.maxAge = parseInt(value)\n                break\n            case 'secure':\n                cookie.secure = true\n                break\n            case 'httponly':\n                cookie.httpOnly = true\n                break\n            case 'samesite':\n                cookie.sameSite = value as 'strict' | 'lax' | 'none'\n                break\n            default:\n                cookie.name = key\n                cookie.value = value\n        }\n    }\n    return cookie\n}\nexport const fetchFromBackend = async (path: string, options?: RequestInit): Promise<Response> => {\n    const cookieStore = await cookies()\n    const headerStore = await headers()\n    const injectedHeaders: Record<string, string> = {\n        'X-Requested-With': 'fetchFromBackend',\n        'User-Agent': headerStore.get('user-agent') || 'From Backend',\n        'Accept': headerStore.get('accept') || 'application/json',\n        'Accept-Language': headerStore.get('accept-language') || 'en-US,en;q=0.9',\n        'Accept-Encoding': headerStore.get('accept-encoding') || 'gzip, deflate, br',\n        'Referer': headerStore.get('referer') || baseURL,\n        'Origin': headerStore.get('origin') || baseURL,\n        'X-CSRF-Token': headerStore.get('x-csrf-token') || '',\n        ...Sentry.getTraceData(),\n    }\n\n    if (options === undefined) {\n        options = {}\n    }\n    if (options.headers === undefined) {\n        options.headers = new Headers(injectedHeaders)\n    } else {\n        let headersObj: Headers;\n        if (options.headers instanceof Headers) {\n            headersObj = options.headers;\n        } else {\n            headersObj = new Headers(options.headers as Record<string, string>);\n        }\n        for (const [key, value] of headersObj.entries()) {\n            if (key.toLowerCase() === 'cookie') {\n                continue // Skip cookies from headers, we will handle them separately\n            } else {\n                injectedHeaders[key] = value as string\n            }\n        }\n        options.headers = new Headers(injectedHeaders)\n    }\n    options.headers.append('Cookie', cookieStore.toString())\n    if (!options.headers.has('Content-Type')) {\n        options.headers.append('Content-Type', 'application/json')\n    }\n    options.credentials = 'same-origin'\n    const res = await fetch(`${baseURL}${path}`, options)\n    for (const [key, value] of res.headers.entries()) {\n        if (key.toLowerCase() === 'set-cookie') {\n            const cookie = parseCookieString(value)\n            cookieStore.set(cookie)\n\n        }\n    }\n    return res\n}\nexport const getRawAPIPath = async function (path: string): Promise<string> {\n    const base = baseURL.search(/localhost/) === -1 ? baseURL : ''\n    return `${base}${API_PATH}${path}`\n}\nasync function fetchAPIFromBackendSingleWithErrorHandling<T>(path: string, req?: RequestInit): Promise<ResponseSingle<T> | ResponseError> {\n    try {\n        const res = await fetchFromBackend(`${API_PATH}${path}`, req)\n        const r = await res.json();\n        if (res.ok) {\n            return r\n        } else {\n            return {\n                detail: r.detail\n            }\n        }\n    } catch (e) {\n        return {\n            detail: (e as Error).message\n        }\n    }\n\n}\nexport async function fetchAPIFromBackendListWithErrorHandling<T>(path: string, req?: RequestInit): Promise<ResponseList<T> | ResponseError> {\n    try {\n        const res = await fetchFromBackend(`${API_PATH}${path}`, req)\n        const r = await res.json();\n        if (res.ok) {\n            return r\n        } else {\n            return {\n                detail: r.detail\n            }\n        }\n    } catch (e) {\n        return {\n            detail: (e as Error).message\n        }\n    }\n\n}\nexport default fetchAPIFromBackendSingleWithErrorHandling;\n"],"names":["fetchSession","res","fetchAPIFromBackendSingleWithErrorHandling","cache","next","revalidate","session","data","console","log","id","username","setUser","permission","projectId","registeredAt","inputValue","setInputValue","useState","fetcher","UserInput","url","props","allowList","length","response","fetch","json","query","allusers","map","user","name","isLoading","options","useSWR","base","onLoadingSlow","key","config","revalidateOnFocus","revalidateOnReconnect","Autocomplete","multiple","label","getOptionLabel","option","filterSelectedOptions","value","onError","error","e","disabled","loading","onChange","_","updatedUsers","sx","mb","renderInput","TextField","params","variant","placeholder","target","B","onClick","isSmall","alwaysBig","Button","color","startIcon","LeftArrowIcon","IconButtton","m","cursor","display","zIndex","className","hiddenIn","ReturnButton","to","pathName","usePathname","useMediaQuery","theme","breakpoints","down","path","test","Link","href","Logo","Image","src","LogoSvg","alt","height","style","margin","baseURL","process","env","NEXT_BASE_URL","API_PATH","parseCookieString","parts","cookieString","split","cookie","part","trim","toLowerCase","domain","expires","Date","undefined","maxAge","parseInt","secure","httpOnly","sameSite","fetchFromBackend","cookieStore","cookies","headerStore","headers","injectedHeaders","get","Sentry","Headers","headersObj","entries","append","toString","has","credentials","set","search","req","r","ok","detail","message","fetchAPIFromBackendListWithErrorHandling","getRawAPIPath"],"sourceRoot":""}