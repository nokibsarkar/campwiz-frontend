try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},i=(new e.Error).stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="f525afdc-c614-4ed1-ae37-c4cdc1cc0ecd",e._sentryDebugIdIdentifier="sentry-dbid-f525afdc-c614-4ed1-ae37-c4cdc1cc0ecd")}catch(e){}"use strict";exports.id=363,exports.ids=[363],exports.modules={3673:(e,i,t)=>{t.d(i,{j:()=>a,p:()=>o});var r=t(48636),n=t.n(r),l=t(66057);let a={allowedMediaTypes:[l.z.IMAGE,l.z.AUDIO,l.z.VIDEO],type:l.F.BINARY,startDate:n()().toISOString(),endDate:n()().toISOString(),name:"",description:"",isPublicJury:!1,allowJuryToParticipate:!0,campaignId:"",jury:[],isOpen:!1,serial:0,allowMultipleJudgement:!0,secretBallot:!0,blacklist:"",audioMinimumDurationMilliseconds:0,audioMinimumSizeBytes:0,videoMinimumDurationMilliseconds:0,videoMinimumSizeBytes:0,videoMinimumResolution:0,imageMinimumResolution:2e6,imageMinimumSizeBytes:0,maximumSubmissionOfSameArticle:1,articleAllowExpansions:!0,articleAllowCreations:!0,articleMinimumTotalBytes:0,articleMinimumTotalWords:0,articleMinimumAddedBytes:0,articleMinimumAddedWords:0,quorum:1},o=(e,i)=>({...e,...i})},70363:(e,i,t)=>{t.r(i),t.d(i,{default:()=>v});var r=t(49431),n=t(98568),l=t(60846),a=t(49484),o=t(9702),s=t(11711),d=t(87472),u=t(42515);let c=(0,u.createServerReference)("7f49701ea0d35a4f4035a0b8fe0ff22aa1f996704a",u.callServer,void 0,u.findSourceMapURL,"default");var m=t(27490),f=t.n(m),M=t(3673),y=t(98533),p=t(78306),x=t(13418),g=t(67879),b=t(10335),S=t(72168),A=t(30760);let h=(0,m.lazy)(()=>Promise.all([t.e(4015),t.e(171)]).then(t.bind(t,50171))),j=f().forwardRef(function(e,i){return(0,r.jsx)(p.A,{direction:"up",ref:i,...e})});var w=function(e){return e.CREATE="create",e.IMPORT="import",e.DISTRIBUTE="distribute",e.SUCCESS="success",e}(w||{});let v=({campaignId:e,onClose:i})=>{let[t,u]=(0,m.useReducer)(M.p,{...M.j,campaignId:e}),[f,p]=(0,m.useState)(!1),[w,v]=(0,m.useState)(null),[I,B]=(0,m.useState)("create"),[C,R]=(0,m.useState)(""),[D,z]=(0,m.useState)(null),[T,E]=(0,m.useState)(null),k=(0,m.useCallback)(async()=>{p(!0);try{v(null),t.articleMinimumAddedBytes=+t.articleMinimumAddedBytes,t.articleMinimumAddedWords=+t.articleMinimumAddedWords,t.articleMinimumTotalBytes=+t.articleMinimumTotalBytes,t.articleMinimumTotalWords=+t.articleMinimumTotalWords,t.imageMinimumSizeBytes=+t.imageMinimumSizeBytes,t.imageMinimumResolution=+t.imageMinimumResolution,t.videoMinimumSizeBytes=+t.videoMinimumSizeBytes,t.videoMinimumResolution=+t.videoMinimumResolution,t.videoMinimumDurationMilliseconds=+t.videoMinimumDurationMilliseconds,t.audioMinimumSizeBytes=+t.audioMinimumSizeBytes,t.audioMinimumDurationMilliseconds=+t.audioMinimumDurationMilliseconds;let e=await c(t);if(!e)throw Error("Round creation failed");if("detail"in e)throw Error(e.detail);let i=e.data;E(i),B("import")}catch(e){console.error(e),v(e.message)}finally{p(!1)}},[t]),O=(0,m.useCallback)(async e=>{if(z(e),!T)throw Error("Round not created yet");if(T.isPublicJury)return void B("success");B("distribute");let i=await (0,b.A)(T.roundId,t.jury);if("detail"in i)throw Error(i.detail);R(i.data.taskId)},[T,t.jury]),W=(0,m.useMemo)(()=>{if(!T)return null;if("import"===I)if(T.dependsOnRoundId)return(0,r.jsx)(S.A,{round:T,distribute:O,onClose:i});else return(0,r.jsx)(g.A,{round:T,onClose:i,distribute:O});return"success"===I&&D?(0,r.jsx)(A.t,{onClose:i,round:T,task:D}):null},[T,O,D,i,I]);return T&&W?W:(0,r.jsxs)(n.A,{open:!0,sx:{width:{xs:"100%",sm:"80%"},margin:"auto","& .MuiDialog-paper":{width:"100%",maxWidth:"100%"}},slots:{transition:j},onClose:i,children:[(0,r.jsx)(l.A,{children:"Create a new round"}),(0,r.jsxs)(a.A,{children:[w&&(0,r.jsx)(o.default,{variant:"h6",color:"error",sx:{m:2,textAlign:"center"},children:w}),f&&(0,r.jsx)(y.A,{src:"/lottie/loading.lottie"}),"create"===I&&(0,r.jsx)(h,{...t,loading:f,dispatch:u}),"distribute"===I&&(0,r.jsx)(x.A,{taskId:C,onSuccess:console.log})]}),(0,r.jsxs)(s.A,{sx:{justifyContent:"space-between",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center"},children:[(0,r.jsx)(d.default,{onClick:i,variant:"outlined",color:"error",disabled:f,children:"Cancel"}),"create"===I?(0,r.jsx)(d.default,{onClick:k,variant:"contained",color:"success",disabled:f,loading:f,children:"Create Round"}):(0,r.jsx)(d.default,{onClick:i,variant:"contained",color:"error",disabled:f,children:"Close"})]})]})}},98533:(e,i,t)=>{t.d(i,{A:()=>l});var r=t(49431),n=t(35757);let l=({src:e="/lottie/loading.lottie"})=>(0,r.jsx)("div",{className:"loading-popup fixed top-0 left-0 w-full h-full bg-transparent z-50 flex items-center justify-center flex-col backdrop-blur-[2px]",children:(0,r.jsx)(n.default,{src:e})})}};
//# sourceMappingURL=363.js.map