try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},i=(new e.Error).stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="cc6341e2-017a-4401-bb82-7b4af9c01f97",e._sentryDebugIdIdentifier="sentry-dbid-cc6341e2-017a-4401-bb82-7b4af9c01f97")}catch(e){}"use strict";exports.id=3100,exports.ids=[3100],exports.modules={3673:(e,i,t)=>{t.d(i,{j:()=>l,p:()=>a});var n=t(48636),r=t.n(n),s=t(66057);let l={allowedMediaTypes:[s.z.IMAGE,s.z.AUDIO,s.z.VIDEO],type:s.F.BINARY,startDate:r()().toISOString(),endDate:r()().toISOString(),name:"",description:"",isPublicJury:!1,allowJuryToParticipate:!0,campaignId:"",jury:[],isOpen:!1,serial:0,allowMultipleJudgement:!0,secretBallot:!0,blacklist:"",audioMinimumDurationMilliseconds:0,audioMinimumSizeBytes:0,videoMinimumDurationMilliseconds:0,videoMinimumSizeBytes:0,videoMinimumResolution:0,imageMinimumResolution:2e6,imageMinimumSizeBytes:0,maximumSubmissionOfSameArticle:1,articleAllowExpansions:!0,articleAllowCreations:!0,articleMinimumTotalBytes:0,articleMinimumTotalWords:0,articleMinimumAddedBytes:0,articleMinimumAddedWords:0,quorum:1},a=(e,i)=>({...e,...i})},73100:(e,i,t)=>{t.r(i),t.d(i,{default:()=>I});var n=t(49431),r=t(98568),s=t(60846),l=t(49484),a=t(9702),o=t(11711),d=t(87472),u=t(43340),c=t(42515);let f=(0,c.createServerReference)("7f6f301c9474ce02cc290e0a672a1fae0004d9cb0a",c.callServer,void 0,c.findSourceMapURL,"updateRound");var m=t(27490),x=t.n(m),p=t(3673),y=t(98533),b=t(78306),h=t(84091);let j=(0,m.lazy)(()=>Promise.all([t.e(4015),t.e(171)]).then(t.bind(t,50171))),g=x().forwardRef(function(e,i){return(0,n.jsx)(b.A,{direction:"up",ref:i,...e})});var w=function(e){return e.EDIT="edit",e.DISTRIBUTE="distribute",e.DISTRIBUTING="distributing",e.SUCCESS="success",e}(w||{});let A=({campaignId:e,onClose:i,existingRound:t,setUpdatedRound:c,setStage:x})=>{let[b,h]=(0,m.useReducer)(p.p,{...t,jury:Object.values(t?.jury||{}),campaignId:e}),[w,A]=(0,m.useState)(!1),[I,S]=(0,m.useState)(null),v=(0,m.useMemo)(()=>{if(b.isPublicJury)return!1;if(t.quorum!==b.quorum)return!0;let e=new Set(Object.values(t.jury||{}));if(b.jury.length!==e.size)return!0;let i=new Set(b.jury||[]);return e.intersection(i).size!==e.size},[t.jury,t.quorum,b.isPublicJury,b.jury,b.quorum]),M=(0,m.useCallback)(async()=>{A(!0);try{S(null);let e=await f(t.roundId,b);if(!e)throw Error("Round creation failed");if("detail"in e)throw Error(e.detail);let i=e.data;c(i),v?x("distribute"):x("success")}catch(e){console.error(e),S(e.message)}finally{A(!1)}},[t.roundId,v,b,x,c]);return(0,n.jsxs)(r.A,{open:!0,sx:{width:{xs:"100%",sm:"80%"},margin:"auto","& .MuiDialog-paper":{width:"100%",maxWidth:"100%"}},slots:{transition:g},onClose:i,children:[(0,n.jsx)(s.A,{sx:{textAlign:"center"},component:"h2",variant:"h4",children:"Update Round"}),(0,n.jsxs)(l.A,{children:[I&&(0,n.jsx)(a.default,{variant:"h6",color:"error",sx:{m:2,textAlign:"center"},children:I}),w&&(0,n.jsx)(y.A,{src:"/lottie/loading.lottie"}),(0,n.jsx)(j,{...b,loading:w,dispatch:h,hideAdvanced:!0})]}),(0,n.jsxs)(o.A,{sx:{justifyContent:"space-between",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center"},children:[(0,n.jsx)(d.default,{onClick:i,variant:"outlined",color:"error",disabled:w,children:"Cancel"}),(0,n.jsxs)(d.default,{onClick:M,variant:"contained",color:"success",disabled:w,children:[(0,n.jsx)(u.A,{size:24,color:"inherit",sx:{display:w?"inline-block":"none",mr:1}}),"Update Round"]})]})]})},I=({campaignId:e,onClose:i,existingRound:t})=>{let[u,c]=(0,m.useState)("edit"),[f,x]=(0,m.useState)(null);return"edit"===u?(0,n.jsx)(A,{campaignId:e,onClose:i,existingRound:t,setUpdatedRound:x,setStage:c}):"distribute"===u?(0,n.jsx)(h.A,{roundId:f?.roundId||"",juries:Object.values(f?.jury||{}),afterDistribution:()=>{c("success")},onClose:i}):"success"===u?(0,n.jsxs)(r.A,{open:!0,sx:{width:{xs:"100%",sm:"80%"},margin:"auto","& .MuiDialog-paper":{width:"100%",maxWidth:"100%"}},onClose:i,children:[(0,n.jsx)(s.A,{sx:{textAlign:"center"},component:"h2",variant:"h4",children:"Round Updated"}),(0,n.jsx)(l.A,{children:(0,n.jsx)(a.default,{variant:"h6",sx:{m:2,textAlign:"center"},children:"Round has been successfully updated"})}),(0,n.jsx)(o.A,{sx:{justifyContent:"center",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center"},children:(0,n.jsx)(d.default,{onClick:i,variant:"contained",color:"success",children:"Close"})})]}):null}},98533:(e,i,t)=>{t.d(i,{A:()=>s});var n=t(49431),r=t(35757);let s=({src:e="/lottie/loading.lottie"})=>(0,n.jsx)("div",{className:"loading-popup fixed top-0 left-0 w-full h-full bg-transparent z-50 flex items-center justify-center flex-col backdrop-blur-[2px]",children:(0,n.jsx)(r.default,{src:e})})}};
//# sourceMappingURL=3100.js.map